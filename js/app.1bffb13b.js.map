{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?563e","webpack:///./src/components/Preferences.vue?c5b7","webpack:///./src/data/user.js","webpack:///src/components/Preferences.vue","webpack:///./src/components/Preferences.vue?cdae","webpack:///./src/components/Preferences.vue","webpack:///./src/components/PremiumDialog.vue?654f","webpack:///src/components/PremiumDialog.vue","webpack:///./src/components/PremiumDialog.vue?cd90","webpack:///./src/components/PremiumDialog.vue","webpack:///./src/components/VideoGuide.vue?4eeb","webpack:///./src/data/chrome.js","webpack:///src/components/VideoGuide.vue","webpack:///./src/components/VideoGuide.vue?92b8","webpack:///./src/components/VideoGuide.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?37bd","webpack:///./src/data/toc.js","webpack:///./src/data/marpol.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/views/Instrument.vue?daa2","webpack:///./src/components/TOCMenu.vue?749c","webpack:///./src/utils.js","webpack:///./src/components/VersionChooser.vue?f28b","webpack:///src/components/VersionChooser.vue","webpack:///./src/components/VersionChooser.vue?b0e6","webpack:///./src/components/VersionChooser.vue","webpack:///src/components/TOCMenu.vue","webpack:///./src/components/TOCMenu.vue?0117","webpack:///./src/components/TOCMenu.vue?08ab","webpack:///./src/components/Gutter.vue?b95e","webpack:///./src/decorations/InternalRef.vue?69e7","webpack:///src/decorations/InternalRef.vue","webpack:///./src/decorations/InternalRef.vue?8dd5","webpack:///./src/decorations/InternalRef.vue","webpack:///./src/decorations/IncomingRefs.vue?51f9","webpack:///src/decorations/IncomingRefs.vue","webpack:///./src/decorations/IncomingRefs.vue?e5e0","webpack:///./src/decorations/IncomingRefs.vue","webpack:///./src/decorations/InfoBox.vue?8edb","webpack:///src/decorations/InfoBox.vue","webpack:///./src/decorations/InfoBox.vue?ee64","webpack:///./src/decorations/InfoBox.vue","webpack:///./src/decorations/Footnote.vue?784a","webpack:///src/decorations/Footnote.vue","webpack:///./src/decorations/Footnote.vue?bc2b","webpack:///./src/decorations/Footnote.vue","webpack:///./src/decorations/Commencement.vue?8035","webpack:///src/decorations/Commencement.vue","webpack:///./src/decorations/Commencement.vue?2e7e","webpack:///./src/decorations/Commencement.vue","webpack:///./src/decorations/ExternalForm.vue?99d1","webpack:///src/decorations/ExternalForm.vue","webpack:///./src/decorations/ExternalForm.vue?2b47","webpack:///./src/decorations/ExternalForm.vue","webpack:///./src/decorations/Diffset.vue?d606","webpack:///./src/components/Diff.vue?06c9","webpack:///src/components/Diff.vue","webpack:///./src/components/Diff.vue?b948","webpack:///./src/components/Diff.vue","webpack:///src/decorations/Diffset.vue","webpack:///./src/decorations/Diffset.vue?9305","webpack:///./src/decorations/Diffset.vue","webpack:///./src/decorations/decorations.js","webpack:///./src/components/GutterMarker.vue?cc30","webpack:///src/components/GutterMarker.vue","webpack:///./src/components/GutterMarker.vue?b0e9","webpack:///./src/components/GutterMarker.vue","webpack:///src/components/Gutter.vue","webpack:///./src/components/Gutter.vue?8521","webpack:///./src/components/Gutter.vue","webpack:///./src/components/Toolbar.vue?fbb7","webpack:///./src/components/Search.vue?e884","webpack:///src/components/Search.vue","webpack:///./src/components/Search.vue?f472","webpack:///./src/components/Search.vue","webpack:///./src/components/Applicability.vue?1654","webpack:///src/components/Applicability.vue","webpack:///./src/components/Applicability.vue?854e","webpack:///./src/components/Applicability.vue","webpack:///src/components/Toolbar.vue","webpack:///./src/components/Toolbar.vue?2909","webpack:///./src/components/Toolbar.vue?ae14","webpack:///src/views/Instrument.vue","webpack:///./src/views/Instrument.vue?84f6","webpack:///./src/views/Instrument.vue","webpack:///./src/views/History.vue?abbe","webpack:///./src/components/HistoryItem.vue?1fff","webpack:///src/components/HistoryItem.vue","webpack:///./src/components/HistoryItem.vue?9d68","webpack:///./src/components/HistoryItem.vue","webpack:///src/views/History.vue","webpack:///./src/views/History.vue?af82","webpack:///./src/views/History.vue","webpack:///./src/views/Login.vue?4494","webpack:///./src/data/lastPath.js","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/views/Changeset.vue?1f4f","webpack:///./src/components/ChangesetSidebar.vue?3899","webpack:///./src/data/amendments.js","webpack:///./src/components/DraftAmendingText.vue?44e7","webpack:///src/components/DraftAmendingText.vue","webpack:///./src/components/DraftAmendingText.vue?2b6a","webpack:///./src/components/DraftAmendingText.vue","webpack:///./src/components/AmendmentPanel.vue?f645","webpack:///src/components/AmendmentPanel.vue","webpack:///./src/components/AmendmentPanel.vue?a882","webpack:///./src/components/AmendmentPanel.vue","webpack:///src/components/ChangesetSidebar.vue","webpack:///./src/components/ChangesetSidebar.vue?181e","webpack:///./src/components/ChangesetSidebar.vue","webpack:///./src/components/ChangesetContent.vue?bdff","webpack:///src/components/ChangesetContent.vue","webpack:///./src/components/ChangesetContent.vue?1754","webpack:///./src/components/ChangesetContent.vue","webpack:///./src/components/ChangesetText.vue?1fba","webpack:///src/components/ChangesetText.vue","webpack:///./src/components/ChangesetText.vue?0c28","webpack:///./src/components/ChangesetText.vue","webpack:///./src/data/changesets.js","webpack:///src/views/Changeset.vue","webpack:///./src/views/Changeset.vue?c2a3","webpack:///./src/views/Changeset.vue","webpack:///./src/views/Changesets.vue?9332","webpack:///src/views/Changesets.vue","webpack:///./src/views/Changesets.vue?6aef","webpack:///./src/views/Changesets.vue","webpack:///./src/router/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/TOCMenu.vue?5fb8","webpack:///./src/components/Toolbar.vue?1417"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","_v","chrome","on","$event","stopPropagation","expandDrawer","_e","user","staticRenderFns","staticClass","scopedSlots","_u","fn","ref","_g","_b","save","model","callback","$$v","sansSerifFont","expression","fontSize","initialUser","premium","preferences","settings","footnotesAside","commencements","incomingRefs","internalRefs","infoboxes","loadUser","localStorage","getItem","JSON","parse","saveUser","setItem","stringify","downgradeUser","upgradeUser","methods","VBtn","VCard","VCheckbox","VDivider","VMenu","VTextField","subscribed","dialog","directives","rawName","onUpgrade","_s","onDowngrade","onClose","VAlert","VCardActions","VCardText","VCardTitle","VDialog","VSpacer","src","showDrawerToggle","diffPrevious","guide","matchWindowSize","screenSize","matchMedia","matches","computed","reading","amending","VIcon","components","VApp","VAppBar","VAppBarNavIcon","VMain","VSystemBar","VTab","VTabs","helpDialog1","helpDialog2","_l","expr","ix","expression_date","TableOfContents","items","itemsById","Map","indexItems","parent","item","sortKey","size","set","id","children","element","getAttribute","parentElement","elementId","has","lastIndexOf","toc","closestTocEntryForId","major","part","chapter","attachment","type","friendlyShortTitle","prefix","num","title","expressions","marpol","aknDoc","DOMParser","parseFromString","content_html","aknRoot","body","firstElementChild","Marpol","history","latest_expression","diffsets","diffsetsForExpression","filter","expression_frbr_uri","groupDiffsetsByElement","groups","diffset","element_id","VContainer","active","class","containerClasses","classes","style","gutterItems","openVersionDialog","search","open","expandAll","openOnClick","activeUpdated","clicked","scrollToId","document","querySelectorAll","el","classList","remove","getElementById","add","top","getBoundingClientRect","scrollY","scrollTo","date","href","VDatePicker","props","VersionChooser","versionDialog","location","hash","recursiveExpand","arr","forEach","concat","$refs","watch","newValue","mounted","activeId","setTimeout","VCol","VList","VListItem","VListItemContent","VListItemIcon","VListItemSubtitle","VListItemTitle","VRow","VSheet","VTreeview","clearPrimary","activated","VChip","info","colour","icon","content","link","link_text","VCardSubtitle","akn","appendChild","footnote","Ripple","provision_type","msg","alert","currExpression","prevExpression","options","switchToSide","staticStyle","domProps","html_diff","beforeMount","map","text","substring","find","show","VSelect","VSwitch","vuetify","Vuetify","installed","x","framework","breakpoint","PopupRefs","root","createWrapper","createTippy","wrapper","createElement","className","tippy","getTriggerElements","appendTo","hideOnClick","interactive","maxWidth","onTrigger","onUntrigger","theme","reference","event","provision","getReferenceElement","cloneNode","setContent","querySelector","PopupDefinitionRefs","term","def","closest","DecorationLayout","decorations","wait","buffer","_primary","tops","layout","ResizeObserver","observer","debounce","observe","decoration","updateTops","sort","a","b","indexOf","layoutUpwards","layoutDownwards","clientHeight","start","watermark","Math","max","WeakMap","calculateTop","offsetTop","offsetParent","footnoteDecorations","documentRoot","Component","Vue","extend","Footnote","$mount","console","warn","incomingRefDecorations","IncomingRefs","incoming","refs","references","unique","Set","tocEntry","closestTocEntry","_infoDecorations","getInfoDecorations","InfoBox","Promise","resolve","unpack","Papa","download","header","complete","results","commencementDecorations","Commencement","remark","textContent","dates","contains","insertBefore","$el","formDecorations","ExternalForm","forms","form","nextElementSibling","diffDecorations","Diffset","group","remarks","button","innerText","addEventListener","e","preventDefault","childNodes","addDecorations","gutter","getAsyncDecorations","activate","main","$emit","toggle","styles","markers","$nextTick","primary","marker","reset","init","computedTop","closeSearchDialog","closeApplicabilityDialog","featureDialog","$set","_k","keyCode","jumpToNext","needle","currentIndex","marks","jumpToPrevious","close","keepTogether","scope","searching","jumpTo","currentMark","position","mark","unmark","done","markResults","separateWordSearch","grossTonnage","constructionDate","criteria","getCriteria","match","val","attr","some","values","parseInt","criterion","constructionStartDate","newCriteria","constructionEndDate","minGrossTonnage","Number","maxGrossTonnage","$vuetify","application","bar","searchMenu","isActive","applicabilityDialog","applicabilityMenu","VForm","VToolbar","idsInToc","f","ids","TOCMenu","Gutter","Toolbar","$route","to","params","frbr_uri","from","container","innerHTML","insertAkn","observeProvisions","then","IntersectionObserver","disconnect","navigator","userAgent","rootMargin","threshold","VNavigationDrawer","index","convertDate","convertUrl","amending_uri","splitUrl","capitalize","changes","showChanges","change","tocItem","determineChanges","newHistory","str","replace","splitString","split","MEPCResolution","completeUrl","VExpandTransition","VTimelineItem","VTimeline","passwordValidity","passwordRules","showPassword","inputFieldType","submit","togglePasswordVisibility","password","lastPath","path","setPath","$router","changeset","scrollToAmendment","appliedAmendments","amendmentTextDialog","amendmentsDialog","amendment","addAmendment","expanded","removeAmendment","diffCache","getDiff","before","after","fetch","method","response","status","json","diff","AmendableExpression","pristine","applyAmendments","clone","applyAmendment","afterElementId","insertAdjacentElement","parentNode","replaceChild","outerHTML","Amendment","variant","setVariant","closestMajorTocEntryForId","variants","v","amends","html","previous","pop","child","lastChild","nodeType","TEXT_NODE","rawAmendments","amendmentVariants","amendments","aknHtml","closed","updateAknHtml","generateAmendmentHtml","getVariants","confirm","VRadio","VRadioGroup","available","sortedAmendments","tocA","tocB","undefined","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","displayDiffs","displayDiff","prev","diffAmendment","goTo","offset","entry","headingPrefix","headingSuffix","description","details","ChangesetTextGenerator","ChangesetText","Changeset","generator","_id","changesets","newChangeset","original","today","DateTime","now","chg","toISODate","deleteChangeset","proxy","doc_id","addChangeset","sortedChangesets","VSimpleTable","use","VueRouter","routes","component","Home","meta","requiresAuth","redirect","Instrument","History","Changesets","Login","guest","router","base","process","scrollBehavior","savedPositions","beforeResolve","next","matched","default","beforeEach","record","fullPath","nextUrl","config","productionTip","render","h","App","created","sessionStorage"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,s085UCvJL,EAAS,WAAa,IAAIyC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,IAAM,GAAG,OAAS,OAAO,MAAQ,WAAW,CAACF,EAAG,YAAYA,EAAG,OAAO,CAACJ,EAAIO,GAAG,+DAA+DH,EAAG,aAAa,GAAGA,EAAG,YAAY,CAACE,MAAM,CAAC,IAAM,GAAG,MAAQ,UAAU,KAAO,GAAG,eAAe,GAAG,gBAAgB,KAAK,CAAEN,EAAIQ,OAAuB,iBAAEJ,EAAG,qBAAqB,CAACK,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOC,kBAAkBX,EAAIQ,OAAOI,cAAgBZ,EAAIQ,OAAOI,iBAAiBZ,EAAIa,KAAKT,EAAG,SAAS,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,CAACN,EAAIO,GAAG,UAAUH,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,gBAAgB,CAACN,EAAIO,GAAG,qBAAqBH,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,aAAa,CAACN,EAAIO,GAAG,aAAaH,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,gBAAgB,CAACN,EAAIO,GAAG,mBAAmBH,EAAG,YAAYA,EAAG,eAAeA,EAAG,YAAaJ,EAAIc,KAAY,QAAEV,EAAG,eAAeJ,EAAIa,KAAKT,EAAG,mBAAmB,IAAI,GAAGA,EAAG,SAAS,CAACA,EAAG,gBAAgB,IAAI,IACj9BW,EAAkB,GCDlB,EAAS,WAAa,IAAIf,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,aAAa,CAACZ,EAAG,SAAS,CAACE,MAAM,CAAC,WAAW,GAAG,UAAU,QAAQ,0BAAyB,GAAOW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GACzQ,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAACN,YAAY,YAAYV,MAAM,CAAC,UAAY,IAAI,KAAO,GAAG,OAAS,OAAO,QAAQA,GAAM,GAAOG,GAAI,CAACT,EAAIO,GAAG,yBAAyB,CAACH,EAAG,SAAS,CAACY,YAAY,QAAQ,CAACZ,EAAG,KAAK,CAACY,YAAY,kBAAkB,CAAChB,EAAIO,GAAG,iBAAiBH,EAAG,aAAaA,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,sBAAsBG,GAAG,CAAC,OAAST,EAAIuB,MAAMC,MAAM,CAACxC,MAAOgB,EAAiB,cAAEyB,SAAS,SAAUC,GAAM1B,EAAI2B,cAAcD,GAAKE,WAAW,mBAAmBxB,EAAG,MAAM,CAACJ,EAAIO,GAAG,eAAeH,EAAG,eAAe,CAACE,MAAM,CAAC,gBAAgB,GAAG,KAAO,GAAG,IAAM,KAAK,IAAM,KAAK,KAAO,UAAUG,GAAG,CAAC,OAAST,EAAIuB,MAAMC,MAAM,CAACxC,MAAOgB,EAAY,SAAEyB,SAAS,SAAUC,GAAM1B,EAAI6B,SAASH,GAAKE,WAAW,eAAe,IAAI,IAAI,IAC9sB,EAAkB,G,YCJhBE,EAAc,CAClBC,SAAS,EACTC,YAAa,CACXH,SAAU,GACVF,eAAe,GAEjBM,SAAU,CACRC,gBAAgB,EAChBC,eAAe,EACfC,cAAc,EACdC,cAAc,EACdC,WAAW,IAIf,SAASC,IACP,IAAIzB,EAAO0B,aAAaC,QAAQ,QAMhC,OAJE3B,EADEA,EACK4B,KAAKC,MAAM7B,GAEXgB,EAEFhB,EAGF,SAAS8B,IACdJ,aAAaK,QAAQ,OAAQH,KAAKI,UAAUhC,IAGvC,IAAMA,EAAOyB,IAEb,SAASQ,IACdjC,EAAKiB,SAAU,EACfjB,EAAKkB,YAAL,kBAAwBF,EAAYE,aACpClB,EAAKmB,SAAL,kBAAqBH,EAAYG,UAG5B,SAASe,IACdlC,EAAKiB,SAAU,EACfjB,EAAKmB,SAAW,CACdC,gBAAgB,EAChBC,eAAe,EACfC,cAAc,EACdC,cAAc,EACdC,WAAW,GCFf,OACE/D,KAAM,cACNpC,KAFF,WAGI,OAAO2E,EAAKkB,aAEdiB,QAAS,CACP1B,KAAM,WACJqB,OCjD+U,I,yGCOjV,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAUhC,IAAkB,EAAW,CAACM,OAAA,KAAKC,QAAA,KAAMC,YAAA,KAAUC,WAAA,KAASC,QAAA,KAAMC,aAAA,OC5BlE,IAAI,EAAS,WAAa,IAAIvD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,eAAe,CAACZ,EAAG,WAAW,CAACE,MAAM,CAAC,YAAY,OAAOW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GAChO,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAAGN,EAAIc,KAAKiB,QAAyJ3B,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAACN,YAAY,YAAYV,MAAM,CAAC,UAAY,IAAI,KAAO,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIwD,YAAa,KAAQ,QAAQlD,GAAM,GAAOG,GAAI,CAACT,EAAIO,GAAG,uBAA3TH,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAACN,YAAY,YAAYV,MAAM,CAAC,UAAY,IAAI,KAAO,KAAK,QAAQA,GAAM,GAAOG,GAAI,CAACT,EAAIO,GAAG,+BAAiOiB,MAAM,CAACxC,MAAOgB,EAAU,OAAEyB,SAAS,SAAUC,GAAM1B,EAAIyD,OAAO/B,GAAKE,WAAW,WAAW,CAAG5B,EAAIwD,WAA+vCxD,EAAIa,KAAvvCT,EAAG,SAAS,CAACA,EAAG,eAAe,CAACY,YAAY,uBAAuB,CAAChB,EAAIO,GAAG,0BAA0BH,EAAG,cAAc,CAACY,YAAY,QAAQ,CAACZ,EAAG,UAAU,CAACY,YAAY,OAAOV,MAAM,CAAC,KAAO,YAAY,CAACN,EAAIO,GAAG,6DAA8DP,EAAIc,KAAY,QAAEV,EAAG,MAAM,CAACJ,EAAIO,GAAG,qCAAqCH,EAAG,MAAM,CAACJ,EAAIO,GAAG,wEAAwEH,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,+DAA+DH,EAAG,KAAK,CAACJ,EAAIO,GAAG,yBAAyBH,EAAG,KAAK,CAACJ,EAAIO,GAAG,oCAAoC,GAAGH,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACsD,WAAW,CAAC,CAACnF,KAAK,OAAOoF,QAAQ,SAAS3E,OAAQgB,EAAIc,KAAKiB,QAASH,WAAW,kBAAkBtB,MAAM,CAAC,MAAQ,UAAU,KAAO,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIyD,QAAS,KAAS,CAACzD,EAAIO,GAAG,cAAcH,EAAG,QAAQ,CAACsD,WAAW,CAAC,CAACnF,KAAK,OAAOoF,QAAQ,SAAS3E,OAAQgB,EAAIc,KAAKiB,QAASH,WAAW,kBAAkBtB,MAAM,CAAC,MAAQ,WAAWG,GAAG,CAAC,MAAQT,EAAI4D,YAAY,CAAC5D,EAAIO,GAAG,eAAeH,EAAG,QAAQ,CAACsD,WAAW,CAAC,CAACnF,KAAK,OAAOoF,QAAQ,SAAS3E,MAAOgB,EAAIc,KAAY,QAAEc,WAAW,iBAAiBtB,MAAM,CAAC,MAAQ,WAAWG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIyD,QAAS,KAAS,CAACzD,EAAIO,GAAG,cAAc,IAAI,GAAaP,EAAc,WAAEI,EAAG,SAAS,CAACA,EAAG,eAAe,CAACY,YAAY,uBAAuB,CAAChB,EAAIO,GAAG,8BAA8BH,EAAG,cAAc,CAACY,YAAY,QAAQ,CAAChB,EAAIO,GAAG,IAAIP,EAAI6D,GAAG7D,EAAIc,KAAKiB,QAAU,wDAA0D,0CAA0C,OAAO3B,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACsD,WAAW,CAAC,CAACnF,KAAK,OAAOoF,QAAQ,SAAS3E,MAAOgB,EAAIc,KAAY,QAAEc,WAAW,iBAAiBtB,MAAM,CAAC,MAAQ,UAAU,KAAO,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIyD,QAAS,KAAS,CAACzD,EAAIO,GAAG,cAAcH,EAAG,QAAQ,CAACsD,WAAW,CAAC,CAACnF,KAAK,OAAOoF,QAAQ,SAAS3E,MAAOgB,EAAIc,KAAY,QAAEc,WAAW,iBAAiBtB,MAAM,CAAC,MAAQ,WAAWG,GAAG,CAAC,MAAQT,EAAI8D,cAAc,CAAC9D,EAAIO,GAAG,iBAAiBH,EAAG,QAAQ,CAACsD,WAAW,CAAC,CAACnF,KAAK,OAAOoF,QAAQ,SAAS3E,OAAQgB,EAAIc,KAAKiB,QAASH,WAAW,kBAAkBtB,MAAM,CAAC,MAAQ,WAAWG,GAAG,CAAC,MAAQT,EAAI+D,UAAU,CAAC/D,EAAIO,GAAG,cAAc,IAAI,GAAGP,EAAIa,MAAM,IAAI,IAC5oF,EAAkB,GCiHtB,GACEtC,KAAM,gBACNpC,KAFF,WAGI,MAAO,CACLsH,QAAQ,EACRD,YAAY,EACZ1C,KAAN,IAGEmC,QAAS,CACPW,UADJ,WAEMZ,IACAJ,KAEFkB,YALJ,WAMMf,IACAH,KAEFmB,QATJ,WAUM9D,KAAKuD,YAAa,EAClBvD,KAAKwD,QAAS,KCzImU,I,gDCOnV,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAYhC,IAAkB,EAAW,CAACO,SAAA,KAAOd,OAAA,KAAKC,QAAA,KAAMc,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,UAAA,KAAQC,UAAA,OC9B1F,IAAI,EAAS,WAAa,IAAIrE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAO,IAAEI,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,OAAOW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GAChM,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAACN,YAAY,sBAAsBV,MAAM,CAAC,MAAQ,QAAQ,QAAQA,GAAM,GAAOG,GAAI,CAACL,EAAG,SAAS,CAACJ,EAAIO,GAAG,eAAeP,EAAIO,GAAG,kBAAkB,OAAO,MAAK,EAAM,YAAYiB,MAAM,CAACxC,MAAOgB,EAAU,OAAEyB,SAAS,SAAUC,GAAM1B,EAAIyD,OAAO/B,GAAKE,WAAW,WAAW,CAACxB,EAAG,SAAS,CAAEJ,EAAU,OAAEI,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAM,OAAS,MAAM,IAAMN,EAAIsE,IAAI,MAAQ,uBAAuB,YAAc,IAAI,MAAQ,2FAA2F,gBAAkB,MAAMtE,EAAIa,KAAKT,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIyD,QAAS,KAAS,CAACzD,EAAIO,GAAG,YAAY,IAAI,IAAI,GAAGP,EAAIa,MAC3sB,EAAkB,GCFTL,EAAS,CAEpB+D,kBAAkB,EAElB3D,cAAc,EAEd4D,cAAc,EAEdC,MAAO,IAGF,SAASC,IACd,IAAMC,EAAa9E,OAAO+E,WAAW,sBACjCD,EAAWE,UACbrE,EAAOI,cAAe,GCS1B,OACErC,KAAM,aACNpC,KAFF,WAGI,MAAO,CACLqE,OAAN,EACMiD,QAAQ,IAGZqB,SAAU,CACRR,IADJ,WAEM,MAAO,CACLS,QAAS,4CACTC,SAAU,6CAClB,sBCtCoV,I,YCOhV,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAUhC,IAAkB,EAAW,CAAC9B,OAAA,KAAKC,QAAA,KAAMc,aAAA,OAAaG,UAAA,KAAQa,QAAA,KAAMZ,UAAA,OCSpE,OACEa,WAAY,CAAd,4CACE3G,KAAM,MACNpC,KAAM,WAAR,OACA,SACA,UC1C8T,I,sFCO1T,GAAY,eACd,EACA,EACA4E,GACA,EACA,KACA,KACA,MAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACoE,OAAA,KAAKC,UAAA,KAAQC,iBAAA,KAAeC,QAAA,KAAMjB,UAAA,KAAQkB,aAAA,KAAWC,QAAA,KAAKC,SAAA,O,iBC9BpF,GAAS,WAAa,IAAIzF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,mDAAmDH,EAAG,KAAK,CAACJ,EAAIO,GAAG,mBAAmBH,EAAG,IAAI,CAACY,YAAY,eAAe,CAAChB,EAAIO,GAAG,iGAAiGH,EAAG,KAAK,CAACJ,EAAIO,GAAG,WAAWH,EAAG,MAAM,CAACY,YAAY,OAAO,CAACZ,EAAG,MAAM,CAACY,YAAY,UAAU,CAACZ,EAAG,SAAS,CAACY,YAAY,aAAa,CAACZ,EAAG,eAAe,CAACJ,EAAIO,GAAG,wBAAwBH,EAAG,cAAc,CAACJ,EAAIO,GAAG,2HAA2HH,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,cAAc,MAAQ,YAAY,CAACN,EAAIO,GAAG,oBAAoBH,EAAG,YAAYA,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,OAAOW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GAC33B,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAACN,YAAY,YAAYV,MAAM,CAAC,MAAQ,QAAQ,QAAQA,GAAM,GAAOG,GAAI,CAACL,EAAG,SAAS,CAACJ,EAAIO,GAAG,eAAeP,EAAIO,GAAG,kBAAkB,QAAQiB,MAAM,CAACxC,MAAOgB,EAAe,YAAEyB,SAAS,SAAUC,GAAM1B,EAAI0F,YAAYhE,GAAKE,WAAW,gBAAgB,CAACxB,EAAG,SAAS,CAAEJ,EAAe,YAAEI,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAM,OAAS,MAAM,IAAM,4CAA4C,MAAQ,uBAAuB,YAAc,IAAI,MAAQ,2FAA2F,gBAAkB,MAAMN,EAAIa,KAAKT,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAI0F,aAAc,KAAS,CAAC1F,EAAIO,GAAG,YAAY,IAAI,IAAI,IAAI,IAAI,IAAI,GAAGH,EAAG,MAAM,CAACY,YAAY,UAAU,CAACZ,EAAG,SAAS,CAACY,YAAY,QAAQ,CAACZ,EAAG,eAAe,CAACJ,EAAIO,GAAG,4BAA4BH,EAAG,cAAc,CAACJ,EAAIO,GAAG,6FAA6FH,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,cAAc,MAAQ,YAAY,CAACN,EAAIO,GAAG,oBAAoBH,EAAG,YAAYA,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,OAAOW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GACnrC,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAACN,YAAY,YAAYV,MAAM,CAAC,MAAQ,QAAQ,QAAQA,GAAM,GAAOG,GAAI,CAACL,EAAG,SAAS,CAACJ,EAAIO,GAAG,eAAeP,EAAIO,GAAG,kBAAkB,QAAQiB,MAAM,CAACxC,MAAOgB,EAAe,YAAEyB,SAAS,SAAUC,GAAM1B,EAAI2F,YAAYjE,GAAKE,WAAW,gBAAgB,CAACxB,EAAG,SAAS,CAAEJ,EAAe,YAAEI,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAM,OAAS,MAAM,IAAM,4CAA4C,MAAQ,uBAAuB,YAAc,IAAI,MAAQ,2FAA2F,gBAAkB,MAAMN,EAAIa,KAAKT,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAI2F,aAAc,KAAS,CAAC3F,EAAIO,GAAG,YAAY,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKH,EAAG,KAAK,CAACY,YAAY,cAAc,CAAChB,EAAIO,GAAG,eAAeH,EAAG,IAAI,CAACJ,EAAIO,GAAG,qDAAqDH,EAAG,KAAKJ,EAAI4F,GAAI5F,EAAe,aAAE,SAAS6F,EAAKC,GAAI,OAAO1F,EAAG,KAAK,CAACd,IAAIwG,GAAI,CAAC1F,EAAG,IAAI,CAACE,MAAM,CAAC,KAAQ,QAAWuF,EAAa,WAAK,CAAC7F,EAAIO,GAAG,SAASP,EAAI6D,GAAGgC,EAAKE,yBAAwB,MACriC,GAAkB,G,iICPTC,GAAb,WACE,WAAaC,GAAO,wBAClBhG,KAAKgG,MAAQA,EACbhG,KAAKiG,UAAY,IAAIC,IACrBlG,KAAKmG,WAAWH,EAAO,MAJ3B,kDASE,SAAYA,EAAOI,GAAQ,wBACNJ,GADM,IACzB,2BAA0B,KAAfK,EAAe,QAExBA,EAAKD,OAASA,EACdC,EAAKC,QAAUtG,KAAKiG,UAAUM,KAC9BvG,KAAKiG,UAAUO,IAAIH,EAAKI,GAAIJ,GAExBA,EAAKK,UACP1G,KAAKmG,WAAWE,EAAKK,SAAUL,IARV,iCAT7B,6BA2BE,SAAiBM,GACf,MAAOA,EAAS,CACd,GAAIA,EAAQC,aAAa,OAAS5G,KAAKiG,UAAUtH,IAAIgI,EAAQC,aAAa,OACxE,MAAO,CAACD,EAAS3G,KAAKiG,UAAUtH,IAAIgI,EAAQC,aAAa,QAE3DD,EAAUA,EAAQE,iBAhCxB,kCAoCE,SAAsBC,GACpB,MAAOA,EAAUpK,OAAQ,CACvB,GAAIsD,KAAKiG,UAAUc,IAAID,GACrB,OAAO9G,KAAKiG,UAAUtH,IAAImI,GAG5BA,EAAYA,EAAUhH,MAAM,EAAGgH,EAAUE,YAAY,UA1C3D,uCA8CE,SAA2BF,GACzB,IAAIG,EAAMjH,KAAKkH,qBAAqBJ,GAC9BK,EAAQ,CAAEC,KAAM,EAAGC,QAAS,EAAGC,WAAY,GAEjD,MAAOL,IAAQE,EAAMF,EAAIM,MACvBN,EAAMA,EAAIb,OAGZ,OAAOa,MAtDX,KA0DO,SAASO,GAAoBnB,GAClC,GAAkB,cAAdA,EAAKkB,KAAsB,CAC7B,IAAMnB,EAA8B,aAArBC,EAAKD,OAAOmB,KAAsBlB,EAAKD,OAAOA,OAASC,EAAKD,OACrEqB,EAAyB,SAAhBrB,EAAOmB,KAAkB,QAAUnB,EAAOsB,IAAMtB,EAAOuB,MACtE,OAAOF,EAAS,QAAUpB,EAAKqB,IAEjC,OAAOrB,EAAKsB,MC5Dd,I,GAAMC,GAAcC,GAAOD,Y,mBAGRA,I,IAAnB,8BAAgC,KAArBhC,GAAqB,SAE9BA,GAAKkC,QAAS,IAAIC,WAAYC,gBAAgB,QAAUpC,GAAKqC,aAAe,SAAU,aACtFrC,GAAKsC,QAAUtC,GAAKkC,OAAOK,KAAKC,kBAGhCxC,GAAKqB,IAAM,IAAIlB,GAAgBH,GAAKqB,M,kCAG/B,IAAMoB,GAAS,CACpBC,QAAST,GAAOS,QAChBV,YAAaA,GACbW,kBAAmBX,GAAYA,GAAYlL,OAAS,GACpD8L,SAAUX,GAAOW,UAIZ,SAASC,GAAuB9G,GACrC,OAAO0G,GAAOG,SAASE,QAAO,SAAArK,GAAC,OAAIA,EAAEsK,qBAAuBhH,EAAWgH,uBAIlE,SAASC,GAAwBJ,GACtC,IADgD,EAC1CK,EAAS,IAAI3C,IAD6B,kBAE1BsC,GAF0B,IAEhD,2BAAgC,KAArBM,EAAqB,QACzBD,EAAO9B,IAAI+B,EAAQC,aACtBF,EAAOrC,IAAIsC,EAAQC,WAAY,IAEjCF,EAAOlK,IAAImK,EAAQC,YAAY/L,KAAK8L,IANU,gCAShD,OAAOD,ECqDT,uCACA,aAEA,QACEvK,KAAM,OACNpC,KAAM,WAAR,OACA,eACA,eACA,kBCnG8U,M,aCO1U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAahC,IAAkB,GAAW,CAAC+G,OAAA,KAAKC,QAAA,KAAMc,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAW8E,cAAA,KAAW7E,UAAA,KAAQa,QAAA,KAAMZ,UAAA,OC/BpG,IAAI,GAAS,WAAa,IAAIrE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,sBAAsB,CAACE,MAAM,CAAC,QAAU,GAAG,IAAM,GAAG,MAAQN,EAAIQ,OAAOI,aAAa,MAAQ,mBAAmB,CAACR,EAAG,UAAU,CAACE,MAAM,CAAC,WAAaN,EAAI4B,WAAW,OAAS5B,EAAIkJ,WAAW,GAAG9I,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,WAAaN,EAAI4B,cAAcxB,EAAG,MAAM,CAACY,YAAY,6BAA6BmI,MAAMnJ,EAAIoJ,kBAAkB,CAAChJ,EAAG,UAAU,CAACY,YAAY,6DAA6DmI,MAAMnJ,EAAIqJ,QAAQC,MAAOtJ,EAAU,QAAG,CAACI,EAAG,MAAM,CAACgB,IAAI,YAAYJ,YAAY,2BAA2BZ,EAAG,SAAS,CAACgB,IAAI,SAASd,MAAM,CAAC,WAAaN,EAAI4B,WAAW,MAAQ5B,EAAIuJ,gBAAgB,IAAI,IAAI,IAChvB,GAAkB,GCDlB,I,oBAAS,WAAa,IAAIvJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACY,YAAY,sBAAsB,CAACZ,EAAG,UAAU,CAACY,YAAY,UAAU,CAACZ,EAAG,YAAYA,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIQ,OAAOI,cAAe,KAAS,CAACZ,EAAIO,GAAG,gBAAgB,GAAGH,EAAG,KAAK,CAACY,YAAY,gBAAgB,CAAChB,EAAIO,GAAG,yBAAyBH,EAAG,UAAU,CAACY,YAAY,aAAa,CAACZ,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,gBAAgB,GAAG,WAAW,IAAIW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GAC7jB,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAACF,EAAG,cAAcJ,EAAIqB,GAAGrB,EAAIsB,GAAG,GAAG,cAAchB,GAAM,GAAOG,GAAI,CAACL,EAAG,sBAAsB,CAACJ,EAAIO,GAAG,WAAWP,EAAI6D,GAAG7D,EAAI4B,WAAWmE,oBAAoB3F,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACJ,EAAIO,GAAG,wBAAwB,IAAI,SAAS,CAACH,EAAG,SAAS,CAACJ,EAAI4F,GAAI5F,EAAe,aAAE,SAAS6F,GAAM,OAAOzF,EAAG,cAAc,CAACd,IAAIuG,EAAK+C,oBAAoBtI,MAAM,CAAC,GAAK,cAAgBuF,EAAK+C,sBAAsB,CAAC5I,EAAIO,GAAG,IAAIP,EAAI6D,GAAGgC,EAAKE,iBAAiB,UAAS3F,EAAG,aAAaA,EAAG,cAAc,CAACE,MAAM,CAAC,WAAW,IAAIG,GAAG,CAAC,MAAQT,EAAIwJ,oBAAoB,CAACpJ,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIO,GAAG,6BAA6BH,EAAG,uBAAuB,CAACJ,EAAIO,GAAG,0CAA0C,IAAI,GAAGH,EAAG,cAAc,CAACE,MAAM,CAAC,WAAW,GAAG,GAAK,aAAa,CAACF,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIO,GAAG,kBAAkBH,EAAG,uBAAuB,CAACJ,EAAIO,GAAG,wCAAwC,IAAI,IAAI,IAAI,GAAGH,EAAG,iBAAiB,CAACgB,IAAI,mBAAmB,GAAGhB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,YAAc,SAAS,KAAO,GAAG,gBAAgB,GAAG,eAAe,GAAG,UAAY,GAAG,aAAa,4BAA4BkB,MAAM,CAACxC,MAAOgB,EAAU,OAAEyB,SAAS,SAAUC,GAAM1B,EAAIyJ,OAAO/H,GAAKE,WAAW,YAAYxB,EAAG,QAAQ,CAACY,YAAY,OAAOV,MAAM,CAAC,MAAQ,GAAG,QAAU,WAAW,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACY,YAAY,kBAAkBV,MAAM,CAAC,KAAO,GAAG,MAAQ,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAI0J,KAAO,MAAM,CAAC1J,EAAIO,GAAG,iBAAiB,GAAGH,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACY,YAAY,kBAAkBV,MAAM,CAAC,KAAO,GAAG,MAAQ,IAAIG,GAAG,CAAC,MAAQT,EAAI2J,YAAY,CAAC3J,EAAIO,GAAG,eAAe,IAAI,IAAI,GAAGH,EAAG,aAAa,CAACY,YAAY,WAAWV,MAAM,CAAC,MAAQ,GAAG,OAASN,EAAIyJ,OAAO,KAAOzJ,EAAI0J,KAAK,MAAQ1J,EAAIiG,MAAM,UAAY,GAAG,OAASjG,EAAIkJ,OAAO,YAAY,QAAQ,gBAAgBlJ,EAAI4J,aAAanJ,GAAG,CAAC,gBAAgBT,EAAI6J,eAAe5I,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,QAAQ6B,GAAG,SAASC,GAC52D,IAAIkF,EAAOlF,EAAIkF,KACXoD,EAAOtI,EAAIsI,KACf,MAAO,CAACtJ,EAAG,MAAM,CAACK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAI8J,QAAQxD,EAAKI,GAAIgD,MAAS,CAAC1J,EAAIO,GAAG,IAAIP,EAAI6D,GAAGyC,EAAKsB,OAAO,eAAe,KAC9H,GAAkB,G,UCHf,SAASmC,GAAYrD,GAAI,wBACbsD,SAASC,iBAAiB,iBADb,IAC9B,2BAA4D,KAAjDC,EAAiD,QAC1DA,EAAGC,UAAUC,OAAO,gBAFQ,gCAK9B,IAAMxD,EAAUoD,SAASK,eAAe3D,GACxC,GAAIE,EAAS,CACXA,EAAQuD,UAAUG,IAAI,eACtB,IAAMC,EAAM3D,EAAQ4D,wBAAwBD,IAAM1K,OAAO4K,QACzD5K,OAAO6K,SAAS,EAAGH,EAAM,MCb7B,IAAI,GAAS,WAAa,IAAIvK,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACE,MAAM,CAAC,YAAY,OAAOkB,MAAM,CAACxC,MAAOgB,EAAU,OAAEyB,SAAS,SAAUC,GAAM1B,EAAIyD,OAAO/B,GAAKE,WAAW,WAAW,CAACxB,EAAG,SAAS,CAACA,EAAG,eAAe,CAACJ,EAAIO,GAAG,2CAA2CH,EAAG,cAAc,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,gBAAgB,eAAe,gBAAgBkB,MAAM,CAACxC,MAAOgB,EAAQ,KAAEyB,SAAS,SAAUC,GAAM1B,EAAI2K,KAAKjJ,GAAKE,WAAW,UAAUxB,EAAG,MAAM,CAACY,YAAY,eAAe,CAACZ,EAAG,gBAAgB,CAACE,MAAM,CAAC,WAAW,GAAG,WAAa,IAAIkB,MAAM,CAACxC,MAAOgB,EAAQ,KAAEyB,SAAS,SAAUC,GAAM1B,EAAI2K,KAAKjJ,GAAKE,WAAW,WAAW,GAAI5B,EAAc,WAAEI,EAAG,MAAM,CAACJ,EAAIO,GAAG,8BAA8BP,EAAI6D,GAAG7D,EAAI2K,MAAM,OAAO3K,EAAI6D,GAAG7D,EAAI4B,WAAWmE,iBAAiB,MAAM3F,EAAG,MAAM,CAACY,YAAY,oBAAoB,CAAEhB,EAAQ,KAAEI,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAKN,EAAI4K,KAAK,MAAQ,WAAWnK,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIyD,QAAS,KAAS,CAACzD,EAAIO,GAAG,gBAAgBP,EAAI6D,GAAG7D,EAAI4B,WAAWmE,iBAAiB,OAAO/F,EAAIa,MAAM,KAAKb,EAAIa,MAAM,GAAGT,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,UAAU,KAAO,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIyD,QAAS,KAAS,CAACzD,EAAIO,GAAG,YAAY,IAAI,IAAI,IACvsC,GAAkB,G,aCsCtB,IACEhC,KAAM,iBACNpC,KAAM,WAAR,OACA,UACA,wCAEE2I,SAAU,CACRlD,WADJ,WAEM,GAAI3B,KAAK0K,KAGP,IADA,IAAR,iBACA,sBACU,GAAI1K,KAAK0K,MAAQ9C,EAAYpL,GAAGsJ,gBAC9B,OAAO8B,EAAYpL,GAIzB,OAAO,MAETmO,KAbJ,WAcM,OAAI3K,KAAK2B,WACA,cAAgB3B,KAAK2B,WAAWgH,oBAElC,OAGX3F,QAAS,CACPyG,KADJ,WAEMzJ,KAAKwD,QAAS,KCnEoU,M,aCOpV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAahC,IAAkB,GAAW,CAACP,OAAA,KAAKC,QAAA,KAAMc,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAW0G,eAAA,KAAYzG,UAAA,KAAQC,UAAA,KAAQd,aAAA,O,cC0EvG,IACEhF,KAAM,UACNuM,MAAO,CAAC,aAAc,UACtB5F,WAAY,CACV6F,eAAJ,IAEE5O,KAAM,WACJ,MAAO,CACL8J,MAAOhG,KAAK2B,WAAWsF,IAAIjB,MAC3ByD,KAAM,GACND,OAAQ,KACRuB,eAAe,EACfnD,YAAa,OAAnB,QAAmB,CAAnB,0BACM+B,aAAa,EACbpJ,OAAN,IAGEyC,QAAS,CACP6G,QADJ,SACA,KACM7J,KAAK2J,aAAeF,EACpBhF,IACAqF,GAAWrD,IAEbmD,cANJ,SAMA,GACUX,EAAOvM,SACTkD,OAAOoL,SAASC,KAAO,IAAMhC,EAAO,KAGxCiC,gBAXJ,SAWA,cACA,KASM,OAPAC,EAAIC,SAAQ,SAAlB,GACYnB,EAAGvD,UAAYuD,EAAGvD,SAAShK,OAAS,IACtCa,EAAOP,KAAKiN,EAAGxD,IACflJ,EAASA,EAAO8N,OAAO,EAAjC,iCAIa9N,GAETmM,UAvBJ,WAwBM1J,KAAKyJ,KAAOzJ,KAAKkL,gBAAgBlL,KAAKgG,QAExCuD,kBA1BJ,WA2BMvJ,KAAKsL,MAAMP,cAActB,SAG7B8B,MAAO,CACL/B,OADJ,SACA,KACuB,OAAbgC,EACFxL,KAAK0J,YACb,eAGE+B,QAtDF,WAuDI,IAAJ,uBACIC,EAAWA,EAAS5L,MAAM,GACtB4L,GACFC,YAAW,WACT7B,GAAW4B,KACnB,OCrKiV,M,oHCQ7U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAoBhC,IAAkB,GAAW,CAACzI,OAAA,KAAK2I,QAAA,KAAKxI,WAAA,KAAS4B,QAAA,KAAM6G,SAAA,KAAMC,aAAA,KAAUC,iBAAA,QAAiBC,iBAAA,KAAcC,kBAAA,QAAkBC,eAAA,QAAe7I,QAAA,KAAM8I,QAAA,KAAKC,UAAA,KAAOhI,UAAA,KAAQd,aAAA,KAAW+I,aAAA,OCvC5K,IAAI,GAAS,WAAa,IAAItM,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACY,YAAY,SAASP,GAAG,CAAC,MAAQT,EAAIuM,eAAe,CAACnM,EAAG,MAAM,CAACgB,IAAI,cAAcJ,YAAY,gBAAgBhB,EAAI4F,GAAI5F,EAAW,SAAE,SAAS5B,EAAE0H,GAAI,OAAO1F,EAAG,eAAe,CAACd,IAAIwG,EAAGxF,MAAM,CAAC,KAAOlC,EAAEkI,KAAK,OAASlI,EAAE8K,OAAO,IAAM9K,EAAEmM,KAAK9J,GAAG,CAAC,SAAWT,EAAIwM,gBAAe,MAChX,GAAkB,G,mKCDlB,GAAS,WAAa,IAAIxM,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,2BAA2B,CAACZ,EAAG,SAAS,CAACY,YAAY,eAAeV,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,MAAQ,WAAW,CAACN,EAAIO,GAAG,kBAAkBP,EAAIO,GAAG,IAAIP,EAAI6D,GAAG7D,EAAI4H,MAAM5H,EAAIsG,OAAO,MAAM,IAAI,IAClV,GAAkB,GCWtB,IACE/H,KAAM,cACNpC,KAAM,WAAR,OACA,UAEE8G,QAAS,CACP2E,MAAOH,KClB0U,M,aCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,GAAiB,QAMhC,IAAkB,GAAW,CAACgF,SAAA,KAAMxH,QAAA,OCxBpC,IAAI,GAAS,WAAa,IAAIjF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,4BAA4B,CAACZ,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,iBAAiB,UAAY,MAAM,CAACF,EAAG,cAAc,CAACY,YAAY,uBAAuB,CAAChB,EAAIO,GAAG,0BAA0BH,EAAG,MAAM,CAACY,YAAY,QAAQhB,EAAI4F,GAAI5F,EAAc,YAAE,SAASoB,GAAK,OAAOhB,EAAG,SAAS,CAACd,IAAI8B,EAAIsF,GAAG1F,YAAY,yBAAyBV,MAAM,CAAC,SAAW,GAAG,MAAQ,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOC,kBAAyBX,EAAI0K,SAAStJ,EAAIsF,OAAO,CAACtG,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,MAAQ,WAAW,CAACN,EAAIO,GAAG,kBAAkBP,EAAIO,GAAG,IAAIP,EAAI6D,GAAG7D,EAAI4H,MAAMxG,IAAM,MAAM,MAAK,IAAI,IAAI,IAChrB,GAAkB,GC8BtB,IACE7C,KAAM,eACNpC,KAAM,WAAR,OACA,gBAEE8G,QAAS,CACPyH,SADJ,SACA,GACMX,GAAWrD,IAEbkB,MAAOH,KCxC2U,MCOlV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAQhC,IAAkB,GAAW,CAACtE,QAAA,KAAMe,UAAA,OAAUuI,SAAA,KAAMxH,QAAA,OC1BpD,IAAI,GAAS,WAAa,IAAIjF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,sBAAsB,CAACZ,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,iBAAiB,UAAY,MAAM,CAACF,EAAG,kBAAkB,CAACY,YAAY,mCAAmC,CAACZ,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,MAAQN,EAAI0M,KAAKC,SAAS,CAAC3M,EAAIO,GAAGP,EAAI6D,GAAG7D,EAAI0M,KAAKE,KAAO5M,EAAI0M,KAAKE,KAAO,sBAAsB5M,EAAIO,GAAG,IAAIP,EAAI6D,GAAG7D,EAAI0M,KAAK9E,OAAO,MAAM,GAAI5H,EAAI0M,KAAY,QAAEtM,EAAG,cAAc,CAACY,YAAY,wBAAwB,CAAChB,EAAIO,GAAG,IAAIP,EAAI6D,GAAG7D,EAAI0M,KAAKG,SAAS,OAAO7M,EAAIa,KAAMb,EAAI0M,KAAS,KAAEtM,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,MAAQ,UAAU,KAAON,EAAI0M,KAAKI,KAAK,OAAS,WAAW,CAAC9M,EAAIO,GAAG,IAAIP,EAAI6D,GAAG7D,EAAI0M,KAAKK,UAAY/M,EAAI0M,KAAKK,UAAY,aAAa,QAAQ,GAAG/M,EAAIa,MAAM,IAAI,IAC/yB,GAAkB,GCwBtB,IACEtC,KAAM,UACNpC,KAAM,WAAR,OACA,WC5BiV,MCO7U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAUhC,IAAkB,GAAW,CAAC+G,OAAA,KAAKC,QAAA,KAAMc,aAAA,OAAa+I,cAAA,OAAc9I,UAAA,OAAUe,QAAA,OC5B9E,IAAI,GAAS,WAAa,IAAIjF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,uBAAuB,CAACZ,EAAG,MAAM,CAACsD,WAAW,CAAC,CAACnF,KAAK,SAASoF,QAAQ,aAAa3C,YAAY,0BAA0B,CAACZ,EAAG,MAAM,CAACgB,IAAI,MAAMJ,YAAY,qBAC3Q,GAAkB,GCQtB,IACEzC,KAAM,WACNpC,KAAM,WAAR,OACA,gBAEEuP,QALF,WAMIzL,KAAKsL,MAAM0B,IAAIC,YAAYjN,KAAKkN,YCf8S,M,qCCO9U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAKhC,KAAkB,GAAW,CAACC,OAAA,UCvB9B,IAAI,GAAS,WAAa,IAAIpN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,gCAAgC,CAACZ,EAAG,SAAS,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,SAAS,CAACN,EAAIO,GAAG,eAAeP,EAAIO,GAAG,aAAaP,EAAI6D,GAAG7D,EAAI0M,KAAKW,gBAAgB,kBAAkBrN,EAAI6D,GAAG7D,EAAI0M,KAAK/B,MAAM,MAAM,IAAI,IACvV,GAAkB,GCStB,IACEpM,KAAM,eACNpC,KAAM,WAAR,OACA,WCbsV,MCOlV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAMhC,IAAkB,GAAW,CAACsQ,SAAA,KAAMxH,QAAA,OCxBpC,IAAI,GAAS,WAAa,IAAIjF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,6CAA6C,CAACZ,EAAG,SAAS,CAACY,YAAY,UAAUV,MAAM,CAAC,MAAQ,mBAAmB,UAAY,MAAM,CAACF,EAAG,MAAM,CAACY,YAAY,UAAU,CAACZ,EAAG,MAAM,CAACY,YAAY,eAAe,CAACZ,EAAG,eAAe,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAW,CAACN,EAAIO,GAAG,wBAAwBP,EAAIO,GAAG,WAAW,GAAGH,EAAG,kBAAkB,CAACJ,EAAIO,GAAG,iDAAiD,GAAGH,EAAG,MAAM,CAACY,YAAY,QAAQ,CAACZ,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,UAAUG,GAAG,CAAC,MAAQT,EAAIsN,MAAM,CAACtN,EAAIO,GAAG,oBAAoB,QAAQ,IACvoB,GAAkB,GCmBtB,IACEhC,KAAM,eACNpC,KAAM,WAAR,OACA,UAEE8G,QAAS,CACPqK,IADJ,WAEMC,MAAM,uDC3B0U,MCOlV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAShC,IAAkB,GAAW,CAACrK,OAAA,KAAKC,QAAA,KAAM6J,cAAA,OAAc7I,WAAA,OAAWc,QAAA,OC3BlE,IAAI,GAAS,WAAa,IAAIjF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACE,MAAM,CAAC,YAAY,OAAOkB,MAAM,CAACxC,MAAOgB,EAAU,OAAEyB,SAAS,SAAUC,GAAM1B,EAAIyD,OAAO/B,GAAKE,WAAW,WAAW,CAACxB,EAAG,SAAS,CAA0B,IAAxBJ,EAAIyI,SAAS9L,OAAcyD,EAAG,eAAe,CAACY,YAAY,kBAAkB,CAAChB,EAAIO,GAAG,uBAAuBP,EAAI6D,GAAG7D,EAAIwN,eAAezH,iBAAiB,QAAQ/F,EAAI6D,GAAG7D,EAAIyN,eAAe1H,oBAAoB3F,EAAG,eAAe,CAACY,YAAY,kBAAkB,CAACZ,EAAG,MAAM,CAACY,YAAY,QAAQ,CAAChB,EAAIO,GAAG,yBAAyBH,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQN,EAAI0N,QAAQ,eAAe,IAAIlM,MAAM,CAACxC,MAAOgB,EAAW,QAAEyB,SAAS,SAAUC,GAAM1B,EAAI+I,QAAQrH,GAAKE,WAAW,cAAc,GAAI5B,EAAW,QAAEI,EAAG,OAAO,CAACE,MAAM,CAAC,QAAUN,EAAI+I,QAAQ,aAAe/I,EAAI2N,gBAAgB3N,EAAIa,KAAKT,EAAG,aAAaA,EAAG,iBAAiB,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,6BAA6BkB,MAAM,CAACxC,MAAOgB,EAAgB,aAAEyB,SAAS,SAAUC,GAAM1B,EAAI2N,aAAajM,GAAKE,WAAW,kBAAkBxB,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIyD,QAAS,KAAS,CAACzD,EAAIO,GAAG,YAAY,IAAI,IAAI,IACpoC,GAAkB,GCDlB,GAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAASF,EAAI2N,aAA4KvN,EAAG,MAAM,CAACY,YAAY,oCAAoC4M,YAAY,CAAC,aAAa,OAAO,aAAa,SAAS,CAACxN,EAAG,MAAM,CAACY,YAAY,mCAAmC6M,SAAS,CAAC,UAAY7N,EAAI6D,GAAG7D,EAAI+I,QAAQ+E,cAAc1N,EAAG,MAAM,CAACY,YAAY,oCAAoC6M,SAAS,CAAC,UAAY7N,EAAI6D,GAAG7D,EAAI+I,QAAQ+E,gBAAne1N,EAAG,MAAM,CAACY,YAAY,2BAA2B4M,YAAY,CAAC,aAAa,OAAO,aAAa,QAAQC,SAAS,CAAC,UAAY7N,EAAI6D,GAAG7D,EAAI+I,QAAQ+E,eAChQ,GAAkB,GCyBtB,I,UAAA,CACEvP,KAAM,OACNuM,MAAO,CAAC,UAAW,kBC5ByT,MCO1U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCYf,IACE5F,WAAY,CAAd,SACE3G,KAAM,UACNuM,MAAO,CAAC,YACR3O,KAAM,WAAR,OACA,UACA,gBACA,eAEE4R,YATF,WAUI9N,KAAK8I,QAAU9I,KAAKwI,SAASxI,KAAKwI,SAAS9L,OAAS,IAEtDmI,SAAU,CACR4I,QADJ,WAEM,OAAOzN,KAAKwI,SAASuF,KAAI,SAA/B,GACQ,MAAO,CACLC,KAAM3P,EAAEsK,oBAAoBsF,UAAU5P,EAAEsK,oBAAoB3B,YAAY,KAAO,GAAK,QAC9F,oFACUjI,MAAOV,MAEjB,WAEImP,eAVJ,WAUA,WACM,OAAOnF,GAAOT,YAAYsG,MAAK,SAArC,yEAEIX,eAbJ,WAaA,WACM,OAAOlF,GAAOT,YAAYsG,MAAK,SAArC,qEAGElL,QAAS,CACPmL,KADJ,WAEMnO,KAAKwD,QAAS,KC7D6T,M,0BCO7U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAahC,IAAkB,GAAW,CAACP,OAAA,KAAKC,QAAA,KAAMc,aAAA,OAAaE,WAAA,OAAWC,UAAA,KAAQf,WAAA,KAASgL,WAAA,KAAQhK,UAAA,KAAQiK,WAAA,O,yCCbrFC,GAAU,IAAIC,QAAQ,IACnCD,GAAQE,UAAYF,GAAQE,UAAU9F,QAAO,SAAA+F,GAAC,MAAU,eAANA,YAC3CH,GAAQI,UAAUC,W,IAMnBC,G,WACJ,WAAaC,EAAM/G,GAAQ,wBACzB9H,KAAK6O,KAAOA,EACZ7O,KAAK8H,OAASA,EACd9H,KAAK8O,gBACL9O,KAAK+O,c,qDAGP,WACE/O,KAAKgP,QAAUjF,SAASkF,cAAc,OACtCjP,KAAKgP,QAAQE,UAAY,gB,yBAG3B,WACElP,KAAKmP,MAAQA,gBAAMnP,KAAKoP,qBAAsB,CAC5CC,SAAUrP,KAAK6O,KAAKhI,cACpB+F,QAAS,GACT0C,aAAa,EACbC,aAAa,EACbC,SAAU,IACVC,UAAWzP,KAAKyP,UAAUnQ,KAAKU,MAC/B0P,YAAa1P,KAAK0P,YAAYpQ,KAAKU,MACnC2P,MAAO,mB,gCAIX,WACE,OAAO3P,KAAK6O,KAAK7E,iBAAiB,0B,iCAOpC,SAAqBmF,GACnB,IAAM1I,EAAK0I,EAAMS,UAAUhJ,aAAa,QAAQ9G,MAAM,GACtD,OAAOE,KAAK8H,OAAOsC,eAAe3D,K,uBAGpC,SAAW0I,EAAOU,GAChB,IAAMC,EAAY9P,KAAK+P,oBAAoBZ,GAE3C,GAAIW,EAAW,CACb,IAAMd,EAAUhP,KAAKgP,QAAQgB,WAAU,GACvChB,EAAQ/B,YAAY6C,EAAUE,WAAU,IACxCb,EAAMc,WAAWjB,GAGjB,IAAM7N,EAAMnB,KAAK6O,KAAKqB,cAAV,eAAgCJ,EAAUrJ,GAA1C,OACRtF,GACFA,EAAI+I,UAAUG,IAAI,0B,yBAKxB,SAAa8E,EAAOU,GAClB,IAAMC,EAAY9P,KAAK+P,oBAAoBZ,GAGrChO,EAAMnB,KAAK6O,KAAKqB,cAAV,eAAgCJ,EAAUrJ,GAA1C,OACRtF,GACFA,EAAI+I,UAAUC,OAAO,2B,KAKrBgG,G,wLACJ,WACE,OAAOnQ,KAAK6O,KAAK7E,iBAAiB,e,iCAGpC,SAAqBmF,GACnB,IAAMiB,EAAOjB,EAAMS,UAAUhJ,aAAa,iBAEpCyJ,EAAMrQ,KAAK8H,OAAOoI,cAAZ,kCAAqDE,EAArD,OAEZ,OAAOC,EAAIxJ,cAAcyJ,QAAlB,0BAA6CF,EAA7C,W,GAVuBxB,IAuBrB2B,GAAb,WAKE,WAAapP,GAAK,wBAChBnB,KAAKmB,IAAMA,EACXnB,KAAKwQ,YAAc,GAEnBxQ,KAAKyQ,KAAO,IAEZzQ,KAAK0Q,OAAS,GACd1Q,KAAK2Q,SAAW,KAChB3Q,KAAK4Q,KAAO,KAbhB,4CAgBE,WACE5Q,KAAK6Q,SAEDjR,OAAOkR,iBAGT9Q,KAAK+Q,SAAW,IAAID,eAAeE,KAAShR,KAAK6Q,OAAOvR,KAAKU,MAAOA,KAAKyQ,OACzEzQ,KAAK+Q,SAASE,QAAQjR,KAAKmB,QAvBjC,mBA8BE,SAAa+P,GACXlR,KAAK2Q,SAAWO,EAChBlR,KAAK6Q,WAhCT,oBAmCE,WAAU,WAOR,GALA7Q,KAAKmR,aAGLnR,KAAKwQ,YAAYY,MAAK,SAACC,EAAGC,GAAJ,OAAU,EAAKV,KAAKjS,IAAI0S,EAAElQ,KAAO,EAAKyP,KAAKjS,IAAI2S,EAAEnQ,QAEnEnB,KAAK2Q,SAAU,CACjB,IAAM9K,EAAK7F,KAAKwQ,YAAYe,QAAQvR,KAAK2Q,UACzC,GAAI9K,GAAM,EAAG,CAEX,IAAMyE,EAAMtK,KAAK4Q,KAAKjS,IAAIqB,KAAK2Q,SAASxP,KAMxC,OALAnB,KAAK2Q,SAASrG,IAAMA,EAEpBtK,KAAKwR,cAAc3L,EAAK,EAAGyE,EAAMtK,KAAK0Q,aAEtC1Q,KAAKyR,gBAAgB5L,EAAK,EAAGyE,EAAMtK,KAAK2Q,SAAS/D,QAAQ8E,aAAe1R,KAAK0Q,SAMjF1Q,KAAKyR,gBAAgB,EAAG,KAzD5B,2BA4DE,SAAeE,EAAOC,GAEpB,IAAK,IAAIpV,EAAImV,EAAOnV,GAAK,EAAGA,IAAK,CAC/B,IAAM0U,EAAalR,KAAKwQ,YAAYhU,GAChC8N,EAAMtK,KAAK4Q,KAAKjS,IAAIuS,EAAW/P,KAC/BmJ,EAAM4G,EAAWtE,QAAQ8E,cAAgBE,IAC3CtH,EAAMsH,EAAYV,EAAWtE,QAAQ8E,cAEvCR,EAAW5G,IAAMA,EACjBsH,EAAYtH,EAAMtK,KAAK0Q,UArE7B,6BAyEE,SAAiBiB,EAAOC,GAEtB,IAAK,IAAIpV,EAAImV,EAAOnV,EAAIwD,KAAKwQ,YAAY9T,OAAQF,IAAK,CACpD,IAAM0U,EAAalR,KAAKwQ,YAAYhU,GAC9B8N,EAAMuH,KAAKC,IAAIF,EAAW5R,KAAK4Q,KAAKjS,IAAIuS,EAAW/P,MACzD+P,EAAW5G,IAAMA,EACjBsH,EAAYtH,EAAM4G,EAAWtE,QAAQ8E,aAAe1R,KAAK0Q,UA/E/D,wBAmFE,WACE1Q,KAAK4Q,KAAO,IAAImB,QADJ,wBAGa/R,KAAKwQ,aAHlB,IAGZ,2BAA2C,KAAhCU,EAAgC,QACpClR,KAAK4Q,KAAK7J,IAAImK,EAAW/P,MAC5BnB,KAAK4Q,KAAKpK,IAAI0K,EAAW/P,IAAKnB,KAAKgS,aAAad,EAAW/P,OALnD,mCAnFhB,0BAkGE,SAAcwF,GACZ,IAAI2D,EAAM,EAEV,MAAO3D,GAAWA,IAAY3G,KAAKmB,IACjCmJ,GAAO3D,EAAQsL,UACftL,EAAUA,EAAQuL,aAGpB,OAAO5H,MA1GX,KA4IA,SAAS6H,GAAqBC,GAC5B,IAD0C,EACpCC,EAAYC,OAAIC,OAAOC,IACvBxM,EAAQ,GAF4B,kBAInBoM,EAAapI,iBAAiB,uBAJX,IAI1C,2BAA4E,KAAjEkD,EAAiE,QACpEN,EAAU,IAAIyF,EAAU,CAAE/D,aAChC1B,EAAQM,SAAWA,EAAS8C,WAAU,GAGtC,IAAM7O,EAAM+L,EAASrG,cAAcqJ,cAAvB,mBAAiDhD,EAASzG,GAA1D,OACRtF,GACFyL,EAAQzL,IAAMA,EACdyL,EAAQ6F,SACRzM,EAAMhJ,KAAK4P,IAEX8F,QAAQC,KAAK,gCAAiCzF,IAfR,gCAmB1C,OAAOlH,EAMT,SAAS4M,GAAwBR,EAAczQ,GAC7C,IADyD,EACnD0Q,EAAYC,OAAIC,OAAOM,IACvBC,EAAW,IAAI5M,IACfF,EAAQ,GAH2C,kBAMvCoM,EAAapI,iBAAiB,yBANS,IAMzD,2BAAyE,KAA9D7I,EAA8D,QACjEsF,EAAKtF,EAAIyF,aAAa,QAAQ9G,MAAM,GACtCgT,EAAS/L,IAAIN,GACfqM,EAASnU,IAAI8H,GAAIzJ,KAAKmE,GAEtB2R,EAAStM,IAAIC,EAAI,CAACtF,KAXmC,wDAgBhC2R,GAhBgC,IAgBzD,2BAAmC,kCAAvBrM,EAAuB,KAAnBsM,EAAmB,KAC3BnG,EAAU,IAAIyF,EAAU,CAAE/D,aAC1B3H,EAAUyL,EAAalC,cAAb,eAAmCzJ,EAAnC,OAEhB,GAAIE,EAAS,CACX,IADW,EACLqM,EAAa,GACbC,EAAS,IAAIC,IAFR,kBAMOH,GANP,IAMX,2BAAwB,KAAb5R,EAAa,QAEhBgS,EAAWxR,EAAWsF,IAAImM,gBAAgBjS,GAC5CgS,IAAaF,EAAOlM,IAAIoM,EAAS,MACnCH,EAAWhW,KAAKmW,EAAS,IACzBF,EAAO5I,IAAI8I,EAAS,MAXb,gCAeXvG,EAAQoG,WAAaA,EACrBpG,EAAQzL,IAAMwF,EACdiG,EAAQ6F,SACRzM,EAAMhJ,KAAK4P,KAtC0C,gCA0CzD,OAAO5G,EAMT,IAAMqN,GAAmB,G,SACVC,G,oGAAf,WAAmClB,GAAnC,8FACQC,EAAYC,OAAIC,OAAOgB,IAD/B,kBAGS,IAAIC,SAAQ,SAACC,GAClB,SAASC,IACP,IADiB,EACX1N,EAAQ,GADG,kBAGEqN,IAHF,IAGjB,2BAAqC,KAA1B5G,EAA0B,QAC7BtL,EAAMiR,EAAalC,cAAb,eAAmCzD,EAAK1D,WAAxC,OACZ,GAAI5H,EAAK,CACP,IAAMyL,EAAU,IAAIyF,EAAU,CAAE/D,aAChC1B,EAAQH,KAAOA,EACfG,EAAQzL,IAAMA,EACdyL,EAAQ6F,SACRzM,EAAMhJ,KAAK4P,KAVE,gCAcjB,OAAO5G,EAGuB,IAA5BqN,GAAiB3W,OAGnBiX,KAAKjR,MAAM,uHAAwH,CACjIkR,UAAU,EACVC,QAAQ,EACRC,SAAU,SAACC,GAAY,wBACFA,EAAQ7X,MADN,IACrB,2BAAiC,KAAtBuQ,EAAsB,QAC/B4G,GAAiBrW,KAAKyP,IAFH,gCAIrBgH,EAAQC,QAIZD,EAAQC,SAnCd,2C,yBA+CA,SAASM,GAAyBnF,EAAMlN,GACtC,IADkD,EAC5C0Q,EAAYC,OAAIC,OAAO0B,IACvBpL,EAASD,GAAuBH,GAAsB9G,IAFV,kBAIdkH,GAJc,IAIlD,2BAA4C,kCAAhC/B,EAAgC,KAArB0B,EAAqB,KACtC7B,EAAUkI,EAAKqB,cAAL,eAA2BpJ,EAA3B,OACRG,EAAMtF,EAAWsF,IAAIhB,UAAUtH,IAAImI,GAEzC,GAAIH,GAAWM,EAAK,CAClB,IAAMiN,EAASvN,EAAQuJ,cAAc,eACrC,GAAIgE,IAAWA,EAAOC,YAAY5C,QAAQ,aAAe,GAAK2C,EAAOC,YAAY5C,QAAQ,UAAY,GAAI,CAEvG,IAAM3E,EAAU,IAAIyF,EAAU,CAAE/D,aAC1B8F,EAAQ5L,EAASuF,KAAI,SAAA1P,GAAC,OAAIA,EAAEsK,oBAAoBsF,UAAU5P,EAAEsK,oBAAoB4I,QAAQ,KAAO,MAAIH,OACzGxE,EAAQH,KAAO,CACbW,eAA6B,SAAbnG,EAAIM,KAAkB,aAAeN,EAAIM,KACzDmD,KAAM0J,EAAM,IAEdxH,EAAQ6F,SAEJ9L,EAAQuD,UAAUmK,SAAS,mBAC7B1N,EAAUA,EAAQuJ,cAAc,iBAChCvJ,EAAQ2N,aAAa1H,EAAQ2H,IAAK5N,EAAQyB,oBAE1CzB,EAAQsG,YAAYL,EAAQ2H,QAxBc,iCAkCpD,SAASC,GAAiB3F,EAAMlN,GAQ9B,IAPA,IAAM0Q,EAAYC,OAAIC,OAAOkC,IACvBC,EAAQ,CAAC,CACb3L,WAAY,mBACX,CACDA,WAAY,oBAGd,MAAmB2L,EAAnB,eAA0B,CAArB,IAAMC,EAAI,KACPhO,EAAUkI,EAAKqB,cAAL,eAA2ByE,EAAK5L,WAAhC,OAEhB,GAAIpC,EAAS,CACX,IAAMiG,EAAU,IAAIyF,EAAU,CAAE/D,aAChC1B,EAAQ+H,KAAOA,EACf/H,EAAQ6F,SAER,IAAMtR,EAAMwF,EAAQuJ,cAAc,UAClCvJ,EAAQ2N,aAAa1H,EAAQ2H,IAAKpT,EAAIyT,sBAQrC,SAASC,GAAiBhG,EAAMlN,GACrC,IADiD,EAC3C0Q,EAAYC,OAAIC,OAAOuC,IACvBjM,EAASD,GAAuBH,GAAsB9G,IAFX,kBAIhBkH,GAJgB,IAIjD,2BAAyC,kCAA7B/B,EAA6B,KAAlBiO,EAAkB,KACjC5T,EAAM0N,EAAKqB,cAAL,eAA2BpJ,EAA3B,OAEZ,GAAI3F,EAAK,CACP,IAAM6T,EAAU,gBAAI7T,EAAI6I,iBAAiB,gBAErCgL,EAAQtY,QAAQ,WAClB,IAAMwX,EAASc,EAAQ,GACjBpI,EAAU,IAAIyF,EAAU,CAAE/D,aAChC1B,EAAQpE,SAAWuM,EACnBnI,EAAQ6F,SAGR,IAAMwC,EAASlL,SAASkF,cAAc,UACtCgG,EAAO/F,UAAY,yDACnB+F,EAAO5L,MAAQ,qBACf4L,EAAO1N,KAAO,SAEd,IAAMyG,EAAOjE,SAASkF,cAAc,QACpCjB,EAAKkH,UAAY,gBACjBlH,EAAKkB,UAAY,6BACjBlB,EAAKmH,iBAAiB,SAAS,SAACC,GAC9BA,EAAEC,iBACFD,EAAE1U,kBACFkM,EAAQuB,UAEV8G,EAAOhI,YAAYe,GAEnBkG,EAAOI,aAAaW,EAAQf,EAAOoB,WAAWpB,EAAOoB,WAAW5Y,OAAS,IAtBvD,KAVyB,iCA0C5C,SAAS6Y,GAAgB1G,EAAM2G,EAAQ7T,GAE5C,IAAIiN,GAAUC,EAAMlN,EAAWmG,QAE/B,IAAIqI,GAAoBtB,EAAMlN,EAAWmG,QAGzCkM,GAAwBnF,EAAMlN,GAC9B6S,GAAgB3F,EAAMlN,GACtBkT,GAAgBhG,EAAMlN,GAGtB,IAAIqE,EAAQ,GAIZ,OAHAA,EAAQA,EAAMqF,OAAO8G,GAAoBtD,IAEzC7I,EAAQA,EAAMqF,OAAOuH,GAAuB/D,EAAMlN,IAC3CqE,EAGF,SAAeyP,GAAtB,mC,iEAAO,WAAoC5G,GAApC,iGACQyE,GAAmBzE,GAD3B,mF,yBChfP,IAAI,GAAS,WAAa,IAAI9O,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,IAAI,OAAOJ,YAAY,aAAamI,MAAMnJ,EAAIqJ,QAAQC,MAAOtJ,EAAU,OAAES,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOC,kBAAyBX,EAAI2V,SAASjV,QACzP,GAAkB,GCItB,IACEnC,KAAM,eACNuM,MAAO,CAAC,OAAQ,SAAU,OAC1BY,QAHF,WAIIzL,KAAKsL,MAAMqK,KAAK1I,YAAYjN,KAAKqG,KAAKkO,MAExCvR,QAAS,CACP0S,SADJ,WAEM1V,KAAK4V,MAAM,WAAY5V,KAAKqG,QAGhCkF,MAAO,CACLtC,OADJ,WAEMjJ,KAAKqG,KAAKlF,IAAI+I,UAAU2L,OAAO,oBAAqB7V,KAAKiJ,UAG7DpE,SAAU,CACRiR,OADJ,WAEM,MAAO,QAAb,uBAEI1M,QAJJ,WAKM,MAAO,CACL,oBAAqBpJ,KAAKiJ,WC3BoT,MCOlV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCAf,IACE3K,KAAM,SACNuM,MAAO,CAAC,aAAc,SACtB5F,WAAY,CAAd,iBACE/I,KAAM,WAAR,OACA,aAEEqP,MAAO,CACLvF,MADJ,WACA,WACMhG,KAAK+V,QAAU/V,KAAKgG,MAAM+H,KAAI,SAApC,GACQ,MAAO,CACL9E,QAAQ,EACRqB,IAAK,EACLjE,KAAMA,EAEN,UAAV,cACUuG,QAASvG,EAAKkO,QAGlBvU,KAAK6Q,OAAOL,YAAc,OAAhC,QAAgC,CAAhC,cACMxQ,KAAKgW,WAAU,WAArB,uBAGEhT,QAAS,CACPuJ,UADJ,SACA,GACM,IADN,EACA,sDADA,kBAEA,cAFA,IAEA,0CACA,gBAHA,gCAKMvM,KAAK6Q,OAAOoF,QAAUC,GAExBC,MARJ,SAQA,GACMnW,KAAKsL,MAAMhC,YAAY4L,UAAY,GACnClV,KAAK6Q,OAAS,IAAI,GAAxB,GACM7Q,KAAK6Q,OAAOuF,QAEd9J,aAbJ,WAaA,wBACA,cADA,IACA,0CACA,aAFA,gCAIMtM,KAAK6Q,OAAOoF,QAAU,QC1DoT,MCO5U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIlW,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,8BAA8BsI,MAAM,CAAEiB,IAAKvK,EAAIsW,YAAc,OAAQ,CAAClW,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,GAAG,UAAY,MAAM,CAACF,EAAG,SAAS,CAACgB,IAAI,aAAad,MAAM,CAAC,WAAW,GAAG,0BAAyB,EAAM,kBAAiB,GAAOW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GAC5Y,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAACN,YAAY,sBAAsBV,MAAM,CAAC,KAAO,KAAK,QAAQA,GAAM,GAAOG,GAAI,CAACL,EAAG,SAAS,CAACJ,EAAIO,GAAG,kBAAkB,SAAS,CAACH,EAAG,SAAS,CAACY,YAAY,QAAQ,CAACZ,EAAG,SAAS,CAACE,MAAM,CAAC,WAAaN,EAAI4B,YAAYnB,GAAG,CAAC,OAAST,EAAIuW,sBAAsB,IAAI,GAAGnW,EAAG,SAAS,CAACgB,IAAI,oBAAoBd,MAAM,CAAC,WAAW,GAAG,0BAAyB,EAAM,kBAAiB,GAAOW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GACpc,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAACN,YAAY,sBAAsBV,MAAM,CAAC,KAAO,KAAK,QAAQA,GAAM,GAAOG,GAAI,CAACL,EAAG,SAAS,CAACJ,EAAIO,GAAG,gBAAgB,SAAS,CAACH,EAAG,SAAS,CAACY,YAAY,QAAQ,CAACZ,EAAG,gBAAgB,CAACgB,IAAI,sBAAsBd,MAAM,CAAC,WAAaN,EAAI4B,YAAYnB,GAAG,CAAC,OAAST,EAAIwW,6BAA6B,IAAI,GAAGpW,EAAG,SAAS,CAACE,MAAM,CAAC,WAAW,GAAG,0BAAyB,EAAM,kBAAiB,EAAM,UAAU,MAAMW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GACje,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAACN,YAAY,sBAAsBV,MAAM,CAAC,KAAO,KAAK,QAAQA,GAAM,GAAOG,GAAI,CAACL,EAAG,SAAS,CAACJ,EAAIO,GAAG,wBAAwB,QAAQiB,MAAM,CAACxC,MAAOgB,EAAiB,cAAEyB,SAAS,SAAUC,GAAM1B,EAAIyW,cAAc/U,GAAKE,WAAW,kBAAkB,CAACxB,EAAG,SAAS,CAACY,YAAY,QAAQ,CAACZ,EAAG,MAAM,CAACY,YAAY,UAAU,CAACZ,EAAG,MAAM,CAACJ,EAAIO,GAAG,qCAAqCH,EAAG,YAAY,CAACY,YAAY,OAAOV,MAAM,CAAC,MAAQ,GAAG,SAAW,MAAMF,EAAG,SAAS,CAACK,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIyW,eAAgB,KAAS,CAACzW,EAAIO,GAAG,gBAAgB,GAAGH,EAAG,SAAS,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,UAAYN,EAAIc,KAAKiB,QAAQ,eAAe,OAAO,MAAQ,uBAAuBP,MAAM,CAACxC,MAAOgB,EAAIc,KAAKmB,SAAuB,eAAER,SAAS,SAAUC,GAAM1B,EAAI0W,KAAK1W,EAAIc,KAAKmB,SAAU,iBAAkBP,IAAME,WAAW,kCAAkCxB,EAAG,aAAa,CAACE,MAAM,CAAC,UAAYN,EAAIc,KAAKiB,QAAQ,eAAe,OAAO,MAAQ,uBAAuBP,MAAM,CAACxC,MAAOgB,EAAIc,KAAKmB,SAAqB,aAAER,SAAS,SAAUC,GAAM1B,EAAI0W,KAAK1W,EAAIc,KAAKmB,SAAU,eAAgBP,IAAME,WAAW,gCAAgCxB,EAAG,aAAa,CAACE,MAAM,CAAC,UAAYN,EAAIc,KAAKiB,QAAQ,eAAe,OAAO,MAAQ,uBAAuBP,MAAM,CAACxC,MAAOgB,EAAIc,KAAKmB,SAAqB,aAAER,SAAS,SAAUC,GAAM1B,EAAI0W,KAAK1W,EAAIc,KAAKmB,SAAU,eAAgBP,IAAME,WAAW,gCAAgCxB,EAAG,aAAa,CAACE,MAAM,CAAC,UAAYN,EAAIc,KAAKiB,QAAQ,eAAe,OAAO,MAAQ,kBAAkBP,MAAM,CAACxC,MAAOgB,EAAIc,KAAKmB,SAAsB,cAAER,SAAS,SAAUC,GAAM1B,EAAI0W,KAAK1W,EAAIc,KAAKmB,SAAU,gBAAiBP,IAAME,WAAW,iCAAiCxB,EAAG,aAAa,CAACE,MAAM,CAAC,UAAYN,EAAIc,KAAKiB,QAAQ,eAAe,OAAO,MAAQ,0BAA0BP,MAAM,CAACxC,MAAOgB,EAAIc,KAAKmB,SAAkB,UAAER,SAAS,SAAUC,GAAM1B,EAAI0W,KAAK1W,EAAIc,KAAKmB,SAAU,YAAaP,IAAME,WAAW,6BAA6BxB,EAAG,MAAM,CAACY,YAAY,qBAAqB,CAAChB,EAAIO,GAAG,sBAAsBH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,iGAAiG,OAAS,WAAW,CAACN,EAAIO,GAAG,iBAAiBP,EAAIO,GAAG,SAAS,IAAI,IAAI,IAAI,IAAI,IAC/oE,GAAkB,GCVlB,GAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACY,YAAY,UAAU,CAACZ,EAAG,eAAe,CAACY,YAAY,OAAOV,MAAM,CAAC,eAAe,GAAG,cAAc,GAAG,MAAQ,SAAS,UAAY,GAAG,aAAa,4BAA4BG,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAO8G,KAAKgK,QAAQ,QAAQxR,EAAI2W,GAAGjW,EAAOkW,QAAQ,QAAQ,GAAGlW,EAAOpB,IAAI,SAAkB,KAAcU,EAAI6W,WAAWnW,KAAUc,MAAM,CAACxC,MAAOgB,EAAU,OAAEyB,SAAS,SAAUC,GAAM1B,EAAI8W,OAAOpV,GAAKE,WAAW,YAAa5B,EAAa,UAAEI,EAAG,MAAM,CAACY,YAAY,qBAAqB,CAAChB,EAAIO,GAAGP,EAAI6D,GAAG7D,EAAI+W,aAAe,GAAG,IAAI/W,EAAI6D,GAAG7D,EAAIgX,MAAMra,WAAWqD,EAAIa,KAAKT,EAAG,SAAS,CAACE,MAAM,CAAC,eAAe,IAAIG,GAAG,CAAC,MAAQT,EAAIiX,iBAAiB,CAACjX,EAAIO,GAAG,oBAAoBH,EAAG,SAAS,CAACK,GAAG,CAAC,MAAQT,EAAI6W,aAAa,CAAC7W,EAAIO,GAAG,sBAAsBH,EAAG,YAAY,CAACY,YAAY,OAAOV,MAAM,CAAC,MAAQ,GAAG,SAAW,MAAMF,EAAG,SAAS,CAACK,GAAG,CAAC,MAAQT,EAAIkX,QAAQ,CAAClX,EAAIO,GAAG,gBAAgB,GAAGH,EAAG,MAAM,CAACY,YAAY,QAAQ,CAACZ,EAAG,aAAa,CAACY,YAAY,OAAOV,MAAM,CAAC,eAAe,GAAG,MAAQ,sBAAsBkB,MAAM,CAACxC,MAAOgB,EAAgB,aAAEyB,SAAS,SAAUC,GAAM1B,EAAImX,aAAazV,GAAKE,WAAW,kBAAkBxB,EAAG,aAAa,CAACE,MAAM,CAAC,eAAe,GAAG,MAAQ,eAAe,OAAS,OAAO,MAAQ,QAAQkB,MAAM,CAACxC,MAAOgB,EAAS,MAAEyB,SAAS,SAAUC,GAAM1B,EAAIoX,MAAM1V,GAAKE,WAAW,WAAWxB,EAAG,aAAa,CAACY,YAAY,OAAOV,MAAM,CAAC,eAAe,GAAG,MAAQ,SAAS,MAAQ,UAAUkB,MAAM,CAACxC,MAAOgB,EAAS,MAAEyB,SAAS,SAAUC,GAAM1B,EAAIoX,MAAM1V,GAAKE,WAAW,WAAWxB,EAAG,aAAa,CAACY,YAAY,OAAOV,MAAM,CAAC,eAAe,GAAG,MAAQ,WAAW,MAAQ,YAAYkB,MAAM,CAACxC,MAAOgB,EAAS,MAAEyB,SAAS,SAAUC,GAAM1B,EAAIoX,MAAM1V,GAAKE,WAAW,WAAWxB,EAAG,aAAa,CAACY,YAAY,OAAOV,MAAM,CAAC,eAAe,GAAG,MAAQ,aAAa,MAAQ,cAAckB,MAAM,CAACxC,MAAOgB,EAAS,MAAEyB,SAAS,SAAUC,GAAM1B,EAAIoX,MAAM1V,GAAKE,WAAW,WAAWxB,EAAG,aAAa,CAACY,YAAY,OAAOV,MAAM,CAAC,eAAe,GAAG,MAAQ,iBAAiB,MAAQ,iBAAiBkB,MAAM,CAACxC,MAAOgB,EAAS,MAAEyB,SAAS,SAAUC,GAAM1B,EAAIoX,MAAM1V,GAAKE,WAAW,WAAWxB,EAAG,aAAa,CAACY,YAAY,OAAOV,MAAM,CAAC,eAAe,GAAG,MAAQ,UAAU,MAAQ,eAAekB,MAAM,CAACxC,MAAOgB,EAAS,MAAEyB,SAAS,SAAUC,GAAM1B,EAAIoX,MAAM1V,GAAKE,WAAW,YAAY,MAC5yE,GAAkB,G,kECwCtB,IACErD,KAAM,SACNuM,MAAO,CAAC,cACR3O,KAAM,WAAR,OACA,UACA,8EACA,gBACA,SACA,iBAEEuP,QAVF,WAWIzL,KAAK+J,SAAWA,SAASmG,cAAc,sBAEzCrL,SAAU,CACRuS,UADJ,WAEM,OAAOpX,KAAK6W,QAAU7W,KAAK6W,OAAOna,OAAS,IAG/CsG,QAAS,CACPqU,OADJ,WAEM,GAAIrX,KAAK+W,MAAMra,OAAS,EAAG,CACzB,IAAR,gCAEQ,GADAsD,KAAK+W,MAAM3L,SAAQ,SAA3B,2CACYkM,EAAa,CACfA,EAAYpN,UAAUG,IAAI,WAC1B,IAAV,+CACUzK,OAAO6K,SAAS,EAAG8M,EAAW,QAIpCP,eAZJ,WAaUhX,KAAK+W,MAAMra,OAAS,IACtBsD,KAAK8W,eAAiB,EAClB9W,KAAK8W,aAAe,IACtB9W,KAAK8W,aAAe9W,KAAK+W,MAAMra,OAAS,GAEtCsD,KAAK8W,aAAe9W,KAAK+W,MAAMra,OAAS,IAC1CsD,KAAK8W,aAAe,GAEtB9W,KAAKqX,WAGTT,WAxBJ,WAyBU5W,KAAK+W,MAAMra,OAAS,IACtBsD,KAAK8W,cAAgB,EACjB9W,KAAK8W,aAAe,IACtB9W,KAAK8W,aAAe9W,KAAK+W,MAAMra,OAAS,GAEtCsD,KAAK8W,aAAe9W,KAAK+W,MAAMra,OAAS,IAC1CsD,KAAK8W,aAAe,GAEtB9W,KAAKqX,WAGT7N,OApCJ,WAoCA,WACMxJ,KAAK8W,aAAe,EAEhB9W,KAAK6W,QAA0B,KAAhB7W,KAAK6W,QACjB7W,KAAKwX,OACRxX,KAAKwX,KAAO,IAAI,GAA1B,kBAIQxX,KAAKwX,KAAKC,OAAO,CACfC,KAAM,WAAhB,2BAGY1X,KAAKwX,OACPxX,KAAKwX,KAAKC,SACVzX,KAAKwX,KAAO,OAIlBG,YAvDJ,WAuDA,WAEM3X,KAAKwX,KAAKA,KAAKxX,KAAK6W,OAAQ,CAC1Be,oBAAqB5X,KAAKkX,aAC1BxO,OAAQ,SAAhB,GACU,OAAIsF,EAAKnH,cAAcyJ,QAAQ,SACtB,EAAnB,yBAGctC,EAAKnH,cAAcyJ,QAAQ,sBACtB,EAAnB,2BAGctC,EAAKnH,cAAcyJ,QAAQ,qBACtB,EAAnB,gCAGctC,EAAKnH,cAAcyJ,QAAQ,kBACtB,EAAnB,6BAGctC,EAAKnH,cAAcyJ,QAAQ,mBACtB,EAAnB,8BAIiB,EAAjB,wBAEQoH,KAAM,WAEJ,EAAV,0CACU,EAAV,aAIIT,MA1FJ,WA2FMjX,KAAK6W,OAAS,GACd7W,KAAK4V,MAAM,YAGfrK,MAAO,CACL5J,WADJ,WAGM3B,KAAK6W,OAAS,IAEhBM,MALJ,WAMMnX,KAAKwJ,UAEP0N,aARJ,WASMlX,KAAKwJ,UAEPqN,OAAQ,MAAZ,WACM7W,KAAKwJ,WACX,OCvKgV,MCO5U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAQhC,IAAkB,GAAW,CAACrG,YAAA,KAAUC,WAAA,KAAS4B,QAAA,KAAM1B,aAAA,OC1BvD,IAAI,GAAS,WAAa,IAAIvD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACY,YAAY,UAAU,CAACZ,EAAG,MAAM,CAACJ,EAAIO,GAAG,gDAAgDH,EAAG,YAAYA,EAAG,YAAY,CAACY,YAAY,OAAOV,MAAM,CAAC,MAAQ,GAAG,SAAW,MAAMF,EAAG,SAAS,CAACK,GAAG,CAAC,MAAQT,EAAIkX,QAAQ,CAAClX,EAAIO,GAAG,gBAAgB,GAAGH,EAAG,MAAM,CAACY,YAAY,QAAQ,CAACZ,EAAG,eAAe,CAACE,MAAM,CAAC,OAAS,GAAG,IAAM,IAAI,IAAM,QAAQ,KAAO,SAAS,MAAQ,iBAAiBkB,MAAM,CAACxC,MAAOgB,EAAgB,aAAEyB,SAAS,SAAUC,GAAM1B,EAAI8X,aAAapW,GAAKE,WAAW,kBAAkBxB,EAAG,eAAe,CAACE,MAAM,CAAC,OAAS,GAAG,KAAO,OAAO,eAAe,eAAe,MAAQ,qBAAqBkB,MAAM,CAACxC,MAAOgB,EAAoB,iBAAEyB,SAAS,SAAUC,GAAM1B,EAAI+X,iBAAiBrW,GAAKE,WAAW,uBAAuB,GAAGxB,EAAG,MAAM,CAACY,YAAY,eAAe,CAACZ,EAAG,QAAQ,CAACE,MAAM,CAAC,UAAY,GAAG,MAAQ,WAAWG,GAAG,CAAC,MAAQT,EAAIyJ,SAAS,CAACzJ,EAAIO,GAAG,qBAAsBP,EAAIgX,MAAMra,OAAS,EAAGyD,EAAG,MAAM,CAACY,YAAY,UAAU,CAACZ,EAAG,MAAM,CAACY,YAAY,qBAAqB,CAAChB,EAAIO,GAAGP,EAAI6D,GAAG7D,EAAI+W,aAAe,GAAG,IAAI/W,EAAI6D,GAAG7D,EAAIgX,MAAMra,WAAWyD,EAAG,SAAS,CAACE,MAAM,CAAC,eAAe,IAAIG,GAAG,CAAC,MAAQT,EAAIiX,iBAAiB,CAACjX,EAAIO,GAAG,oBAAoBH,EAAG,SAAS,CAACK,GAAG,CAAC,MAAQT,EAAI6W,aAAa,CAAC7W,EAAIO,GAAG,uBAAuB,GAAGP,EAAIa,MAAM,MAC7yC,GAAkB,GC2CtB,I,UAAA,CACEtC,KAAM,gBACNuM,MAAO,CAAC,cACR3O,KAAM,WAAR,OACA,SACA,eACA,eACA,sBAEEuP,QATF,WAUIzL,KAAK+J,SAAWA,SAASmG,cAAc,qBACvClQ,KAAK+X,SAAW/X,KAAKgY,eAEvBhV,QAAS,CACPqU,OADJ,WAEM,GAAIrX,KAAK+W,MAAMra,OAAS,EAAG,CACzB,IAAR,gCAEQ,GADAsD,KAAK+W,MAAM3L,SAAQ,SAA3B,2CACYkM,EAAa,CACfA,EAAYpN,UAAUG,IAAI,WAC1B,IAAV,+CACUzK,OAAO6K,SAAS,EAAG8M,EAAW,QAIpCP,eAZJ,WAaUhX,KAAK+W,MAAMra,OAAS,IACtBsD,KAAK8W,eAAiB,EAClB9W,KAAK8W,aAAe,IACtB9W,KAAK8W,aAAe9W,KAAK+W,MAAMra,OAAS,GAEtCsD,KAAK8W,aAAe9W,KAAK+W,MAAMra,OAAS,IAC1CsD,KAAK8W,aAAe,GAEtB9W,KAAKqX,WAGTT,WAxBJ,WAyBU5W,KAAK+W,MAAMra,OAAS,IACtBsD,KAAK8W,cAAgB,EACjB9W,KAAK8W,aAAe,IACtB9W,KAAK8W,aAAe9W,KAAK+W,MAAMra,OAAS,GAEtCsD,KAAK8W,aAAe9W,KAAK+W,MAAMra,OAAS,IAC1CsD,KAAK8W,aAAe,GAEtB9W,KAAKqX,WAGTlB,MApCJ,WAqCMnW,KAAK8W,aAAe,EACpB9W,KAAK+J,SAASG,UAAUC,OAAO,UAC/BnK,KAAK+J,SAASC,iBAAiB,eAAeoB,SAAQ,SAA5D,8CACMpL,KAAK+W,MAAQ,IAEfvN,OA1CJ,WA2CMxJ,KAAKmW,QACLnW,KAAK+J,SAASG,UAAUG,IAAI,UAG5B,IAAN,KAUM,SAAS4N,EAAf,GACQ,IAAR,uDACU,IAAV,OACU,OAAIC,GAAO7R,EAAK8R,GAEP,GAAnB,oBAEiB,QAIT,OAAOvT,EAAQwT,MAAK,SAA5B,yDAnBUpY,KAAK6X,aAAanb,OAAS,GAA2B,MAAtBsD,KAAK6X,eACvCQ,EAAOR,aAAeS,SAAStY,KAAK6X,eAGlC7X,KAAK8X,iBAAiBpb,OAAS,IACjC2b,EAAOP,iBAAmB9X,KAAK8X,kBAkBjC9X,KAAK+W,MAAQ,GA9BnB,wBA+BA,oCA/BA,IA+BA,0CACA,2DACA,IACA,8BACA,qBAnCA,gCAuCM/W,KAAKqX,UAEPJ,MAnFJ,WAoFMjX,KAAK4V,MAAM,WAEboC,YAtFJ,WAuFM,IAAN,KAsBM,OAlBA,GAAN,uIACQpE,UAAU,EACVC,QAAQ,EACRC,SAAU,SAAlB,GACUC,EAAQ7X,KAAKkP,SAAQ,SAA/B,GACY,IAAZ,GACctE,UAAWyR,EAAUxP,YAEnBwP,EAAUC,wBACZC,EAAYX,iBAAmB,CAACS,EAAUC,sBAAuBD,EAAUG,sBAEzEH,EAAUI,kBACZF,EAAYZ,aAAe,CAACe,OAAOL,EAAUI,iBAAkBC,OAAOL,EAAUM,mBAElFd,EAAS/a,KAAKyb,SAIbV,IAGXxM,MAAO,CACL5J,WADJ,WAGM3B,KAAKmW,YC5K4U,MCOnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAShC,IAAkB,GAAW,CAAClT,OAAA,KAAKG,WAAA,KAAS4B,QAAA,KAAMZ,UAAA,KAAQd,aAAA,OCmC1D,QACEhF,KAAM,UACNuM,MAAO,CAAC,cACR5F,WAAY,CAAd,4BACE/I,KAAM,WAAR,OACA,OACA,mBAEE2I,SAAU,CACRwR,YADJ,WAEM,OAAOrW,KAAK8Y,SAASC,YAAYC,IAAMhZ,KAAK8Y,SAASC,YAAYzO,MAGrEtH,QAAS,CACPsT,kBADJ,WAEMtW,KAAKsL,MAAM2N,WAAWC,UAAW,GAEnC3C,yBAJJ,WAKMvW,KAAKsL,MAAM6N,oBAAoBhD,QAC/BnW,KAAKsL,MAAM8N,kBAAkBF,UAAW,KCjFmS,M,sCCQ7U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACjW,OAAA,KAAKC,QAAA,KAAMC,YAAA,KAAUC,WAAA,KAASiW,SAAA,KAAMrU,QAAA,KAAM3B,QAAA,KAAMiW,YAAA,O,UCG9E,SAASC,GAAT,GACE,IADF,EACA,KADA,kBAGA,GAHA,IAGA,0CACA,MACA,aAGA,aACA,6BATA,4BAAAC,IAaE,OAAOC,EAGT,QACEnb,KAAM,aACNgG,kBAAkB,EAClBW,WAAY,CACVyU,QAAJ,GACIC,OAAJ,GACIC,QAAJ,IAEErO,MAAO,CACLsO,OADJ,SACA,KACUC,EAAGC,OAAOC,WAAaC,EAAKF,OAAOC,WACrCha,KAAKsL,MAAM4O,UAAUC,UAAY,GACjCna,KAAKoa,eAIX3O,QAhBF,WAkBSzL,KAAKsL,MAAM4O,UAAU9R,mBACxBpI,KAAKoa,YAEP3V,KAEFzB,QAAS,CACPoX,UADJ,WAEMpa,KAAKsL,MAAM4O,UAAUjN,YAAYjN,KAAK2B,WAAWuG,QAAQ8H,WAAU,IACnEhQ,KAAKuV,iBACLvV,KAAKqa,qBAEP9E,eANJ,WAMA,WACMvV,KAAKsL,MAAMkK,OAAOW,MAAMnW,KAAKsL,MAAM4O,UAAUrT,eAC7C7G,KAAKsJ,YAAc,GAAzB,sEAEMmM,GAAoBzV,KAAKsL,MAAM4O,UAAUrT,eAAeyT,MAAK,SAAnE,2BACA,GADA,IACA,0CACA,uBAFA,qCAMID,kBAhBJ,WAgBA,WAEM,GAAKza,OAAO2a,qBAAZ,CAGIva,KAAK+Q,UACP/Q,KAAK+Q,SAASyJ,aAIhBxa,KAAK+Q,SAAW,IAAIwJ,sBAAqB,SAA/C,GACQ,IAAR,mDACYtR,EAAOvM,SAEuC,IAA5C+d,UAAUC,UAAUnJ,QAAQ,aAC9B,EAAZ,2BAGA,CAEQoJ,WAAY,sBACZC,UAAW,CAAC,MAId,IAzBN,EAyBA,gCAzBA,kBA0BA,GA1BA,IA0BA,0CACA,6DACA,GACA,0BA7BA,oCAkCE/V,SAAU,CACRlD,WADJ,WAEM,IAAN,kCACM,OAAO0G,GAAOT,YAAYsG,MAAK,SAArC,wCAEI4H,OAAQ,WACN,MAAO,aAAe9V,KAAKa,KAAKkB,YAAYH,SAAW,MAEzDwH,QAAS,WACP,MAAO,CACL,uBAAwBpJ,KAAKa,KAAKkB,YAAYL,gBAGlDyH,iBAAkB,WAChB,MAAO,CACL,sBAAuBnJ,KAAKa,KAAKmB,SAASG,aAC1C,sBAAuBnC,KAAKa,KAAKmB,SAASI,aAC1C,kBAAmBpC,KAAKa,KAAKmB,SAASK,UACtC,sBAAuBrC,KAAKa,KAAKmB,SAASE,cAC1C,kBAAmBlC,KAAKa,KAAKmB,SAASC,kBAI5C/F,KAAM,WAAR,OACA,SACA,UACA,OACA,kBCtJoV,M,aCOhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAMhC,IAAkB,GAAW,CAAC8M,cAAA,KAAW6R,qBAAA,OCxBzC,IAAI,GAAS,WAAa,IAAI9a,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,KAAK,CAACY,YAAY,QAAQ,CAAChB,EAAIO,GAAG,gCAAgCH,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,GAAG,YAAY,KAAKN,EAAI4F,GAAI5F,EAAS,OAAE,SAASuI,EAAQwS,GAAO,OAAO3a,EAAG,cAAc,CAACd,IAAIyb,EAAMza,MAAM,CAAC,KAAOiI,QAAa,IAAI,IACpV,GAAkB,GCDlB,GAAS,WAAa,IAAIvI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,kBAAkB,CAACE,MAAM,CAAC,WAAW,GAAG,MAAQ,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,mBAAmB,CAACF,EAAG,eAAe,CAACJ,EAAIO,GAAGP,EAAI6D,GAAG7D,EAAIgb,YAAYhb,EAAIsG,KAAKqE,UAAU3K,EAAI4F,GAAI5F,EAAIsG,KAAW,QAAE,SAASwJ,EAAMiL,GAAO,OAAO3a,EAAG,MAAM,CAACd,IAAIyb,EAAM/Z,YAAY,aAAa,CAAkB,cAAhB8O,EAAMA,MAAuB1P,EAAG,OAAO,CAACJ,EAAIO,GAAG,eAAeH,EAAG,IAAI,CAACY,YAAY,uBAAuBV,MAAM,CAAC,KAAON,EAAIib,WAAWnL,EAAMoL,cAAc,OAAS,WAAW,CAAClb,EAAIO,GAAG,mBAAmBP,EAAI6D,GAAG7D,EAAImb,SAASrL,EAAMoL,oBAAqC,iBAAhBpL,EAAMA,MAA0B1P,EAAG,OAAO,CAACJ,EAAIO,GAAG,2BAA2BH,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAI6D,GAAG7D,EAAIob,WAAWtL,EAAMA,gBAAgB9P,EAAIsG,KAAwB,oBAAElG,EAAG,iBAAiB,CAACY,YAAY,aAAa,CAACZ,EAAG,QAAQ,CAACY,YAAY,YAAYV,MAAM,CAAC,SAAW,GAAG,MAAQ,UAAU,GAAK,cAAgBN,EAAIsG,KAAKsC,sBAAsB,CAAC5I,EAAIO,GAAG,uBAAwBP,EAAIqb,QAAc,OAAEjb,EAAG,QAAQ,CAACY,YAAY,YAAYV,MAAM,CAAC,SAAW,GAAG,MAAQ,WAAWG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIsb,aAAetb,EAAIsb,eAAe,CAACtb,EAAIO,GAAG,mBAAmBP,EAAIa,MAAM,GAAGb,EAAIa,KAAKT,EAAG,sBAAsB,CAAEJ,EAAe,YAAEI,EAAG,MAAM,CAACY,YAAY,aAAahB,EAAI4F,GAAI5F,EAAW,SAAE,SAASub,EAAOR,GAAO,OAAO3a,EAAG,SAAS,CAACd,IAAIyb,EAAM/Z,YAAY,QAAQ,CAACZ,EAAG,eAAe,CAACY,YAAY,kCAAkC,CAACZ,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,cAAgBN,EAAIsG,KAAKsC,oBAAsB,IAAM2S,EAAOC,QAAQ9U,KAAK,CAAC1G,EAAIO,GAAG,IAAIP,EAAI6D,GAAG0X,EAAOC,QAAQ5T,OAAO,QAAQ,GAAG5H,EAAI4F,GAAI2V,EAAc,SAAE,SAASxS,EAAQjD,GAAI,OAAO1F,EAAG,MAAM,CAACd,IAAIwG,EAAG9E,YAAY,aAAa,CAAE8E,EAAK,EAAG1F,EAAG,aAAaJ,EAAIa,KAAKT,EAAG,OAAO,CAACE,MAAM,CAAC,QAAUyI,EAAQ,aAAe/I,EAAI2N,iBAAiB,MAAKvN,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,6BAA6BkB,MAAM,CAACxC,MAAOgB,EAAgB,aAAEyB,SAAS,SAAUC,GAAM1B,EAAI2N,aAAajM,GAAKE,WAAW,mBAAmB,IAAI,MAAK,GAAG5B,EAAIa,QAAQ,IAAI,IAC7/D,GAAkB,GCqDtB,I,oBAAA,CACEqE,WAAY,CAAd,SACE3G,KAAM,cACNuM,MAAO,CAAC,QACR3O,KAJF,WAKI,MAAO,CACLmf,aAAa,EACbD,QAAS,GACT1N,cAAc,IAGlBjC,QAXF,WAYIzL,KAAKob,QAAUpb,KAAKwb,oBAEtBxY,QAAS,CACPwY,iBADJ,WACA,aAEA,+FAGA,UALA,kBAOA,GAPA,yBAOA,EAPA,QAQA,2FAEA,2CAEA,aACA,YACA,UACA,aAGA,6BAXA,+BAPA,gCAqBM,OAAO,gBAAb,aAEIT,YAxBJ,SAwBA,GACM,IAAN,cACA,qDACA,6DAEA,iFACM,OAAOU,GAETN,WAhCJ,SAgCA,GACM,MAAmB,kBAARO,EACFA,EAAIC,QAAQ,OAAO,SAAlC,6BAEe,IAGXT,SAvCJ,SAuCA,GACM,IAAN,qBACMU,EAAcA,EAAYC,MAAM,KAChC,IAAN,4BACM,OAAOC,GAETd,WA7CJ,SA6CA,GACM,IAAN,2EACA,mBACA,yBACM,OAAOe,MCrHwU,M,0BCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAahC,IAAkB,GAAW,CAAC9Y,OAAA,KAAKC,QAAA,KAAMc,aAAA,OAAaE,WAAA,OAAWd,WAAA,KAAS4Y,kBAAA,QAAkB5X,UAAA,KAAQiK,WAAA,KAAQ4N,iBAAA,OCb5G,QACE3d,KAAM,UACN2G,WAAY,CAAd,gBACE/I,KAAM,WAAR,OACA,oBCtBiV,M,aCO7U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAMhC,IAAkB,GAAW,CAAC8M,cAAA,KAAWkT,aAAA,OCxBzC,IAAI,GAAS,WAAa,IAAInc,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAAGJ,EAAIoc,iBAAuJpc,EAAIa,KAAzIT,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,GAAG,OAAS,OAAO,YAAc,KAAK,CAACN,EAAIO,GAAG,2CAAoDH,EAAG,WAAW,CAACwN,YAAY,CAAC,OAAS,WAAWxN,EAAG,SAAS,CAACY,YAAY,UAAUV,MAAM,CAAC,YAAY,UAAU,CAACF,EAAG,cAAc,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,WAAW,MAAQN,EAAIqc,cAAc,eAAe,mBAAmB,cAAcrc,EAAIsc,aAAe,UAAY,cAAc,SAAW,GAAG,KAAOtc,EAAIuc,gBAAgB9b,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAO8G,KAAKgK,QAAQ,QAAQxR,EAAI2W,GAAGjW,EAAOkW,QAAQ,QAAQ,GAAGlW,EAAOpB,IAAI,SAAkB,KAAcU,EAAIwc,OAAO9b,IAAS,eAAeV,EAAIyc,0BAA0Bjb,MAAM,CAACxC,MAAOgB,EAAY,SAAEyB,SAAS,SAAUC,GAAM1B,EAAI0c,SAAShb,GAAKE,WAAW,eAAe,GAAGxB,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,UAAU,UAAYN,EAAI0c,UAAyBjc,GAAG,CAAC,MAAQT,EAAIwc,SAAS,CAACxc,EAAIO,GAAG,cAAc,IAAI,IAAI,IAC3jC,GAAkB,GCDToc,GAAW,CACtBC,KAAM,GACNC,QAFsB,SAEbF,GACP1c,KAAK2c,KAAOD,ICmChB,IACEpe,KAAM,QACNpC,KAFF,WAGI,MAAO,CACLugB,SAAU,GACVN,kBAAkB,EAClBE,cAAc,EACdC,eAAgB,aAGpBtZ,QAAS,CACPuZ,OADJ,WAE4B,kBAAlBvc,KAAKyc,UACPla,aAAaK,QAAQ,YAAY,GAC7B8Z,GAASC,MACX3c,KAAK6c,QAAQ7f,KAAK0f,IAClBA,GAASC,KAAO,IAEhB3c,KAAK6c,QAAQ7f,KAAK,MAE5B,0BAEIwf,yBAZJ,WAaMxc,KAAKqc,cAAgBrc,KAAKqc,aAC1Brc,KAAKsc,eAAyC,SAAxBtc,KAAKsc,eAA4B,WAAa,SAGxEzX,SAAU,CACRuX,cADJ,WAEM,MAAO,CACb,YAAQ,QAAR,+BCpE+U,MCO3U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACrY,SAAA,KAAOd,OAAA,KAAKC,QAAA,KAAMc,aAAA,OAAaC,UAAA,OAAU+E,cAAA,KAAW5E,UAAA,KAAQd,aAAA,OC9B1F,IAAI,GAAS,WAAa,IAAIvD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,sBAAsB,CAACE,MAAM,CAAC,QAAU,GAAG,IAAM,GAAG,MAAQ,GAAG,MAAQ,mBAAmB,CAACF,EAAG,mBAAmB,CAACE,MAAM,CAAC,UAAYN,EAAI+c,WAAWtc,GAAG,CAAC,SAAWT,EAAIgd,sBAAsB,GAAG5c,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,mBAAmB,CAACgB,IAAI,UAAUd,MAAM,CAAC,UAAYN,EAAI+c,UAAU,WAAa/c,EAAI+c,UAAUnb,eAAe,IAAI,IACpc,GAAkB,GCDlB,I,UAAS,WAAa,IAAI5B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACY,YAAY,QAAQ,CAACZ,EAAG,QAAQ,CAACY,YAAY,OAAOV,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,GAAK,gBAAgB,CAACF,EAAG,SAAS,CAACJ,EAAIO,GAAG,sBAAsBP,EAAIO,GAAG,WAAW,GAAGH,EAAG,SAAS,CAACY,YAAY,QAAQ,CAACZ,EAAG,eAAe,CAACY,YAAY,OAAOV,MAAM,CAAC,MAAQ,OAAO,eAAe,OAAO,KAAO,QAAQkB,MAAM,CAACxC,MAAOgB,EAAI+c,UAAc,KAAEtb,SAAS,SAAUC,GAAM1B,EAAI0W,KAAK1W,EAAI+c,UAAW,OAAQrb,IAAME,WAAW,oBAAoBxB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,cAAc,eAAe,QAAQkB,MAAM,CAACxC,MAAOgB,EAAI+c,UAAgB,OAAEtb,SAAS,SAAUC,GAAM1B,EAAI0W,KAAK1W,EAAI+c,UAAW,SAAUrb,IAAME,WAAW,uBAAuB,GAAI5B,EAAI+c,UAAgB,OAAE3c,EAAG,gBAAgB,CAACoB,MAAM,CAACxC,MAAOgB,EAAIQ,OAAmB,aAAEiB,SAAS,SAAUC,GAAM1B,EAAI0W,KAAK1W,EAAIQ,OAAQ,eAAgBkB,IAAME,WAAW,wBAAwB,CAACxB,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,4BAA4B,OAAQ,KAASF,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,+BAA+B,OAAQ,MAAS,GAAGN,EAAIa,KAAKT,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,QAAQW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GACrqC,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAAChB,MAAM,CAAC,MAAQ,GAAG,SAAiE,IAAtDN,EAAI+c,UAAUnb,WAAWqb,kBAAkBtgB,SAAe,QAAQ2D,GAAM,GAAOG,GAAI,CAACT,EAAIO,GAAG,wBAAwBiB,MAAM,CAACxC,MAAOgB,EAAuB,oBAAEyB,SAAS,SAAUC,GAAM1B,EAAIkd,oBAAoBxb,GAAKE,WAAW,wBAAwB,CAACxB,EAAG,oBAAoB,CAACE,MAAM,CAAC,UAAYN,EAAI+c,WAAWtc,GAAG,CAAC,OAAS,SAASC,GAAQV,EAAIkd,qBAAsB,OAAW,IAAI,GAAG9c,EAAG,MAAM,CAACY,YAAY,QAAQ,CAACZ,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,OAAOW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GAC5iB,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAAChB,MAAM,CAAC,MAAQ,UAAU,MAAQ,KAAK,QAAQA,GAAM,GAAOG,GAAI,CAACT,EAAIO,GAAG,gCAAgCiB,MAAM,CAACxC,MAAOgB,EAAoB,iBAAEyB,SAAS,SAAUC,GAAM1B,EAAImd,iBAAiBzb,GAAKE,WAAW,qBAAqB,CAACxB,EAAG,SAAS,CAACY,YAAY,kBAAkB,CAACZ,EAAG,eAAe,CAACJ,EAAIO,GAAG,mBAAmBH,EAAG,cAAc,CAACY,YAAY,QAAQ,CAACZ,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,SAAS,CAACN,EAAIO,GAAG,2FAA2F,GAAGH,EAAG,qBAAqB,CAACY,YAAY,aAAahB,EAAI4F,GAAI5F,EAAa,WAAE,SAASod,GAAW,OAAOhd,EAAG,oBAAoB,CAACd,IAAI8d,EAAU1W,IAAI,CAACtG,EAAG,2BAA2B,CAACJ,EAAIO,GAAGP,EAAI6D,GAAGuZ,EAAUxV,UAAUxH,EAAG,4BAA4B,CAACA,EAAG,QAAQ,CAACK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIqd,aAAaD,MAAc,CAACpd,EAAIO,GAAG,0BAA0B,IAAI,MAAK,GAAGH,EAAG,aAAaA,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAImd,kBAAmB,KAAS,CAACnd,EAAIO,GAAG,YAAY,IAAI,IAAI,IAAI,GAAGH,EAAG,qBAAqB,CAACY,YAAY,YAAYV,MAAM,CAAC,UAAY,IAAIkB,MAAM,CAACxC,MAAOgB,EAAY,SAAEyB,SAAS,SAAUC,GAAM1B,EAAIsd,SAAS5b,GAAKE,WAAW,aAAa5B,EAAI4F,GAAI5F,EAAoB,kBAAE,SAASod,EAAUtX,GAAI,OAAO1F,EAAG,oBAAoB,CAACd,IAAIwG,GAAI,CAAC1F,EAAG,2BAA2B,CAACJ,EAAIO,GAAGP,EAAI6D,GAAGuZ,EAAUxV,UAAUxH,EAAG,4BAA4B,CAACA,EAAG,iBAAiB,CAACE,MAAM,CAAC,UAAY8c,EAAU,UAAYpd,EAAI+c,WAAWtc,GAAG,CAAC,QAAUT,EAAIud,oBAAoB,IAAI,MAAK,IAAI,KAC9hD,GAAkB,GCPhBC,I,UAAY,IAAIrX,KAEf,SAAesX,GAAtB,qC,iEAAO,WAAwBC,EAAQC,GAAhC,gGACCre,EAAMoe,EAASC,GACjBH,GAAUxW,IAAI1H,GAFb,yCAGIke,GAAU5e,IAAIU,IAHlB,uBAMkBse,MAAM,kEAAmE,CAC9FC,OAAQ,OACRzV,KAAM1F,KAAKI,UAAU,CACnB4a,OAAQA,EACRC,MAAOA,MAVN,UAMCG,EAND,OAamB,MAApBA,EAASC,OAbR,iCAcgBD,EAASE,OAdzB,cAcG7hB,EAdH,OAgBG8hB,EAAO9hB,EAAK2R,UAAY3R,EAAK2R,UAAY6P,EAC/CH,GAAU/W,IAAInH,EAAK2e,GAjBhB,kBAkBIA,GAlBJ,4C,yBAsbP,IAhaO,IAAMC,GAAb,WACE,WAAatc,GAAY,wBACvB3B,KAAK2B,WAAaA,EAClB3B,KAAKke,SAAWvc,EAAWuG,QAE3BlI,KAAK2G,QAAU,KAEf3G,KAAKgd,kBAAoB,GAEzBhd,KAAKme,kBATT,6CAYE,WACE,IAAMvY,EAAO,IAAIqY,EAAoBje,KAAK2B,YAG1C,OAFAiE,EAAKoX,kBAAoBhd,KAAKgd,kBAAkBjP,KAAI,SAAAsD,GAAC,OAAIA,EAAE+M,WAC3DxY,EAAKuY,kBACEvY,IAhBX,0BAmBE,SAAcuX,GACZnd,KAAKgd,kBAAkBhgB,KAAKmgB,EAAUiB,SACtCpe,KAAKme,oBArBT,6BAwBE,SAAiBhB,GACfnd,KAAKgd,kBAAkBpf,OAAOoC,KAAKgd,kBAAkBzL,QAAQ4L,GAAY,GACzEnd,KAAKme,oBA1BT,6BAgCE,WACEne,KAAK2G,QAAU3G,KAAKke,SAASlO,WAAU,GADtB,wBAGOhQ,KAAKgd,mBAHZ,IAGjB,2BAAgD,KAArCG,EAAqC,QAC9Cnd,KAAKqe,eAAelB,IAJL,mCAhCrB,4BA2CE,SAAgBA,GACd,IAAIO,GAAQ,EACR/W,EAAU,KAEVwW,EAAUrW,UAEZH,EAAU3G,KAAK2G,QAAQuJ,cAAb,eAAmCiN,EAAUrW,UAA7C,QAGVH,EAAU3G,KAAK2G,QAAQuJ,cAAb,eAAmCiN,EAAUmB,eAA7C,OACVZ,GAAQ,GAGN/W,IACE+W,EACF/W,EAAQ4X,sBAAsB,WAAYpB,EAAUxW,QAAQqJ,WAAU,IAEtErJ,EAAQ6X,WAAWC,aAAatB,EAAUxW,QAAQqJ,WAAU,GAAOrJ,MA5D3E,qFAqEE,WAAqBwW,GAArB,2FACMA,EAAUrW,UADhB,mBAEU2W,EAASzd,KAAKke,SAAShO,cAAd,eAAoCiN,EAAUrW,UAA9C,QACX2W,EAHR,yCAIaD,GAAQC,EAAOiB,UAAWvB,EAAUxW,QAAQ+X,YAJzD,gCASS,oBAAsBvB,EAAUxW,QAAQ+X,UAAY,UAT7D,gDArEF,iEAkFaC,GAAb,WACE,WAAalY,EAAIyX,EAAUpX,EAAWwX,EAAgB3W,GAAO,wBAC3D3H,KAAKyG,GAAKA,EAGgB,kBAAdyX,IACVA,GAAW,IAAInW,WAAYC,gBAAgBkW,EAAU,aAAa/V,KAAKC,mBAEzEpI,KAAKke,SAAWA,EAChBle,KAAK2G,QAAUuX,EACfle,KAAK8G,UAAYA,EACjB9G,KAAKse,eAAiBA,EACtBte,KAAK2H,MAAQA,EACb3H,KAAK4e,QAAU,KAbnB,6CAgBE,WACE,IAAMzB,EAAY,IAAIwB,EACpB3e,KAAKyG,GAAIzG,KAAKke,SAASlO,WAAU,GAAOhQ,KAAK8G,UAAW9G,KAAKse,eAAgBte,KAAK2H,OAEpF,OADAwV,EAAU0B,WAAW7e,KAAK4e,SACnBzB,IApBX,+BAuBE,SAAmBtO,GACjB,GAAI7O,KAAK8G,UACP,OAAO+H,EAAKqB,cAAL,eAA2BlQ,KAAK8G,UAAhC,OAEP,IAAM3F,EAAM0N,EAAKqB,cAAL,eAA2BlQ,KAAKse,eAAhC,OACZ,OAAInd,EACKA,EAAIyT,wBADb,IA5BN,4BAkCE,SAAgBjT,GACd,IAAMmO,EAAYnO,EAAWA,WAAWsF,IAAI6X,0BAA0B9e,KAAK8G,WAAa9G,KAAKse,gBAE7F,OAAIte,KAAK8G,UACP,UAAUgJ,EAAUnI,MAApB,mBAEA,0CAA0CmI,EAAUnI,SAxC1D,yBA4CE,WAAe,WACb,OAAO,gBAAIoX,GAAS1G,UAAU3P,QAAO,SAAAsW,GAAC,OAAIA,EAAEC,SAAW,EAAKxY,QA7ChE,wBAgDE,SAAYmY,GACNA,GACF5e,KAAK4e,QAAUA,EACf5e,KAAK2G,SAAU,IAAIoB,WAAYC,gBAAgB4W,EAAQM,KAAM,aAAa/W,KAAKC,oBAG/EpI,KAAK4e,QAAU,KACf5e,KAAK2G,QAAU3G,KAAKke,YAvD1B,oBA2DE,WACE,OAAOle,KAAKyG,GAAK,KAAOzG,KAAK4e,QAAU5e,KAAK4e,QAAQnY,GAAK,MA5D7D,qFAmEE,WAAqB0Y,GAArB,0GACS3B,GAAQ2B,EAASxY,QAAQ+X,UAAW1e,KAAK2G,QAAQ+X,YAD1D,gDAnEF,2FAuEE,WACE,IAEIhf,EAFEwf,EAAOlf,KAAK2G,QAAQqJ,WAAU,GAIlCtQ,EADEwf,EAAKhV,UAAUmK,SAAS,SACtB6K,EAEA,gBAAIA,EAAKlV,iBAAiB,WAAWoV,OAASF,EAEpD,IAAIG,EAAQ3f,EAAE4f,UACd,MAAOD,GAASA,EAAME,WAAaF,EAAMG,UAAWH,EAAQA,EAAMC,UAKlE,OAJID,IACFA,EAAMlL,YAAckL,EAAMlL,YAAc,KAGnC+K,EAAKR,cAtFhB,KA0FMe,GAAgB,CAAC,CACrBhZ,GAAI,EACJkB,MAAO,mBACPb,UAAW,KACXwX,eAAgB,yBAChBY,KAAM,6zBAoBL,CACDzY,GAAI,EACJkB,MAAO,sCACP2W,eAAgB,2BAChBY,KAAM,wwFAuCL,CACDzY,GAAI,EACJkB,MAAO,cACPb,UAAW,QACXoY,KAAM,kuBAUL,CACDzY,GAAI,EACJkB,MAAO,mBACPb,UAAW,qBACXoY,KAAM,8LAGL,CACDzY,GAAI,EACJkB,MAAO,eACPb,UAAW,0CACXoY,KAAM,kSAMFQ,GAAoB,CAAC,CACzBjZ,GAAI,MACJwY,OAAQ,EACRtX,MAAO,WACPuX,KAAM,g3DAgDL,CACDzY,GAAI,MACJwY,OAAQ,EACRtX,MAAO,WACPuX,KAAM,wnGAwCL,CACDzY,GAAI,MACJwY,OAAQ,EACRtX,MAAO,WACPuX,KAAM,gkGA0CKS,GAAaF,GAAc1R,KAAI,SAACsD,GAAD,OAAO,IAAIsN,GAAUtN,EAAE5K,GAAI4K,EAAE6N,KAAM7N,EAAEvK,UAAWuK,EAAEiN,eAAgBjN,EAAE1J,UAEnGoX,GAAW,IAAI7Y,IAC5B,QAAgBwZ,GAAhB,kBAAmC,CAA9B,IAAMV,GAAC,OACVD,GAASvY,IAAIwY,GAAEvY,GAAIuY,ICzbrB,IAAI,GAAS,WAAa,IAAIjf,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACA,EAAG,eAAe,CAACY,YAAY,kBAAkB,CAAChB,EAAIO,GAAG,0BAA0BH,EAAG,MAAM,CAACY,YAAY,OAAO4M,YAAY,CAAC,aAAa,OAAO,aAAa,SAAS,CAACxN,EAAG,MAAM,CAACY,YAAY,2CAA2C6M,SAAS,CAAC,UAAY7N,EAAI6D,GAAG7D,EAAI6f,cAAczf,EAAG,aAAaA,EAAG,iBAAiB,CAAEJ,EAAI+c,UAAgB,OAAE3c,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,uCAAuCkB,MAAM,CAACxC,MAAOgB,EAAgB,aAAEyB,SAAS,SAAUC,GAAM1B,EAAIwE,aAAa9C,GAAKE,WAAW,kBAAkB5B,EAAIa,KAAKT,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWG,GAAG,CAAC,MAAQT,EAAI8f,SAAS,CAAC9f,EAAIO,GAAG,YAAY,IAAI,IACvuB,GAAkB,GCkBtB,I,UAAA,CACEhC,KAAM,gBACNuM,MAAO,CAAC,aACR3O,KAAM,WAAR,OACA,gBACA,aAEEuP,QAPF,WAQIzL,KAAK8f,iBAEPvU,MAAO,CACLhH,aADJ,WAEMvE,KAAK8f,kBAGT9c,QAAS,CACP8c,cADJ,WACA,WACU9f,KAAKuE,aAEPiZ,GACR,wDACA,oEACU,EAAV,aAGQxd,KAAK4f,QAAU5f,KAAK8c,UAAUiD,wBAAwBrB,WAG1DmB,OAbJ,WAcM7f,KAAK4V,MAAM,cChD0U,MCOvV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAWhC,IAAkB,GAAW,CAAC3S,OAAA,KAAKC,QAAA,KAAMc,aAAA,OAAaE,WAAA,OAAWd,WAAA,KAASgB,UAAA,KAAQiK,WAAA,OC7BlF,IAAI,GAAS,WAAa,IAAItO,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAIod,UAAU6C,cAActjB,OAAS,EAAGyD,EAAG,gBAAgB,CAACoB,MAAM,CAACxC,MAAOgB,EAAW,QAAEyB,SAAS,SAAUC,GAAM1B,EAAI6e,QAAQnd,GAAKE,WAAW,YAAY,CAACxB,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,IAAI,MAAQ,kBAAkBN,EAAI4F,GAAI5F,EAAIod,UAAU6C,eAAe,SAASpB,GAAS,OAAOze,EAAG,UAAU,CAACd,IAAIuf,EAAQnY,GAAGpG,MAAM,CAAC,MAAQue,EAAQjX,MAAM,MAAQiX,EAAQnY,UAAS,GAAG1G,EAAIa,KAAKT,EAAG,MAAM,CAACY,YAAY,mBAAmB,CAACZ,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,OAAOG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIoK,YAAY,CAACpK,EAAIO,GAAG,aAAa,IAAI,IAC3nB,GAAkB,GCoBtB,IACEhC,KAAM,iBACNuM,MAAO,CAAC,YAAa,aACrB3O,KAAM,WAAR,OACA,cAEEuP,QANF,WAOIzL,KAAK4e,QAAU5e,KAAKmd,UAAUyB,QAAU5e,KAAKmd,UAAUyB,QAAQnY,GAAK,KAEtE8E,MAAO,CACLqT,QADJ,SACA,GACoB,MAAV7f,IAAeA,EAAQ,MAC3BiB,KAAKmd,UAAU0B,WAAWE,GAASpgB,IAAII,IACvCiB,KAAK8c,UAAUnb,WAAWwc,oBAG9Bnb,QAAS,CACPmH,OADJ,WAEU8V,QAAQ,kCACVjgB,KAAK4V,MAAM,UAAW5V,KAAKmd,cCxCqT,M,0BCOpV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAACla,OAAA,KAAKid,UAAA,KAAOC,eAAA,OCyD1C,QACE7hB,KAAM,mBACN2G,WAAY,CAAd,wCACE4F,MAAO,CAAC,aACR3O,KAAM,WAAR,OACA,oBACA,uBACA,YACA,cACA,WAEE2I,SAAU,CACRub,UADJ,WACA,WACM,OAAO,GAAb,gHAEIC,iBAJJ,WAIA,WAEM,OAAOrgB,KAAK8c,UAAUnb,WAAWqb,kBAAkB5L,MAAK,SAA9D,KACQ,IAAR,wCAGA,wDACA,wDACQ,OAAOkP,EAAKha,QAAUia,EAAKja,aAIjCiF,MAAO,CACL8R,SADJ,SACA,QACoBmD,IAAV1F,GAEF9a,KAAK4V,MAAM,WAAY5V,KAAK8c,UAAUnb,WAAWqb,kBAAkBlC,MAIzE9X,QAAS,CACPoa,aADJ,SACA,GACMpd,KAAK8c,UAAUnb,WAAWyb,aAAaD,GACvCnd,KAAKkd,kBAAmB,GAE1BI,gBALJ,SAKA,GACMtd,KAAK8c,UAAUnb,WAAW2b,gBAAgBH,GAC1Cnd,KAAKqd,SAAW,QC5HoU,M,oDCOtV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAuBhC,IAAkB,GAAW,CAACtZ,SAAA,KAAOd,OAAA,KAAKC,QAAA,KAAMc,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,UAAA,KAAQf,WAAA,KAASqd,mBAAA,KAAgBC,0BAAA,KAAuBC,yBAAA,KAAsBC,oBAAA,KAAiBvH,SAAA,KAAMrU,QAAA,KAAMkb,UAAA,KAAOC,eAAA,KAAY/T,UAAA,KAAOhI,UAAA,KAAQd,aAAA,OCzC/N,IAAI,GAAS,WAAa,IAAIvD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,8BAA8B,CAACZ,EAAG,UAAU,CAACY,YAAY,gCAAgC,CAACZ,EAAG,MAAM,CAACgB,IAAI,YAAYJ,YAAY,8BAClP,GAAkB,GCUtB,IACEzC,KAAM,mBACNuM,MAAO,CAAC,YAAa,cACrB3O,KAAM,WAAR,OACA,WAEEuP,QANF,WAOIzL,KAAKoa,aAEPpX,QAAS,CACPoX,UADJ,WAEMpa,KAAKsL,MAAM4O,UAAUC,UAAY,GACjCna,KAAKsL,MAAM4O,UAAUjN,YAAYjN,KAAK2B,WAAWgF,QAAQqJ,WAAU,IACnEhQ,KAAK6gB,gBAEPA,aANJ,WAMA,wBACA,mCADA,IACA,0CACA,qBAFA,kCAKIC,YAXJ,SAWA,GACM,IAAN,4CACM,GAAIna,EAAS,CAEX,IAAR,gCACQqX,EAAK9O,UAAY,oBAEjB,IAAR,wHAEYlP,KAAKO,OAAOgE,cAAgBwc,EAE9B5D,EAAU6D,cAAcD,GAAMzG,MAAK,SAA7C,GACY0D,EAAK7D,UAAY+E,KAGnBlf,KAAK2B,WAAWqf,cAAc7D,GAAW7C,MAAK,SAAxD,GACY0D,EAAK7D,UAAY+E,KAIrBvY,EAAQ4X,sBAAsB,WAAYP,GAC1CrX,EAAQwD,WAGZ4S,kBAnCJ,SAmCA,GACM,IAAN,4CACU5b,GACFnB,KAAK8Y,SAASmI,KAAK9f,EAAK,CACtB+f,OAAQ,QAKhB3V,MAAO,CACL,qBAAsB,WACpBvL,KAAKoa,aAEP,sBAAuB,WACrBpa,KAAKoa,eCrE+U,MCOtV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIra,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,UAAUV,MAAM,CAAC,YAAY,aAAa,CAACF,EAAG,OAAO,CAACY,YAAY,gBAAgB,CAACZ,EAAG,KAAK,CAACJ,EAAIO,GAAG,yCAAyCP,EAAI4F,GAAI5F,EAAW,SAAE,SAASohB,EAAMtb,GAAI,OAAO1F,EAAG,UAAU,CAACd,IAAIwG,EAAG9E,YAAY,WAAWV,MAAM,CAAC,GAAK8gB,EAAMla,IAAIR,KAAK,CAACtG,EAAG,KAAK,CAACY,YAAY,eAAe,CAACZ,EAAG,OAAO,CAACY,YAAY,uBAAuB,CAAChB,EAAIO,GAAGP,EAAI6D,GAAGud,EAAMC,kBAAkBjhB,EAAG,OAAO,CAACY,YAAY,uBAAuB,CAAChB,EAAIO,GAAGP,EAAI6D,GAAGud,EAAME,oBAAoBthB,EAAI4F,GAAIwb,EAAgB,YAAE,SAAShE,EAAU9L,GAAG,OAAOlR,EAAG,UAAU,CAACd,IAAIgS,EAAEtQ,YAAY,gBAAgBV,MAAM,CAAC,GAAO8gB,EAAMla,IAAM,GAAI,WAAckW,EAAa,MAAK,CAAChd,EAAG,OAAO,CAACY,YAAY,WAAW,CAAChB,EAAIO,GAAGP,EAAI6D,GAAGuZ,EAAUzV,QAAQvH,EAAG,OAAO,CAACY,YAAY,eAAe,CAACZ,EAAG,OAAO,CAACY,YAAY,SAAS,CAAChB,EAAIO,GAAG,IAAIP,EAAI6D,GAAGuZ,EAAUmE,aAAa,MAAMnhB,EAAG,MAAM,CAACY,YAAY,sBAAsBV,MAAM,CAAC,GAAK8c,EAAU9d,MAAM,CAACc,EAAG,OAAO,CAACY,YAAY,mCAAmC,CAAChB,EAAIO,GAAG,OAAQH,EAAG,MAAM,CAACyN,SAAS,CAAC,UAAY7N,EAAI6D,GAAGuZ,EAAUtP,0BAAyB,OAAM,MACzoC,GAAkB,GC4BtB,IACEvP,KAAM,gBACN0E,QAAS,CACP6c,OADJ,WAEM7f,KAAK4V,MAAM,YAGf1Z,KAAM,WAAR,OACA,iBAEE2I,SAAU,CACR0c,QADJ,WAGM,IAFN,EAEA,4BACA,UACA,mBAJA,kBAMA,qBANA,IAMA,0CACA,GACA,gCACA,eAEA,mCAGA,gCACA,iCACA,GACA,aACA,eAEA,qBAEA,oCAtBA,gCA0BM,IA1BN,EA0BA,KA1BA,kBA2BA,GA3BA,IA2BA,2EACA,qBACA,QACA,MACA,6DACA,gDACA,gBAjCA,gCAqCMA,EAAQnQ,MAAK,SAAnB,2CAIM,IADA,IAAN,IACA,uDACA,cADA,IACA,0CACA,UACA,GAHA,iCAOM,OAAOmQ,KCxF0U,MCOnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCdTC,GAAyBlP,OAAIC,OAAOkP,IAEpCC,G,WACJ,WAAajb,EAAIiE,EAAMtE,EAAQzE,GAAY,wBACzC3B,KAAKyG,GAAKA,EACVzG,KAAK0K,KAAOA,EACZ1K,KAAKoG,OAASA,EACdpG,KAAK2B,WAAaA,E,6DAGpB,WAEE,IAAMggB,EAAY,IAAIH,GAGtB,OAFAG,EAAU7E,UAAY9c,KACtB2hB,EAAUlP,SACHkP,EAAUpN,IAAIvE,WAAU,O,KAI/B4R,GAAM,EACGC,GAAa,GACnB,SAASC,GAAcC,GAC5B,IAAMC,EAAQC,eAASC,MAEjBC,EAAM,IAAIT,GACdE,KACAI,EAAMI,YACNL,EACAA,EAAWA,EAASpgB,WAAWyc,QAAU,MAG3C,OADAyD,GAAW7kB,KAAKmlB,GACTA,EAGF,SAASE,GAAiBvF,GAC/B+E,GAAWjkB,OAAOikB,GAAWtQ,QAAQuL,GAAY,GCrBnD,QACExe,KAAM,aACN2G,WAAY,CAAd,yCACEJ,SAAU,CACRiY,UADJ,WACA,WACM,OAAO+E,GAAW3T,MAAK,SAA7B,oDAGElL,QAAS,CACP+Z,kBADJ,SACA,GACUI,GACFnd,KAAKsL,MAAMsB,QAAQmQ,kBAAkBI,MC7BsS,MCO/U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAMhC,IAAkB,GAAW,CAACnU,cAAA,KAAW6R,qBAAA,OCxBzC,IAAI,GAAS,WAAa,IAAI9a,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,KAAK,CAACY,YAAY,QAAQ,CAAChB,EAAIO,GAAG,yCAAyCH,EAAG,IAAI,CAACJ,EAAIO,GAAG,kJAAkJH,EAAG,IAAI,CAACJ,EAAIO,GAAG,0HAA0HH,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,iBAAiB,CAACY,YAAY,OAAOV,MAAM,CAAC,MAAQ,IAAIW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,UAAU6B,GAAG,WAAW,MAAO,CAACf,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,UAAUH,EAAG,KAAK,CAACJ,EAAIO,GAAG,eAAeH,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,gBAAgBH,EAAG,KAAK,CAACJ,EAAIO,GAAG,oCAAoCH,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,gBAAgBH,EAAG,KAAK,CAACJ,EAAIO,GAAG,4CAA4CH,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,gBAAgBH,EAAG,KAAK,CAACJ,EAAIO,GAAG,qDAAqDgiB,OAAM,QAAW,IAAI,GAAGniB,EAAG,KAAK,CAACY,YAAY,aAAa,CAAChB,EAAIO,GAAG,sBAAsBH,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,gDAAgDH,EAAG,KAAK,CAACJ,EAAIO,GAAG,iFAAiFH,EAAG,KAAK,CAACJ,EAAIO,GAAG,cAAcH,EAAG,IAAI,CAACJ,EAAIO,GAAG,mBAAmBP,EAAIO,GAAG,kCAAkCH,EAAG,KAAK,CAACJ,EAAIO,GAAG,qDAAqDH,EAAG,KAAK,CAACY,YAAY,SAAS,CAAChB,EAAIO,GAAG,sBAAsBH,EAAG,aAAa,CAACY,YAAY,QAAQ,CAAChB,EAAI4F,GAAI5F,EAAoB,kBAAE,SAASoiB,GAAK,OAAOhiB,EAAG,kBAAkB,CAACd,IAAI8iB,EAAI1b,GAAGpG,MAAM,CAAC,MAAQ,mBAAmB,MAAQ,GAAG,KAAO,GAAG,WAAW,IAAIW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,WAAW6B,GAAG,WAAW,MAAO,CAACnB,EAAIO,GAAGP,EAAI6D,GAAGue,EAAIzX,SAAS4X,OAAM,IAAO,MAAK,IAAO,CAACniB,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,qBAAqB,CAACF,EAAG,eAAe,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,GAAM,eAAkB8hB,EAAM,KAAK,CAACpiB,EAAIO,GAAGP,EAAI6D,GAAGue,EAAII,QAAU,eAAepiB,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,OAAOG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIsiB,gBAAgBF,MAAQ,CAACpiB,EAAIO,GAAG,aAAa,GAAGH,EAAG,cAAc,CAACJ,EAAIO,GAAGP,EAAI6D,GAAGue,EAAIxgB,WAAWqb,kBAAkBtgB,QAAQ,cAAcyD,EAAG,iBAAiB,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,QAAQW,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GACjzE,IAAIX,EAAKW,EAAIX,GACTH,EAAQc,EAAId,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,GAAG,QAAQhB,GAAM,GAAOG,GAAI,CAACT,EAAIO,GAAG,uBAAuB,MAAK,GAAMiB,MAAM,CAACxC,MAAOgB,EAAIkd,oBAAoBkF,EAAI1b,IAAKjF,SAAS,SAAUC,GAAM1B,EAAI0W,KAAK1W,EAAIkd,oBAAqBkF,EAAI1b,GAAIhF,IAAME,WAAW,gCAAgC,CAACxB,EAAG,oBAAoB,CAACE,MAAM,CAAC,UAAY8hB,GAAK3hB,GAAG,CAAC,OAAS,SAASC,GAAQV,EAAIkd,oBAAoBkF,EAAI1b,KAAM,OAAW,GAAGtG,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,SAAW,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIyiB,aAAaL,MAAQ,CAACpiB,EAAIO,GAAG,kBAAkB,IAAI,IAAI,MAAgC,IAA1BP,EAAI8hB,WAAWnlB,OAAcyD,EAAG,kBAAkB,CAACY,YAAY,OAAOV,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,WAAW,GAAG,MAAQ,mBAAmB,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,WAAWG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIyiB,kBAAkB,CAACziB,EAAIO,GAAG,wBAAwB,GAAGP,EAAIa,KAAKT,EAAG,kBAAkB,CAACY,YAAY,QAAQV,MAAM,CAAC,MAAQ,kBAAkB,WAAW,GAAG,MAAQ,KAAK,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAI6D,GAAG7D,EAAI4B,WAAWmE,oBAAoB/F,EAAIO,GAAG,IAAIP,EAAI6D,GAAG7D,EAAI4B,WAAWgG,OAAO,QAAQ,IAAI,IACxgC,GAAkB,GC2GtB,8EAGA,QACA,qBACA,+BACA,yBACA,oEACA,oEAGA,UACA,qBACA,2BACA,+FACA,+FACA,oEAGA,UACA,qBACA,uBACA,+FACA,oEAEA,QACErJ,KAAM,aACN2G,WAAY,CAAd,sBACE/I,KAAM,WAAR,OACA,cACA,cACA,yBAEE2I,SAAU,CACR4d,iBADJ,WAEM,OAAO,OAAb,QAAa,CAAb,8EAGEzf,QAAS,CACPwf,aADJ,SACA,GACM,IAAN,QACWL,EAAIxgB,aAAYwgB,EAAIxgB,WAAa,IAAI,GAAhD,uBACM,GAAN,2BAEI0gB,gBANJ,SAMA,GACM,GAAN,MC5JoV,M,aCOhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAiBhC,IAAkB,GAAW,CAACpf,OAAA,KAAKC,QAAA,KAAMc,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAW0H,QAAA,KAAK5C,cAAA,KAAW7E,UAAA,KAAQgI,QAAA,KAAKuW,gBAAA,KAAate,UAAA,KAAQ8X,aAAA,KAAUD,iBAAA,OCvBvI3J,OAAIqQ,IAAIC,SAER,IAAMC,GAAS,CACb,CACElG,KAAM,IACNre,KAAM,OACNwkB,UAAWC,GACXC,KAAM,CACJC,cAAc,IAGlB,CACEtG,KAAM,cACNuG,SAAU,cAAgB7a,GAAOE,kBAAkBI,qBAErD,CACEgU,KAAM,yBACNre,KAAM,aACNwkB,UAAWK,GACXH,KAAM,CACJC,cAAc,EACdze,MAAO,YAGX,CACEmY,KAAM,WACNre,KAAM,UACNwkB,UAAWM,GACXJ,KAAM,CACJC,cAAc,EACdze,MAAO,YAGX,CACEmY,KAAM,cACNre,KAAM,gBACNwkB,UAAWO,GACXL,KAAM,CACJC,cAAc,EACdze,MAAO,aAGX,CACEmY,KAAM,kBACNre,KAAM,eACNwkB,UAAWpB,GACXsB,KAAM,CACJC,cAAc,EACdze,MAAO,aAGX,CACEmY,KAAM,SACNre,KAAM,QACNwkB,UAAWQ,GACXN,KAAM,CACJO,OAAO,KAKPC,GAAS,IAAIZ,QAAU,CAC3B3jB,KAAM,UACNwkB,KAAMC,IACNb,UACAc,eAJ2B,SAIX7J,EAAIG,EAAM2J,GAExB,MAAO,MAIXJ,GAAOK,eAAc,SAAC/J,EAAIG,EAAM6J,GAE9B,IAAMhB,EAAYhJ,EAAGiK,QAAQrnB,OAAS,EAAIod,EAAGiK,QAAQ,GAAG9e,WAAW+e,QAAU,KAC7EzjB,EAAO+D,oBAAsBwe,IAAYA,EAAUxe,kBACnD/D,EAAOiE,MAAQsV,EAAGkJ,KAAKxe,MACvBsf,OAGFN,GAAOS,YAAW,SAACnK,EAAIG,EAAM6J,GACvBhK,EAAGiK,QAAQ3L,MAAK,SAAA8L,GAAM,OAAIA,EAAOlB,KAAKC,gBACA,MAApC1gB,aAAaC,QAAQ,aACvBka,GAASE,QAAQ9C,EAAGqK,UACpBL,EAAK,CACHnH,KAAM,SACN5C,OAAQ,CAAEqK,QAAStK,EAAGqK,aAEnBL,IACEhK,EAAGiK,QAAQ3L,MAAK,SAAA8L,GAAM,OAAIA,EAAOlB,KAAKO,SACP,MAApChhB,aAAaC,QAAQ,YACvBshB,IAEAA,EAAK,CAAExlB,KAAM,SAEVwlB,OAGMN,UC1GflR,OAAIqQ,IAAIpU,SAEO,WAAIA,QAAQ,ICA3B+D,OAAI+R,OAAOC,eAAgB,EAE3B,IAAIhS,OAAI,CACNkR,UACAlV,WACAiW,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,KACfC,QAJM,WAKJ,GAAIC,eAAezB,SAAU,CAE3B,IAAMA,EAAWyB,eAAezB,gBACzByB,eAAezB,SACtBljB,KAAK6c,QAAQ7f,KAAKkmB,OAGrBzQ,OAAO,S,oFCnBV,W,yDCAA,W","file":"js/app.1bffb13b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-system-bar',{attrs:{\"app\":\"\",\"height\":\"40px\",\"color\":\"yellow\"}},[_c('v-spacer'),_c('span',[_vm._v(\"Demonstration purposes only. Do not use this information.\")]),_c('v-spacer')],1),_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\",\"clipped-left\":\"\",\"clipped-right\":\"\"}},[(_vm.chrome.showDrawerToggle)?_c('v-app-bar-nav-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.chrome.expandDrawer = !_vm.chrome.expandDrawer}}}):_vm._e(),_c('v-tabs',[_c('v-tab',{attrs:{\"to\":\"/\"}},[_vm._v(\"Home\")]),_c('v-tab',{attrs:{\"to\":\"/instrument\"}},[_vm._v(\"MARPOL Annex VI\")]),_c('v-tab',{attrs:{\"to\":\"/history\"}},[_vm._v(\"History\")]),_c('v-tab',{attrs:{\"to\":\"/changesets\"}},[_vm._v(\"Draft changes\")]),_c('v-spacer'),_c('video-guide'),_c('v-spacer'),(_vm.user.premium)?_c('preferences'):_vm._e(),_c('premium-dialog')],1)],1),_c('v-main',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-left\"},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"z-index\":\"10000\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mt-3 mr-3\",attrs:{\"elevation\":\"0\",\"text\":\"\",\"height\":\"40\"}},'v-btn',attrs,false),on),[_vm._v(\" Preferences \")])]}}])},[_c('v-card',{staticClass:\"pa-3\"},[_c('h3',{staticClass:\"text-left mb-3\"},[_vm._v(\"Preferences\")]),_c('v-divider'),_c('v-checkbox',{attrs:{\"label\":\"Use san-serif font\"},on:{\"change\":_vm.save},model:{value:(_vm.sansSerifFont),callback:function ($$v) {_vm.sansSerifFont=$$v},expression:\"sansSerifFont\"}}),_c('div',[_vm._v(\"Font size\")]),_c('v-text-field',{attrs:{\"solo-inverted\":\"\",\"flat\":\"\",\"min\":\"12\",\"max\":\"30\",\"type\":\"number\"},on:{\"change\":_vm.save},model:{value:(_vm.fontSize),callback:function ($$v) {_vm.fontSize=$$v},expression:\"fontSize\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const initialUser = {\n  premium: false,\n  preferences: {\n    fontSize: 15,\n    sansSerifFont: false\n  },\n  settings: {\n    footnotesAside: true,\n    commencements: false,\n    incomingRefs: false,\n    internalRefs: false,\n    infoboxes: false\n  }\n};\n\nfunction loadUser () {\n  let user = localStorage.getItem('user');\n  if (user) {\n    user = JSON.parse(user);\n  } else {\n    user = initialUser;\n  }\n  return user;\n}\n\nexport function saveUser () {\n  localStorage.setItem('user', JSON.stringify(user));\n}\n\nexport const user = loadUser();\n\nexport function downgradeUser () {\n  user.premium = false;\n  user.preferences = { ...initialUser.preferences };\n  user.settings = { ...initialUser.settings };\n}\n\nexport function upgradeUser () {\n  user.premium = true;\n  user.settings = {\n    footnotesAside: true,\n    commencements: true,\n    incomingRefs: true,\n    internalRefs: true,\n    infoboxes: true\n  };\n}\n","<template>\n  <div class=\"text-left\">\n    <v-menu\n      offset-y\n      z-index=\"10000\"\n      :close-on-content-click=\"false\"\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          class=\"mt-3 mr-3\"\n          elevation=\"0\"\n          text\n          height=\"40\"\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          Preferences\n        </v-btn>\n      </template>\n\n      <v-card class=\"pa-3\">\n        <h3 class=\"text-left mb-3\">Preferences</h3>\n        <v-divider></v-divider>\n        <v-checkbox v-model=\"sansSerifFont\" label=\"Use san-serif font\" @change=\"save\" />\n        <div>Font size</div>\n        <v-text-field\n          v-model=\"fontSize\"\n          solo-inverted\n          flat\n          min=\"12\"\n          max=\"30\"\n          type=\"number\"\n          @change=\"save\"\n        />\n      </v-card>\n    </v-menu>\n  </div>\n</template>\n\n<script>\nimport { saveUser, user } from '../data/user';\n\nexport default {\n  name: 'Preferences',\n  data () {\n    return user.preferences;\n  },\n  methods: {\n    save: function () {\n      saveUser();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preferences.vue?vue&type=template&id=6428e0ec&\"\nimport script from \"./Preferences.vue?vue&type=script&lang=js&\"\nexport * from \"./Preferences.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCheckbox,VDivider,VMenu,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-center\"},[_c('v-dialog',{attrs:{\"max-width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(!_vm.user.premium)?_c('v-btn',_vm._g(_vm._b({staticClass:\"mt-3 mr-3\",attrs:{\"elevation\":\"0\",\"text\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"Upgrade Subscription\")]):_c('v-btn',_vm._g(_vm._b({staticClass:\"mt-3 mr-3\",attrs:{\"elevation\":\"0\",\"text\":\"\"},on:{\"click\":function($event){_vm.subscribed = true}}},'v-btn',attrs,false),on),[_vm._v(\"Your Subscription\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.subscribed)?_c('v-card',[_c('v-card-title',{staticClass:\"primary white--text\"},[_vm._v(\" Upgrade To Premium \")]),_c('v-card-text',{staticClass:\"mt-5\"},[_c('v-alert',{staticClass:\"mt-3\",attrs:{\"type\":\"warning\"}},[_vm._v(\" Premium features are for demonstration purposes only. \")]),(_vm.user.premium)?_c('div',[_vm._v(\" You've upgraded successfully! \")]):_c('div',[_vm._v(\" A premium subscription provides enhanced functionality, including: \"),_c('ul',[_c('li',[_vm._v(\"Supplementary information such as Unified Interpretations\")]),_c('li',[_vm._v(\"Improved references\")]),_c('li',[_vm._v(\"Details of in-force dates\")])])])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.user.premium),expression:\"!user.premium\"}],attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.user.premium),expression:\"!user.premium\"}],attrs:{\"color\":\"primary\"},on:{\"click\":_vm.onUpgrade}},[_vm._v(\" Upgrade \")]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user.premium),expression:\"user.premium\"}],attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Close \")])],1)],1):_vm._e(),(_vm.subscribed)?_c('v-card',[_c('v-card-title',{staticClass:\"primary white--text\"},[_vm._v(\" Downgrade Subscription \")]),_c('v-card-text',{staticClass:\"mt-5\"},[_vm._v(\" \"+_vm._s(_vm.user.premium ? \"Are you sure you want to downgrade your subscription?\" : \"Your subscription has been downgraded.\")+\" \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user.premium),expression:\"user.premium\"}],attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user.premium),expression:\"user.premium\"}],attrs:{\"color\":\"primary\"},on:{\"click\":_vm.onDowngrade}},[_vm._v(\" Downgrade \")]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.user.premium),expression:\"!user.premium\"}],attrs:{\"color\":\"primary\"},on:{\"click\":_vm.onClose}},[_vm._v(\" Close \")])],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"text-center\">\n    <v-dialog\n      max-width=\"500\"\n      v-model=\"dialog\"\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          v-if=\"!user.premium\"\n          class=\"mt-3 mr-3\"\n          elevation=\"0\"\n          text\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >Upgrade Subscription</v-btn>\n        <v-btn\n          v-else\n          class=\"mt-3 mr-3\"\n          elevation=\"0\"\n          text\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          @click=\"subscribed = true\"\n        >Your Subscription</v-btn>\n      </template>\n\n      <v-card v-if=\"!subscribed\">\n        <v-card-title class=\"primary white--text\">\n          Upgrade To Premium\n        </v-card-title>\n\n        <v-card-text class=\"mt-5\">\n          <v-alert type=\"warning\" class=\"mt-3\">\n            Premium features are for demonstration purposes only.\n          </v-alert>\n\n          <div v-if=\"user.premium\">\n            You've upgraded successfully!\n          </div>\n          <div v-else>\n            A premium subscription provides enhanced functionality, including:\n\n            <ul>\n              <li>Supplementary information such as Unified Interpretations</li>\n              <li>Improved references</li>\n              <li>Details of in-force dates</li>\n            </ul>\n          </div>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"primary\"\n            text\n            @click=\"dialog = false\"\n            v-show=\"!user.premium\"\n          >\n            Cancel\n          </v-btn>\n          <v-btn\n            color=\"primary\"\n            @click=\"onUpgrade\"\n            v-show=\"!user.premium\"\n          >\n            Upgrade\n          </v-btn>\n          <v-btn\n            color=\"primary\"\n            @click=\"dialog = false\"\n            v-show=\"user.premium\"\n          >\n            Close\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n      <v-card v-if=\"subscribed\">\n        <v-card-title class=\"primary white--text\">\n          Downgrade Subscription\n        </v-card-title>\n\n        <v-card-text class=\"mt-5\">\n          {{user.premium ? \"Are you sure you want to downgrade your subscription?\" : \"Your subscription has been downgraded.\"}}\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"primary\"\n            text\n            @click=\"dialog = false\"\n            v-show=\"user.premium\"\n          >\n            Cancel\n          </v-btn>\n          <v-btn\n            color=\"primary\"\n            @click=\"onDowngrade\"\n            v-show=\"user.premium\"\n          >\n            Downgrade\n          </v-btn>\n          <v-btn\n            color=\"primary\"\n            @click=\"onClose\"\n            v-show=\"!user.premium\"\n          >\n            Close\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport { downgradeUser, saveUser, upgradeUser, user } from '../data/user';\nexport default {\n  name: 'PremiumDialog',\n  data () {\n    return {\n      dialog: false,\n      subscribed: false,\n      user\n    };\n  },\n  methods: {\n    onUpgrade () {\n      upgradeUser();\n      saveUser();\n    },\n    onDowngrade () {\n      downgradeUser();\n      saveUser();\n    },\n    onClose () {\n      this.subscribed = false;\n      this.dialog = false;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PremiumDialog.vue?vue&type=template&id=45cdb57e&\"\nimport script from \"./PremiumDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./PremiumDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.src)?_c('v-dialog',{attrs:{\"width\":\"853\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"lighten-2 mt-3 mr-3\",attrs:{\"color\":\"red\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-video\")]),_vm._v(\" Video Guide \")],1)]}}],null,false,3520812178),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.dialog)?_c('iframe',{attrs:{\"width\":\"853\",\"height\":\"480\",\"src\":_vm.src,\"title\":\"YouTube video player\",\"frameborder\":\"0\",\"allow\":\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\"allowfullscreen\":\"\"}}):_vm._e(),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Close\")])],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// some settings for the chrome of the app\n\nexport const chrome = {\n  // show the navigation drawer toggle?\n  showDrawerToggle: false,\n  // should the navigation drawer be open?\n  expandDrawer: true,\n  // when showing diffs for amendments, diff previous version instead?\n  diffPrevious: false,\n  // which video guide to use\n  guide: ''\n};\n\nexport function matchWindowSize () {\n  const screenSize = window.matchMedia('(max-width: 960px)');\n  if (screenSize.matches) {\n    chrome.expandDrawer = false;\n  }\n};\n","<template>\n  <v-dialog v-model=\"dialog\" width=\"853\" v-if=\"src\">\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn color=\"red\" class=\"lighten-2 mt-3 mr-3\" v-on=\"on\" v-bind=\"attrs\">\n        <v-icon>mdi-video</v-icon>\n        Video Guide\n      </v-btn>\n    </template>\n\n    <v-card>\n      <iframe v-if=\"dialog\" width=\"853\" height=\"480\" :src=\"src\"\n              title=\"YouTube video player\" frameborder=\"0\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              allowfullscreen></iframe>\n      <v-card-actions>\n        <v-spacer />\n        <v-btn text @click=\"dialog = false\">Close</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { chrome } from '@/data/chrome';\n\nexport default {\n  name: 'VideoGuide',\n  data () {\n    return {\n      chrome,\n      dialog: false\n    };\n  },\n  computed: {\n    src () {\n      return {\n        reading: 'https://www.youtube.com/embed/1dEZRryb_3U',\n        amending: 'https://www.youtube.com/embed/AmhosaHijM4'\n      }[this.chrome.guide];\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoGuide.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoGuide.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoGuide.vue?vue&type=template&id=c41eda86&\"\nimport script from \"./VideoGuide.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoGuide.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VDialog,VIcon,VSpacer})\n","<template>\n  <v-app>\n    <v-system-bar app height=\"40px\" color=\"yellow\">\n      <v-spacer></v-spacer>\n      <span>Demonstration purposes only. Do not use this information.</span>\n      <v-spacer></v-spacer>\n    </v-system-bar>\n\n    <v-app-bar app color=\"primary\" dark clipped-left clipped-right>\n      <v-app-bar-nav-icon v-if=\"chrome.showDrawerToggle\" @click.stop=\"chrome.expandDrawer = !chrome.expandDrawer\"></v-app-bar-nav-icon>\n\n      <v-tabs>\n        <v-tab to=\"/\">Home</v-tab>\n        <v-tab to=\"/instrument\">MARPOL Annex VI</v-tab>\n        <v-tab to=\"/history\">History</v-tab>\n        <v-tab to=\"/changesets\">Draft changes</v-tab>\n        <v-spacer></v-spacer>\n        <video-guide></video-guide>\n        <v-spacer></v-spacer>\n        <preferences v-if=\"user.premium\" />\n        <premium-dialog></premium-dialog>\n      </v-tabs>\n    </v-app-bar>\n\n    <v-main>\n      <router-view></router-view>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport Preferences from './components/Preferences.vue';\nimport PremiumDialog from './components/PremiumDialog.vue';\nimport VideoGuide from './components/VideoGuide.vue';\nimport { chrome } from './data/chrome';\nimport { user } from './data/user';\n\nexport default {\n  components: { VideoGuide, PremiumDialog, Preferences },\n  name: 'App',\n  data: () => ({\n    chrome,\n    user\n  })\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=20a32891&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VApp,VAppBar,VAppBarNavIcon,VMain,VSpacer,VSystemBar,VTab,VTabs})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('h1',[_vm._v(\"IMO XML Document Project - Prototype and Demo\")]),_c('h3',[_vm._v(\"What is this?\")]),_c('p',{staticClass:\"text-body-1\"},[_vm._v(\"This is a prototype project to demonstrate the possible value of XML documents for the IMO.\")]),_c('h3',[_vm._v(\"Demos\")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md\"},[_c('v-card',{staticClass:\"mt-3 mb-3\"},[_c('v-card-title',[_vm._v(\"1. MARPOL Annex VI\")]),_c('v-card-text',[_vm._v(\" XML documents provide an opportunity to make long, legislative instruments easier to read, navigate and understand. \")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"to\":\"/instrument\",\"color\":\"primary\"}},[_vm._v(\"Explore demo 1\")]),_c('v-spacer'),_c('v-dialog',{attrs:{\"width\":\"853\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"lighten-2\",attrs:{\"color\":\"red\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-video\")]),_vm._v(\" Video Guide \")],1)]}}]),model:{value:(_vm.helpDialog1),callback:function ($$v) {_vm.helpDialog1=$$v},expression:\"helpDialog1\"}},[_c('v-card',[(_vm.helpDialog1)?_c('iframe',{attrs:{\"width\":\"853\",\"height\":\"480\",\"src\":\"https://www.youtube.com/embed/1dEZRryb_3U\",\"title\":\"YouTube video player\",\"frameborder\":\"0\",\"allow\":\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\"allowfullscreen\":\"\"}}):_vm._e(),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.helpDialog1 = false}}},[_vm._v(\"Close\")])],1)],1)],1)],1)],1)],1),_c('div',{staticClass:\"col-md\"},[_c('v-card',{staticClass:\"my-3\"},[_c('v-card-title',[_vm._v(\"2. Drafting amendments\")]),_c('v-card-text',[_vm._v(\" XML documents make it easier to draft and consider multiple amendments to a document. \")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"to\":\"/changesets\",\"color\":\"primary\"}},[_vm._v(\"Explore demo 2\")]),_c('v-spacer'),_c('v-dialog',{attrs:{\"width\":\"853\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"lighten-2\",attrs:{\"color\":\"red\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-video\")]),_vm._v(\" Video Guide \")],1)]}}]),model:{value:(_vm.helpDialog2),callback:function ($$v) {_vm.helpDialog2=$$v},expression:\"helpDialog2\"}},[_c('v-card',[(_vm.helpDialog2)?_c('iframe',{attrs:{\"width\":\"853\",\"height\":\"480\",\"src\":\"https://www.youtube.com/embed/AmhosaHijM4\",\"title\":\"YouTube video player\",\"frameborder\":\"0\",\"allow\":\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\"allowfullscreen\":\"\"}}):_vm._e(),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.helpDialog2 = false}}},[_vm._v(\"Close\")])],1)],1)],1)],1)],1)],1)]),_c('h3',{staticClass:\"mt-12 mb-3\"},[_vm._v(\"Downloads\")]),_c('p',[_vm._v(\"Download the XML files behind these prototypes.\")]),_c('ul',_vm._l((_vm.expressions),function(expr,ix){return _c('li',{key:ix},[_c('a',{attrs:{\"href\":(\"/xml/\" + (expr.filename))}},[_vm._v(\"As at \"+_vm._s(expr.expression_date))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export class TableOfContents {\n  constructor (items) {\n    this.items = items;\n    this.itemsById = new Map();\n    this.indexItems(items, null);\n  }\n\n  /** Mapping from toc element id to toc entry\n   */\n  indexItems (items, parent) {\n    for (const item of items) {\n      // add parent so we can walk upwards\n      item.parent = parent;\n      item.sortKey = this.itemsById.size;\n      this.itemsById.set(item.id, item);\n\n      if (item.children) {\n        this.indexItems(item.children, item);\n      }\n    }\n  }\n\n  /**\n   * Find the closest ancestor of an element that has an entry in the table of contents.\n   *\n   * @return [element, entry]\n   */\n  closestTocEntry (element) {\n    while (element) {\n      if (element.getAttribute('id') && this.itemsById.get(element.getAttribute('id'))) {\n        return [element, this.itemsById.get(element.getAttribute('id'))];\n      }\n      element = element.parentElement;\n    }\n  }\n\n  closestTocEntryForId (elementId) {\n    while (elementId.length) {\n      if (this.itemsById.has(elementId)) {\n        return this.itemsById.get(elementId);\n      }\n      // chop of the last component\n      elementId = elementId.slice(0, elementId.lastIndexOf('__'));\n    }\n  }\n\n  closestMajorTocEntryForId (elementId) {\n    let toc = this.closestTocEntryForId(elementId);\n    const major = { part: 1, chapter: 1, attachment: 1 };\n\n    while (toc && !major[toc.type]) {\n      toc = toc.parent;\n    }\n\n    return toc;\n  }\n}\n\nexport function friendlyShortTitle (item) {\n  if (item.type === 'paragraph') {\n    const parent = item.parent.type === 'division' ? item.parent.parent : item.parent;\n    const prefix = parent.type === 'part' ? 'Reg. ' + parent.num : parent.title;\n    return prefix + ', P. ' + item.num;\n  }\n  return item.title;\n}\n","import marpol from './marpol.json';\nimport { TableOfContents } from './toc';\n\n// marpol.expressions is a list of points in time, oldest first, with full toc and HTML information\nconst expressions = marpol.expressions;\n\n// decorate each expression\nfor (const expr of expressions) {\n  // parse the html once\n  expr.aknDoc = new DOMParser().parseFromString('<div>' + expr.content_html + '</div>', 'text/html');\n  expr.aknRoot = expr.aknDoc.body.firstElementChild;\n\n  // table of contents\n  expr.toc = new TableOfContents(expr.toc);\n}\n\nexport const Marpol = {\n  history: marpol.history,\n  expressions: expressions,\n  latest_expression: expressions[expressions.length - 1],\n  diffsets: marpol.diffsets\n};\n\n/** diffsets for changes at this expression, or earlier */\nexport function diffsetsForExpression (expression) {\n  return Marpol.diffsets.filter(d => d.expression_frbr_uri <= expression.expression_frbr_uri);\n}\n\n/** group diffsets by the element that changed */\nexport function groupDiffsetsByElement (diffsets) {\n  const groups = new Map();\n  for (const diffset of diffsets) {\n    if (!groups.has(diffset.element_id)) {\n      groups.set(diffset.element_id, []);\n    }\n    groups.get(diffset.element_id).push(diffset);\n  }\n\n  return groups;\n}\n","<template>\n  <v-container>\n    <h1>IMO XML Document Project - Prototype and Demo</h1>\n\n    <h3>What is this?</h3>\n    <p class=\"text-body-1\">This is a prototype project to demonstrate the possible value of XML documents for the IMO.</p>\n\n    <h3>Demos</h3>\n    <div class=\"row\">\n      <div class=\"col-md\">\n        <v-card class=\"mt-3 mb-3\">\n          <v-card-title>1. MARPOL Annex VI</v-card-title>\n          <v-card-text>\n            XML documents provide an opportunity to make long, legislative instruments easier to read, navigate and understand.\n          </v-card-text>\n\n          <v-card-actions>\n            <v-btn to=\"/instrument\" color=\"primary\">Explore demo 1</v-btn>\n            <v-spacer />\n            <v-dialog v-model=\"helpDialog1\" width=\"853\">\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn color=\"red\" class=\"lighten-2\" v-on=\"on\" v-bind=\"attrs\">\n                  <v-icon>mdi-video</v-icon>\n                  Video Guide\n                </v-btn>\n              </template>\n\n              <v-card>\n                <iframe v-if=\"helpDialog1\" width=\"853\" height=\"480\" src=\"https://www.youtube.com/embed/1dEZRryb_3U\"\n                        title=\"YouTube video player\" frameborder=\"0\"\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                        allowfullscreen></iframe>\n                <v-card-actions>\n                  <v-spacer />\n                  <v-btn text @click=\"helpDialog1 = false\">Close</v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-dialog>\n          </v-card-actions>\n        </v-card>\n      </div>\n\n      <div class=\"col-md\">\n        <v-card class=\"my-3\">\n          <v-card-title>2. Drafting amendments</v-card-title>\n          <v-card-text>\n            XML documents make it easier to draft and consider multiple amendments to a document.\n          </v-card-text>\n\n          <v-card-actions>\n            <v-btn to=\"/changesets\" color=\"primary\">Explore demo 2</v-btn>\n            <v-spacer />\n            <v-dialog v-model=\"helpDialog2\" width=\"853\">\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn color=\"red\" class=\"lighten-2\" v-on=\"on\" v-bind=\"attrs\">\n                  <v-icon>mdi-video</v-icon>\n                  Video Guide\n                </v-btn>\n              </template>\n\n              <v-card>\n                <iframe v-if=\"helpDialog2\" width=\"853\" height=\"480\" src=\"https://www.youtube.com/embed/AmhosaHijM4\"\n                        title=\"YouTube video player\" frameborder=\"0\"\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                        allowfullscreen></iframe>\n                <v-card-actions>\n                  <v-spacer />\n                  <v-btn text @click=\"helpDialog2 = false\">Close</v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-dialog>\n          </v-card-actions>\n        </v-card>\n      </div>\n    </div>\n\n    <h3 class=\"mt-12 mb-3\">Downloads</h3>\n\n    <p>Download the XML files behind these prototypes.</p>\n\n    <ul>\n      <li v-for=\"(expr, ix) in expressions\" :key=\"ix\">\n        <a :href=\"`/xml/${expr.filename}`\">As at {{ expr.expression_date }}</a>\n      </li>\n    </ul>\n  </v-container>\n</template>\n\n<script>\nimport { Marpol } from '@/data/marpol';\n\nconst expressions = [...Marpol.expressions];\nexpressions.reverse();\n\nexport default {\n  name: 'Home',\n  data: () => ({\n    expressions: expressions,\n    helpDialog1: false,\n    helpDialog2: false\n  })\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=f62f40ca&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDialog,VIcon,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-navigation-drawer',{attrs:{\"clipped\":\"\",\"app\":\"\",\"value\":_vm.chrome.expandDrawer,\"color\":\"grey lighten-3\"}},[_c('TOCMenu',{attrs:{\"expression\":_vm.expression,\"active\":_vm.active}})],1),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('Toolbar',{attrs:{\"expression\":_vm.expression}}),_c('div',{staticClass:\"primary-document-container\",class:_vm.containerClasses},[_c('article',{staticClass:\"akoma-ntoso primary-document show-terms flag-internal-refs\",class:_vm.classes,style:(_vm.styles)},[_c('div',{ref:\"container\",staticClass:\"limit-document-width\"})]),_c('Gutter',{ref:\"gutter\",attrs:{\"expression\":_vm.expression,\"items\":_vm.gutterItems}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"extra-content pa-4\"},[_c('section',{staticClass:\"d-flex\"},[_c('v-spacer'),_c('v-icon',{attrs:{\"large\":\"\"},on:{\"click\":function($event){_vm.chrome.expandDrawer = false}}},[_vm._v(\"mdi-close\")])],1),_c('h6',{staticClass:\"text-h6 mt-3\"},[_vm._v(\"Table of Contents\")])]),_c('v-sheet',{staticClass:\"pt-4 px-4\"},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-menu',{attrs:{\"open-on-hover\":\"\",\"offset-x\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-list-item',_vm._g(_vm._b({},'v-list-item',attrs,false),on),[_c('v-list-item-content',[_vm._v(\"Version \"+_vm._s(_vm.expression.expression_date))]),_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)],1)]}}])},[_c('v-list',[_vm._l((_vm.expressions),function(expr){return _c('v-list-item',{key:expr.expression_frbr_uri,attrs:{\"to\":'/instrument' + expr.expression_frbr_uri}},[_vm._v(\" \"+_vm._s(expr.expression_date)+\" \")])}),_c('v-divider'),_c('v-list-item',{attrs:{\"two-line\":\"\"},on:{\"click\":_vm.openVersionDialog}},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"What version do I need?\")]),_c('v-list-item-subtitle',[_vm._v(\"Find a version for a specific date.\")])],1)],1),_c('v-list-item',{attrs:{\"two-line\":\"\",\"to\":\"/history\"}},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Full history\")]),_c('v-list-item-subtitle',[_vm._v(\"All amendments to MARPOL Annex VI\")])],1)],1)],2)],1),_c('VersionChooser',{ref:\"versionDialog\"})],1),_c('v-text-field',{attrs:{\"label\":\"Search\",\"placeholder\":\"Search\",\"flat\":\"\",\"solo-inverted\":\"\",\"hide-details\":\"\",\"clearable\":\"\",\"clear-icon\":\"mdi-close-circle-outline\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-row',{staticClass:\"my-2\",attrs:{\"dense\":\"\",\"justify\":\"center\"}},[_c('v-col',[_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.open = []}}},[_vm._v(\" Collapse \")])],1),_c('v-col',[_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"text\":\"\",\"block\":\"\"},on:{\"click\":_vm.expandAll}},[_vm._v(\" Expand \")])],1)],1)],1),_c('v-treeview',{staticClass:\"toc-tree\",attrs:{\"dense\":\"\",\"search\":_vm.search,\"open\":_vm.open,\"items\":_vm.items,\"hoverable\":\"\",\"active\":_vm.active,\"item-text\":\"title\",\"open-on-click\":_vm.openOnClick},on:{\"update:active\":_vm.activeUpdated},scopedSlots:_vm._u([{key:\"label\",fn:function(ref){\nvar item = ref.item;\nvar open = ref.open;\nreturn [_c('div',{on:{\"click\":function($event){return _vm.clicked(item.id, open)}}},[_vm._v(\" \"+_vm._s(item.title)+\" \")])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Scroll the page to the element with the given id, taking into account the header padding.\n */\n\nexport function scrollToId (id) {\n  for (const el of document.querySelectorAll('.jump-target')) {\n    el.classList.remove('jump-target');\n  }\n\n  const element = document.getElementById(id);\n  if (element) {\n    element.classList.add('jump-target');\n    const top = element.getBoundingClientRect().top + window.scrollY;\n    window.scrollTo(0, top - 170);\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Find the version applicable on a date\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"Choose a date\",\"prepend-icon\":\"mdi-calendar\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_c('div',{staticClass:\"text-center\"},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),(_vm.expression)?_c('div',[_vm._v(\" The version applicable on \"+_vm._s(_vm.date)+\" is \"+_vm._s(_vm.expression.expression_date)+\". \"),_c('div',{staticClass:\"text-center mt-3\"},[(_vm.href)?_c('v-btn',{attrs:{\"to\":_vm.href,\"color\":\"primary\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Use version \"+_vm._s(_vm.expression.expression_date)+\" \")]):_vm._e()],1)]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Close\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"dialog\" max-width=\"500\">\n    <v-card>\n      <v-card-title>Find the version applicable on a date</v-card-title>\n\n      <v-card-text>\n        <v-text-field\n          v-model=\"date\"\n          label=\"Choose a date\"\n          prepend-icon=\"mdi-calendar\"\n        ></v-text-field>\n\n        <div class=\"text-center\">\n          <v-date-picker v-model=\"date\" no-title scrollable></v-date-picker>\n        </div>\n\n        <div v-if=\"expression\">\n          The version applicable on {{ date }} is {{ expression.expression_date }}.\n\n          <div class=\"text-center mt-3\">\n            <v-btn v-if=\"href\" :to=\"href\" @click=\"dialog = false\" color=\"primary\">\n              Use version {{ expression.expression_date }}\n            </v-btn>\n          </div>\n        </div>\n      </v-card-text>\n\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn color=\"primary\" text @click=\"dialog = false\">Close</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { Marpol } from '../data/marpol';\nimport { DateTime } from 'luxon';\n\nexport default {\n  name: 'VersionChooser',\n  data: () => ({\n    dialog: false,\n    date: DateTime.now().toISODate()\n  }),\n  computed: {\n    expression () {\n      if (this.date) {\n        // find closest expression at or after date - expressions are oldest first\n        const expressions = Marpol.expressions;\n        for (let i = expressions.length - 1; i >= 0; i--) {\n          if (this.date >= expressions[i].expression_date) {\n            return expressions[i];\n          }\n        }\n      }\n      return null;\n    },\n    href () {\n      if (this.expression) {\n        return '/instrument' + this.expression.expression_frbr_uri;\n      }\n      return null;\n    }\n  },\n  methods: {\n    open () {\n      this.dialog = true;\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VersionChooser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VersionChooser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VersionChooser.vue?vue&type=template&id=2b6a8af8&scoped=true&\"\nimport script from \"./VersionChooser.vue?vue&type=script&lang=js&\"\nexport * from \"./VersionChooser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b6a8af8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDatePicker,VDialog,VSpacer,VTextField})\n","<template>\n  <div>\n    <div class=\"extra-content pa-4\">\n      <section class=\"d-flex\">\n        <v-spacer></v-spacer>\n        <v-icon @click=\"chrome.expandDrawer = false\" large>mdi-close</v-icon>\n      </section>\n      <h6 class=\"text-h6 mt-3\">Table of Contents</h6>\n    </div>\n    <v-sheet class=\"pt-4 px-4\">\n      <v-list dense>\n        <v-menu open-on-hover offset-x>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-list-item\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-list-item-content>Version {{ expression.expression_date }}</v-list-item-content>\n              <v-list-item-icon>\n                <v-icon>mdi-chevron-right</v-icon>\n              </v-list-item-icon>\n            </v-list-item>\n          </template>\n\n          <v-list>\n            <v-list-item\n              v-for=\"expr in expressions\"\n              :key=\"expr.expression_frbr_uri\"\n              :to=\"'/instrument' + expr.expression_frbr_uri\">\n              {{ expr.expression_date }}\n            </v-list-item>\n            <v-divider />\n\n            <v-list-item two-line @click=\"openVersionDialog\">\n              <v-list-item-content>\n                <v-list-item-title>What version do I need?</v-list-item-title>\n                <v-list-item-subtitle>Find a version for a specific date.</v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n\n            <v-list-item two-line to=\"/history\">\n              <v-list-item-content>\n                <v-list-item-title>Full history</v-list-item-title>\n                <v-list-item-subtitle>All amendments to MARPOL Annex VI</v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list>\n        </v-menu>\n\n        <VersionChooser ref=\"versionDialog\" />\n      </v-list>\n\n      <v-text-field\n        v-model=\"search\"\n        label=\"Search\"\n        placeholder=\"Search\"\n        flat\n        solo-inverted\n        hide-details\n        clearable\n        clear-icon=\"mdi-close-circle-outline\"\n      ></v-text-field>\n\n      <v-row dense class=\"my-2\" justify=\"center\">\n        <v-col>\n          <v-btn text block class=\"text-capitalize\" @click=\"open = []\">\n            Collapse\n          </v-btn>\n        </v-col>\n        <v-col>\n          <v-btn text block class=\"text-capitalize\" @click=\"expandAll\">\n            Expand\n          </v-btn>\n        </v-col>\n      </v-row>\n    </v-sheet>\n\n    <v-treeview\n      dense\n      :search=\"search\"\n      :open=\"open\"\n      :items=\"items\"\n      hoverable\n      :active=\"active\"\n      item-text=\"title\"\n      :open-on-click=\"openOnClick\"\n      class=\"toc-tree\"\n      @update:active=\"activeUpdated\"\n    >\n      <template slot=\"label\" slot-scope=\"{ item, open }\">\n        <div @click=\"clicked(item.id, open)\">\n          {{ item.title }}\n        </div>\n      </template>\n    </v-treeview>\n  </div>\n</template>\n\n<script>\nimport { scrollToId } from '../utils';\nimport VersionChooser from './VersionChooser';\nimport { Marpol } from '../data/marpol';\nimport { chrome, matchWindowSize } from '../data/chrome';\nimport './TOCMenu.scss';\n\nexport default {\n  name: 'TOCMenu',\n  props: ['expression', 'active'],\n  components: {\n    VersionChooser\n  },\n  data: function () {\n    return {\n      items: this.expression.toc.items,\n      open: [],\n      search: null,\n      versionDialog: false,\n      expressions: [...Marpol.expressions].reverse(),\n      openOnClick: true,\n      chrome\n    };\n  },\n  methods: {\n    clicked (id, open) {\n      this.openOnClick = !open;\n      matchWindowSize();\n      scrollToId(id);\n    },\n    activeUpdated (active) {\n      if (active.length) {\n        window.location.hash = '#' + active[0];\n      }\n    },\n    recursiveExpand (arr) {\n      let result = [];\n\n      arr.forEach(el => {\n        if (el.children && el.children.length > 0) {\n          result.push(el.id);\n          result = result.concat(this.recursiveExpand(el.children));\n        };\n      });\n\n      return result;\n    },\n    expandAll () {\n      this.open = this.recursiveExpand(this.items);\n    },\n    openVersionDialog () {\n      this.$refs.versionDialog.open();\n    }\n  },\n  watch: {\n    search (newValue, oldValue) {\n      if (newValue !== null) {\n        this.expandAll();\n      } else this.open = [];\n    }\n  },\n  mounted () {\n    let activeId = window.location.hash;\n    activeId = activeId.slice(1);\n    if (activeId) {\n      setTimeout(function () {\n        scrollToId(activeId);\n      }, 5000);\n    }\n  }\n};\n</script>\n\n<style scoped>\n@media screen and (min-width: 960px) {\n  .extra-content {\n    display: none;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TOCMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TOCMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TOCMenu.vue?vue&type=template&id=44b78d86&scoped=true&\"\nimport script from \"./TOCMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./TOCMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TOCMenu.vue?vue&type=style&index=0&id=44b78d86&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44b78d86\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VBtn,VCol,VDivider,VIcon,VList,VListItem,VListItemContent,VListItemIcon,VListItemSubtitle,VListItemTitle,VMenu,VRow,VSheet,VSpacer,VTextField,VTreeview})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"gutter\",on:{\"click\":_vm.clearPrimary}},[_c('div',{ref:\"gutterItems\",staticClass:\"gutter-items\"},_vm._l((_vm.markers),function(m,ix){return _c('GutterMarker',{key:ix,attrs:{\"item\":m.item,\"active\":m.active,\"top\":m.top},on:{\"activate\":_vm.activated}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"decoration-internal-ref\"},[_c('v-chip',{staticClass:\"v-chip--wrap\",attrs:{\"small\":\"\"}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\",\"color\":\"purple\"}},[_vm._v(\"mdi-bookmark\")]),_vm._v(\" \"+_vm._s(_vm.title(_vm.item))+\" \")],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"decoration-internal-ref\">\n    <v-chip small class=\"v-chip--wrap\">\n      <v-icon left small color=\"purple\">mdi-bookmark</v-icon>\n      {{ title(item) }}\n    </v-chip>\n  </div>\n</template>\n\n<script>\nimport { friendlyShortTitle } from '@/data/toc';\n\nexport default {\n  name: 'InternalRef',\n  data: () => ({\n    item: ''\n  }),\n  methods: {\n    title: friendlyShortTitle\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalRef.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalRef.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InternalRef.vue?vue&type=template&id=66d1e460&\"\nimport script from \"./InternalRef.vue?vue&type=script&lang=js&\"\nexport * from \"./InternalRef.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VChip,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"decoration-incoming-refs\"},[_c('v-card',{attrs:{\"color\":\"grey lighten-2\",\"elevation\":\"0\"}},[_c('v-card-text',{staticClass:\"pt-2 pl-2 pr-2 pb-0\"},[_vm._v(\" References to here \")]),_c('div',{staticClass:\"pa-2\"},_vm._l((_vm.references),function(ref){return _c('v-chip',{key:ref.id,staticClass:\"mb-2 mr-2 v-chip--wrap\",attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.scrollTo(ref.id)}}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\",\"color\":\"purple\"}},[_vm._v(\"mdi-bookmark\")]),_vm._v(\" \"+_vm._s(_vm.title(ref))+\" \")],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"decoration-incoming-refs\">\n    <v-card\n      color=\"grey lighten-2\"\n      elevation=\"0\"\n    >\n      <v-card-text class=\"pt-2 pl-2 pr-2 pb-0\">\n        References to here\n      </v-card-text>\n\n      <div class=\"pa-2\">\n        <v-chip\n          v-for=\"ref in references\"\n          :key=\"ref.id\"\n          outlined\n          small\n          class=\"mb-2 mr-2 v-chip--wrap\"\n          @click.stop=\"scrollTo(ref.id)\"\n        >\n          <v-icon left small color=\"purple\">mdi-bookmark</v-icon>\n          {{ title(ref) }}\n        </v-chip>\n      </div>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport { scrollToId } from '@/utils';\nimport { friendlyShortTitle } from '@/data/toc';\n\nexport default {\n  name: 'IncomingRefs',\n  data: () => ({\n    references: []\n  }),\n  methods: {\n    scrollTo (id) {\n      scrollToId(id);\n    },\n    title: friendlyShortTitle\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IncomingRefs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IncomingRefs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IncomingRefs.vue?vue&type=template&id=f49831e0&\"\nimport script from \"./IncomingRefs.vue?vue&type=script&lang=js&\"\nexport * from \"./IncomingRefs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCard,VCardText,VChip,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"decoration-infobox\"},[_c('v-card',{attrs:{\"color\":\"grey lighten-2\",\"elevation\":\"0\"}},[_c('v-card-subtitle',{staticClass:\"pt-2 px-2 pb-0 font-weight-bold\"},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\",\"color\":_vm.info.colour}},[_vm._v(_vm._s(_vm.info.icon ? _vm.info.icon : 'mdi-information'))]),_vm._v(\" \"+_vm._s(_vm.info.title)+\" \")],1),(_vm.info.content)?_c('v-card-text',{staticClass:\"px-2 py-0 text-small\"},[_vm._v(\" \"+_vm._s(_vm.info.content)+\" \")]):_vm._e(),(_vm.info.link)?_c('v-card-actions',[_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"primary\",\"href\":_vm.info.link,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.info.link_text ? _vm.info.link_text : 'Read more')+\" \")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"decoration-infobox\">\n    <v-card\n      color=\"grey lighten-2\"\n      elevation=\"0\"\n    >\n      <v-card-subtitle class=\"pt-2 px-2 pb-0 font-weight-bold\">\n        <v-icon left small :color=\"info.colour\">{{ info.icon ? info.icon : 'mdi-information' }}</v-icon>\n        {{ info.title }}\n      </v-card-subtitle>\n\n      <v-card-text v-if=\"info.content\" class=\"px-2 py-0 text-small\">\n        {{ info.content }}\n      </v-card-text>\n\n      <v-card-actions v-if=\"info.link\">\n        <v-btn small outlined color=\"primary\" :href=\"info.link\" target=\"_blank\">\n          {{ info.link_text ? info.link_text : 'Read more' }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'InfoBox',\n  data: () => ({\n    info: {}\n  })\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InfoBox.vue?vue&type=template&id=2aaa2147&\"\nimport script from \"./InfoBox.vue?vue&type=script&lang=js&\"\nexport * from \"./InfoBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"decoration-footnote\"},[_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"rounded grey lighten-2\"},[_c('div',{ref:\"akn\",staticClass:\"akoma-ntoso\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"decoration-footnote\">\n    <div v-ripple class=\"rounded grey lighten-2\">\n      <div class=\"akoma-ntoso\" ref=\"akn\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Footnote',\n  data: () => ({\n    footnote: null\n  }),\n  mounted () {\n    this.$refs.akn.appendChild(this.footnote);\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footnote.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footnote.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Footnote.vue?vue&type=template&id=2ae602e4&\"\nimport script from \"./Footnote.vue?vue&type=script&lang=js&\"\nexport * from \"./Footnote.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pb-3 decoration-commencement\"},[_c('v-chip',[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\",\"color\":\"blue\"}},[_vm._v(\"mdi-clock\")]),_vm._v(\" Inserted \"+_vm._s(_vm.info.provision_type)+\" in force from \"+_vm._s(_vm.info.date)+\" \")],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pb-3 decoration-commencement\">\n    <v-chip>\n      <v-icon small left color=\"blue\">mdi-clock</v-icon>\n      Inserted {{ info.provision_type }} in force from {{ info.date }}\n    </v-chip>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Commencement',\n  data: () => ({\n    info: {}\n  })\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Commencement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Commencement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Commencement.vue?vue&type=template&id=149ec354&\"\nimport script from \"./Commencement.vue?vue&type=script&lang=js&\"\nexport * from \"./Commencement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VChip,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pb-3 decoration-external-form text-body-1\"},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"color\":\"orange lighten-5\",\"elevation\":\"0\"}},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"flex-grow-1\"},[_c('v-card-title',[_c('v-icon',{attrs:{\"left\":\"\",\"color\":\"orange\"}},[_vm._v(\"mdi-clipboard-edit\")]),_vm._v(\" Form \")],1),_c('v-card-subtitle',[_vm._v(\"Download this form to complete it offline.\")])],1),_c('div',{staticClass:\"pa-3\"},[_c('v-btn',{attrs:{\"color\":\"orange\"},on:{\"click\":_vm.msg}},[_vm._v(\"Download form\")])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pb-3 decoration-external-form text-body-1\">\n    <v-card class=\"mx-auto\" color=\"orange lighten-5\" elevation=\"0\">\n      <div class=\"d-flex\">\n        <div class=\"flex-grow-1\">\n          <v-card-title>\n            <v-icon left color=\"orange\">mdi-clipboard-edit</v-icon>\n            Form\n          </v-card-title>\n          <v-card-subtitle>Download this form to complete it offline.</v-card-subtitle>\n        </div>\n        <div class=\"pa-3\">\n          <v-btn color=\"orange\" @click=\"msg\">Download form</v-btn>\n        </div>\n      </div>\n    </v-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ExternalForm',\n  data: () => ({\n    info: {}\n  }),\n  methods: {\n    msg () {\n      alert('In a real application, a PDF would now download.');\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExternalForm.vue?vue&type=template&id=72460e5b&\"\nimport script from \"./ExternalForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ExternalForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VCard,VCardSubtitle,VCardTitle,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"900\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.diffsets.length === 1)?_c('v-card-title',{staticClass:\"grey lighten-2\"},[_vm._v(\"Differences between \"+_vm._s(_vm.currExpression.expression_date)+\" and \"+_vm._s(_vm.prevExpression.expression_date))]):_c('v-card-title',{staticClass:\"grey lighten-2\"},[_c('div',{staticClass:\"mr-3\"},[_vm._v(\"Differences between\")]),_c('v-select',{attrs:{\"items\":_vm.options,\"hide-details\":\"\"},model:{value:(_vm.diffset),callback:function ($$v) {_vm.diffset=$$v},expression:\"diffset\"}})],1),(_vm.diffset)?_c('diff',{attrs:{\"diffset\":_vm.diffset,\"switchToSide\":_vm.switchToSide}}):_vm._e(),_c('v-divider'),_c('v-card-actions',[_c('v-switch',{attrs:{\"label\":\"Show changes side-by-side\"},model:{value:(_vm.switchToSide),callback:function ($$v) {_vm.switchToSide=$$v},expression:\"switchToSide\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Close\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.switchToSide)?_c('div',{staticClass:\"akoma-ntoso diffset pa-3\",staticStyle:{\"max-height\":\"50vh\",\"overflow-y\":\"auto\"},domProps:{\"innerHTML\":_vm._s(_vm.diffset.html_diff)}}):_c('div',{staticClass:\"d-flex justify-space-between pa-3\",staticStyle:{\"max-height\":\"50vh\",\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"akoma-ntoso diffset diffset-left\",domProps:{\"innerHTML\":_vm._s(_vm.diffset.html_diff)}}),_c('div',{staticClass:\"akoma-ntoso diffset diffset-right\",domProps:{\"innerHTML\":_vm._s(_vm.diffset.html_diff)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-if=\"!switchToSide\"\n    class=\"akoma-ntoso diffset pa-3\"\n    v-html=\"diffset.html_diff\"\n    style=\"max-height: 50vh; overflow-y: auto;\"\n  ></div>\n  <div\n    v-else\n    class=\"d-flex justify-space-between pa-3\"\n    style=\"max-height: 50vh; overflow-y: auto;\"\n  >\n    <div\n      class=\"akoma-ntoso diffset diffset-left\"\n      v-html=\"diffset.html_diff\"\n    ></div>\n    <div\n      class=\"akoma-ntoso diffset diffset-right\"\n      v-html=\"diffset.html_diff\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport '../components/diffs.scss';\n\nexport default {\n  name: 'Diff',\n  props: ['diffset', 'switchToSide']\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Diff.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Diff.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Diff.vue?vue&type=template&id=7464e87e&\"\nimport script from \"./Diff.vue?vue&type=script&lang=js&\"\nexport * from \"./Diff.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-dialog\n    max-width=\"900\"\n    v-model=\"dialog\"\n  >\n    <v-card>\n      <v-card-title class=\"grey lighten-2\" v-if=\"diffsets.length === 1\">Differences between {{ currExpression.expression_date }} and {{ prevExpression.expression_date }}</v-card-title>\n      <v-card-title class=\"grey lighten-2\" v-else>\n        <div class=\"mr-3\">Differences between</div>\n        <v-select :items=\"options\" v-model=\"diffset\" hide-details></v-select>\n      </v-card-title>\n\n      <diff v-if=\"diffset\" :diffset=\"diffset\" :switchToSide=\"switchToSide\"></diff>\n\n      <v-divider></v-divider>\n\n      <v-card-actions>\n        <v-switch v-model=\"switchToSide\" label=\"Show changes side-by-side\"></v-switch>\n        <v-spacer></v-spacer>\n        <v-btn text color=\"primary\" @click=\"dialog = false\">Close</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport Diff from '../components/Diff.vue';\nimport '../components/diffs.scss';\nimport { Marpol } from '../data/marpol';\n\nexport default {\n  components: { Diff },\n  name: 'Diffset',\n  props: ['diffsets'],\n  data: () => ({\n    dialog: false,\n    switchToSide: false,\n    diffset: null\n  }),\n  beforeMount () {\n    this.diffset = this.diffsets[this.diffsets.length - 1];\n  },\n  computed: {\n    options () {\n      return this.diffsets.map(d => {\n        return {\n          text: d.expression_frbr_uri.substring(d.expression_frbr_uri.lastIndexOf('@') + 1) + ' and ' +\n                d.prev_expression_frbr_uri.substring(d.prev_expression_frbr_uri.lastIndexOf('@') + 1),\n          value: d\n        };\n      }).reverse();\n    },\n    prevExpression () {\n      return Marpol.expressions.find(e => e.expression_frbr_uri === this.diffset.prev_expression_frbr_uri);\n    },\n    currExpression () {\n      return Marpol.expressions.find(e => e.expression_frbr_uri === this.diffset.expression_frbr_uri);\n    }\n  },\n  methods: {\n    show () {\n      this.dialog = true;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Diffset.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Diffset.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Diffset.vue?vue&type=template&id=22e7f51a&\"\nimport script from \"./Diffset.vue?vue&type=script&lang=js&\"\nexport * from \"./Diffset.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VDialog,VDivider,VSelect,VSpacer,VSwitch})\n","import tippy from 'tippy.js';\nimport 'tippy.js/dist/tippy.css';\nimport 'tippy.js/themes/light-border.css';\nimport './decorations.scss';\nimport debounce from 'lodash/debounce';\nimport InternalRef from './InternalRef.vue';\nimport IncomingRefs from './IncomingRefs.vue';\nimport InfoBox from './InfoBox.vue';\nimport Footnote from './Footnote.vue';\nimport Commencement from './Commencement.vue';\nimport ExternalForm from './ExternalForm.vue';\nimport Diffset from './Diffset.vue';\nimport Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\nimport Papa from 'papaparse';\nimport { diffsetsForExpression, groupDiffsetsByElement } from '@/data/marpol';\n\n// the Breakpoint service make Vue components VERY slow, so we remove it here because we don't use it\nexport const vuetify = new Vuetify({});\nvuetify.installed = vuetify.installed.filter(x => x !== 'breakpoint');\ndelete vuetify.framework.breakpoint;\n\n/**\n * A decoration that binds to the mouseover of certain elements and shows a popup containing the extracted\n * contents of another element (the ref element).\n */\nclass PopupRefs {\n  constructor (root, aknDoc) {\n    this.root = root;\n    this.aknDoc = aknDoc;\n    this.createWrapper();\n    this.createTippy();\n  }\n\n  createWrapper () {\n    this.wrapper = document.createElement('div');\n    this.wrapper.className = 'akoma-ntoso';\n  }\n\n  createTippy () {\n    this.tippy = tippy(this.getTriggerElements(), {\n      appendTo: this.root.parentElement,\n      content: '',\n      hideOnClick: true,\n      interactive: true,\n      maxWidth: 450,\n      onTrigger: this.onTrigger.bind(this),\n      onUntrigger: this.onUntrigger.bind(this),\n      theme: 'light-border'\n    });\n  }\n\n  getTriggerElements () {\n    return this.root.querySelectorAll('a.akn-ref[href^=\"#\"]');\n  }\n\n  /**\n   * Get the reference element referred to by this tippy instance, from the original AKN document.\n   * @returns {Element | HTMLElement}\n   */\n  getReferenceElement (tippy) {\n    const id = tippy.reference.getAttribute('href').slice(1);\n    return this.aknDoc.getElementById(id);\n  }\n\n  onTrigger (tippy, event) {\n    const provision = this.getReferenceElement(tippy);\n\n    if (provision) {\n      const wrapper = this.wrapper.cloneNode(true);\n      wrapper.appendChild(provision.cloneNode(true));\n      tippy.setContent(wrapper);\n\n      // highlight elsewhere in the document\n      const ref = this.root.querySelector(`[id=\"${provision.id}\"]`);\n      if (ref) {\n        ref.classList.add('secondary-highlight');\n      }\n    }\n  }\n\n  onUntrigger (tippy, event) {\n    const provision = this.getReferenceElement(tippy);\n\n    // unhighlight elsewhere in the document\n    const ref = this.root.querySelector(`[id=\"${provision.id}\"]`);\n    if (ref) {\n      ref.classList.remove('secondary-highlight');\n    }\n  }\n}\n\nclass PopupDefinitionRefs extends PopupRefs {\n  getTriggerElements () {\n    return this.root.querySelectorAll('.akn-term');\n  }\n\n  getReferenceElement (tippy) {\n    const term = tippy.reference.getAttribute('data-refersto');\n    // find where the term is defined\n    const def = this.aknDoc.querySelector(`.akn-def[data-refersto=\"${term}\"]`);\n    // find the container that wraps the defined term\n    return def.parentElement.closest(`[data-refersto=\"${term}\"]`);\n  }\n}\n\n/**\n * Helper class to adjust the vertical layout of a collection of decoration content elements, such that they are aligned\n * vertically with their reference elements, but don't overlap each other.\n *\n * Add decorations with add(). Decoration objects must have:\n *\n * * a `ref` attribute, which is the reference element to position the decoration in line with\n * * a `top` setter, which will be called with the new top pixel value\n */\nexport class DecorationLayout {\n  /**\n   * @param ref reference element to observe for resizing, and re-run the layout. This MUST have a position style\n   *        attribute, such as position: relative;\n   */\n  constructor (ref) {\n    this.ref = ref;\n    this.decorations = [];\n    // time to wait after resizing (debounce)\n    this.wait = 250;\n    // vertical buffer between elements\n    this.buffer = 10;\n    this._primary = null;\n    this.tops = null;\n  }\n\n  init () {\n    this.layout();\n\n    if (window.ResizeObserver) {\n      // add observer to re-layout when the containing document changes size, which implies\n      // the positions will change\n      this.observer = new ResizeObserver(debounce(this.layout.bind(this), this.wait));\n      this.observer.observe(this.ref);\n    }\n  }\n\n  /**\n   * Mark a decoration as primary, and lay it out before the others.\n   */\n  set primary (decoration) {\n    this._primary = decoration;\n    this.layout();\n  }\n\n  layout () {\n    // pre-calculate tops\n    this.updateTops();\n\n    // sort decorations by ascending ref top\n    this.decorations.sort((a, b) => this.tops.get(a.ref) - this.tops.get(b.ref));\n\n    if (this._primary) {\n      const ix = this.decorations.indexOf(this._primary);\n      if (ix > -1) {\n        // layout the primary decoration first\n        const top = this.tops.get(this._primary.ref);\n        this._primary.top = top;\n        // layout the ones going upwards from here\n        this.layoutUpwards(ix - 1, top - this.buffer);\n        // layout the ones going downwards from here\n        this.layoutDownwards(ix + 1, top + this._primary.content.clientHeight + this.buffer);\n        return;\n      }\n    }\n\n    // nothing is primary, go top downwards\n    this.layoutDownwards(0, 0);\n  }\n\n  layoutUpwards (start, watermark) {\n    // layout the decorations from index start, going bottom to top\n    for (let i = start; i >= 0; i--) {\n      const decoration = this.decorations[i];\n      let top = this.tops.get(decoration.ref);\n      if (top + decoration.content.clientHeight >= watermark) {\n        top = watermark - decoration.content.clientHeight;\n      }\n      decoration.top = top;\n      watermark = top - this.buffer;\n    }\n  }\n\n  layoutDownwards (start, watermark) {\n    // layout the decorations from index start, going top to bottom\n    for (let i = start; i < this.decorations.length; i++) {\n      const decoration = this.decorations[i];\n      const top = Math.max(watermark, this.tops.get(decoration.ref));\n      decoration.top = top;\n      watermark = top + decoration.content.clientHeight + this.buffer;\n    }\n  }\n\n  updateTops () {\n    this.tops = new WeakMap();\n\n    for (const decoration of this.decorations) {\n      if (!this.tops.has(decoration.ref)) {\n        this.tops.set(decoration.ref, this.calculateTop(decoration.ref));\n      }\n    }\n  }\n\n  /**\n   * Find the top of an element, relative to this.ref.\n   * @param element\n   * @returns {number}\n   */\n  calculateTop (element) {\n    let top = 0;\n\n    while (element && element !== this.ref) {\n      top += element.offsetTop;\n      element = element.offsetParent;\n    }\n\n    return top;\n  }\n}\n\n/**\n * Add gutter markers for internal references\n */\n// eslint-disable-next-line no-unused-vars\nfunction internalRefDecorations (documentRoot, expression) {\n  const Component = Vue.extend(InternalRef);\n  const items = [];\n\n  for (const ref of documentRoot.querySelectorAll('a.akn-ref[href^=\"#\"]')) {\n    const id = ref.getAttribute('href').slice(1);\n    const item = expression.toc.itemsById.get(id);\n\n    // these are hidden when the gutter is visible\n    if (ref.closest('.akn-authorialNote')) continue;\n\n    if (id && item) {\n      const content = new Component({ vuetify });\n      content.item = item;\n      content.ref = ref;\n      content.$mount();\n      items.push(content);\n    }\n  }\n\n  return items;\n}\n\n/**\n * Add gutter markers for footnotes\n */\nfunction footnoteDecorations (documentRoot) {\n  const Component = Vue.extend(Footnote);\n  const items = [];\n\n  for (const footnote of documentRoot.querySelectorAll('.akn-authorialNote')) {\n    const content = new Component({ vuetify });\n    content.footnote = footnote.cloneNode(true);\n\n    // ref is the footnote marker, not the footnote content\n    const ref = footnote.parentElement.querySelector(`a[href=\"#${footnote.id}\"]`);\n    if (ref) {\n      content.ref = ref;\n      content.$mount();\n      items.push(content);\n    } else {\n      console.warn(\"Couldn't find footnote parent\", footnote);\n    }\n  }\n\n  return items;\n}\n\n/**\n * Add gutter markers for incoming references\n */\nfunction incomingRefDecorations (documentRoot, expression) {\n  const Component = Vue.extend(IncomingRefs);\n  const incoming = new Map();\n  const items = [];\n\n  // group internal references by the elements that they reference to\n  for (const ref of documentRoot.querySelectorAll('a.akn-ref[href^=\"#\"]')) {\n    const id = ref.getAttribute('href').slice(1);\n    if (incoming.has(id)) {\n      incoming.get(id).push(ref);\n    } else {\n      incoming.set(id, [ref]);\n    }\n  }\n\n  // add a decoration alongside each element that has incoming references\n  for (const [id, refs] of incoming) {\n    const content = new Component({ vuetify });\n    const element = documentRoot.querySelector(`[id=\"${id}\"]`);\n\n    if (element) {\n      const references = [];\n      const unique = new Set();\n\n      // transform incoming ref links to human friendly titles of where those links\n      // are located (ie. the TOC entry that has the incoming link to `element`.\n      for (const ref of refs) {\n        // get closest TOC entry for this ref\n        const tocEntry = expression.toc.closestTocEntry(ref);\n        if (tocEntry && !unique.has(tocEntry[1])) {\n          references.push(tocEntry[1]);\n          unique.add(tocEntry[1]);\n        }\n      }\n\n      content.references = references;\n      content.ref = element;\n      content.$mount();\n      items.push(content);\n    }\n  }\n\n  return items;\n}\n\n/**\n * Add gutter markers for general information\n */\nconst _infoDecorations = [];\nasync function getInfoDecorations (documentRoot) {\n  const Component = Vue.extend(InfoBox);\n\n  return new Promise((resolve) => {\n    function unpack () {\n      const items = [];\n\n      for (const info of _infoDecorations) {\n        const ref = documentRoot.querySelector(`[id=\"${info.element_id}\"]`);\n        if (ref) {\n          const content = new Component({ vuetify });\n          content.info = info;\n          content.ref = ref;\n          content.$mount();\n          items.push(content);\n        }\n      }\n\n      return items;\n    }\n\n    if (_infoDecorations.length === 0) {\n      // grab info from google sheet\n      // https://docs.google.com/spreadsheets/d/1OLygdgMWMaIOp4KCRToTrheo94EzJUSL8B4urYN5WSs/edit#gid=0\n      Papa.parse('https://docs.google.com/spreadsheets/d/1OLygdgMWMaIOp4KCRToTrheo94EzJUSL8B4urYN5WSs/gviz/tq?tqx=out:csv&sheet=Sheet1', {\n        download: true,\n        header: true,\n        complete: (results) => {\n          for (const info of results.data) {\n            _infoDecorations.push(info);\n          }\n          resolve(unpack());\n        }\n      });\n    } else {\n      resolve(unpack());\n    }\n  });\n}\n\n/**\n * Commencement markers in the text itself.\n *\n * This is calculated by looking at the diffsets for the current expression and earlier. For each diffset,\n * we check if the changed element has a remark that includes \"inserted\". This indicates a new provision.\n * The in-force date is taken to be the expression date of the first expression that included this diffset.\n */\nfunction commencementDecorations (root, expression) {\n  const Component = Vue.extend(Commencement);\n  const groups = groupDiffsetsByElement(diffsetsForExpression(expression));\n\n  for (const [elementId, diffsets] of groups) {\n    let element = root.querySelector(`[id=\"${elementId}\"]`);\n    const toc = expression.toc.itemsById.get(elementId);\n\n    if (element && toc) {\n      const remark = element.querySelector('.akn-remark');\n      if (remark && (remark.textContent.indexOf('inserted') > -1 || remark.textContent.indexOf('added') > -1)) {\n        // provision was inserted\n        const content = new Component({ vuetify });\n        const dates = diffsets.map(d => d.expression_frbr_uri.substring(d.expression_frbr_uri.indexOf('@') + 1)).sort();\n        content.info = {\n          provision_type: toc.type === 'part' ? 'regulation' : toc.type,\n          date: dates[0]\n        };\n        content.$mount();\n\n        if (element.classList.contains('akn-attachment')) {\n          element = element.querySelector('.akn-mainBody');\n          element.insertBefore(content.$el, element.firstElementChild);\n        } else {\n          element.appendChild(content.$el);\n        }\n      }\n    }\n  }\n}\n\n/**\n * Help user fill in forms externally\n */\nfunction formDecorations (root, expression) {\n  const Component = Vue.extend(ExternalForm);\n  const forms = [{\n    element_id: 'att_1__dvs_nn_1'\n  }, {\n    element_id: 'att_1__dvs_nn_2'\n  }];\n\n  for (const form of forms) {\n    const element = root.querySelector(`[id=\"${form.element_id}\"]`);\n\n    if (element) {\n      const content = new Component({ vuetify });\n      content.form = form;\n      content.$mount();\n\n      const ref = element.querySelector('h2, h3');\n      element.insertBefore(content.$el, ref.nextElementSibling);\n    }\n  }\n}\n\n/**\n * Add decorations to show differences for amended provisions.\n */\nexport function diffDecorations (root, expression) {\n  const Component = Vue.extend(Diffset);\n  const groups = groupDiffsetsByElement(diffsetsForExpression(expression));\n\n  for (const [elementId, group] of groups) {\n    const ref = root.querySelector(`[id=\"${elementId}\"]`);\n\n    if (ref) {\n      const remarks = [...ref.querySelectorAll('.akn-remark')];\n\n      if (remarks.length) {\n        const remark = remarks[0];\n        const content = new Component({ vuetify });\n        content.diffsets = group;\n        content.$mount();\n\n        // insert a button to trigger the dialog into the remark in the provision\n        const button = document.createElement('button');\n        button.className = 'v-btn mx-3 theme--light v-size--x-small blue lighten-2';\n        button.style = 'font-style: normal';\n        button.type = 'button';\n\n        const text = document.createElement('span');\n        text.innerText = 'What changed?';\n        text.className = 'v-btn__content text-button';\n        text.addEventListener('click', (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          content.show();\n        });\n        button.appendChild(text);\n\n        remark.insertBefore(button, remark.childNodes[remark.childNodes.length - 1]);\n      }\n    }\n  }\n}\n\n/**\n * Add AKN decorations to the tree anchored at root.\n * @param root\n */\nexport function addDecorations (root, gutter, expression) {\n  // eslint-disable-next-line no-new\n  new PopupRefs(root, expression.aknDoc);\n  // eslint-disable-next-line no-new\n  new PopupDefinitionRefs(root, expression.aknDoc);\n\n  // in-text decorations\n  commencementDecorations(root, expression);\n  formDecorations(root, expression);\n  diffDecorations(root, expression);\n\n  // gutter decorations\n  let items = [];\n  items = items.concat(footnoteDecorations(root));\n  // items = items.concat(internalRefDecorations(root, expression));\n  items = items.concat(incomingRefDecorations(root, expression));\n  return items;\n}\n\nexport async function getAsyncDecorations (root) {\n  return await getInfoDecorations(root);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"main\",staticClass:\"decoration\",class:_vm.classes,style:(_vm.styles),on:{\"click\":function($event){$event.stopPropagation();return _vm.activate($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"main\" :style=\"styles\" :class=\"classes\" class=\"decoration\" @click.stop=\"activate\"></div>\n</template>\n\n<script>\nexport default {\n  name: 'GutterMarker',\n  props: ['item', 'active', 'top'],\n  mounted () {\n    this.$refs.main.appendChild(this.item.$el);\n  },\n  methods: {\n    activate () {\n      this.$emit('activate', this.item);\n    }\n  },\n  watch: {\n    active () {\n      this.item.ref.classList.toggle('decoration-active', this.active);\n    }\n  },\n  computed: {\n    styles () {\n      return `top: ${this.top}px`;\n    },\n    classes () {\n      return {\n        'decoration-active': this.active\n      };\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GutterMarker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GutterMarker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GutterMarker.vue?vue&type=template&id=681da353&\"\nimport script from \"./GutterMarker.vue?vue&type=script&lang=js&\"\nexport * from \"./GutterMarker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <aside class=\"gutter\" @click=\"clearPrimary\">\n    <div ref=\"gutterItems\" class=\"gutter-items\">\n      <GutterMarker\n        v-for=\"(m, ix) in markers\"\n        :key=\"ix\"\n        :item=\"m.item\"\n        :active=\"m.active\"\n        :top=\"m.top\"\n        @activate=\"activated\"></GutterMarker>\n    </div>\n  </aside>\n</template>\n\n<script>\nimport { DecorationLayout } from '@/decorations/decorations';\nimport GutterMarker from './GutterMarker';\n\nexport default {\n  name: 'Gutter',\n  props: ['expression', 'items'],\n  components: { GutterMarker },\n  data: () => ({\n    markers: []\n  }),\n  watch: {\n    items () {\n      this.markers = this.items.map((item) => {\n        return {\n          active: false,\n          top: 1,\n          item: item,\n          // these are used by the gutter layout algorithm\n          get ref () { return item.ref; },\n          content: item.$el\n        };\n      });\n      this.layout.decorations = [...this.markers];\n      this.$nextTick(() => { this.layout.layout(); });\n    }\n  },\n  methods: {\n    activated (item) {\n      const marker = this.markers.find((m) => m.item === item);\n      for (const m of this.markers) {\n        m.active = m === marker;\n      }\n      this.layout.primary = marker;\n    },\n    reset (contentRoot) {\n      this.$refs.gutterItems.innerText = '';\n      this.layout = new DecorationLayout(contentRoot);\n      this.layout.init();\n    },\n    clearPrimary () {\n      for (const m of this.markers) {\n        m.active = false;\n      }\n      this.layout.primary = null;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gutter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gutter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Gutter.vue?vue&type=template&id=475f8a50&\"\nimport script from \"./Gutter.vue?vue&type=script&lang=js&\"\nexport * from \"./Gutter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"decorations-toolbar-wrapper\",style:({top: _vm.computedTop + 'px'})},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"elevation\":\"1\"}},[_c('v-menu',{ref:\"searchMenu\",attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"close-on-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"font-weight-regular\",attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)]}}])},[_c('v-card',{staticClass:\"pa-3\"},[_c('Search',{attrs:{\"expression\":_vm.expression},on:{\"closed\":_vm.closeSearchDialog}})],1)],1),_c('v-menu',{ref:\"applicabilityMenu\",attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"close-on-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"font-weight-regular\",attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-ferry\")])],1)]}}])},[_c('v-card',{staticClass:\"pa-3\"},[_c('Applicability',{ref:\"applicabilityDialog\",attrs:{\"expression\":_vm.expression},on:{\"closed\":_vm.closeApplicabilityDialog}})],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"close-on-click\":false,\"z-index\":\"15\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"font-weight-regular\",attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}]),model:{value:(_vm.featureDialog),callback:function ($$v) {_vm.featureDialog=$$v},expression:\"featureDialog\"}},[_c('v-card',{staticClass:\"pa-3\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',[_vm._v(\"Which features must be visible?\")]),_c('v-divider',{staticClass:\"mx-3\",attrs:{\"light\":\"\",\"vertical\":\"\"}}),_c('v-icon',{on:{\"click\":function($event){_vm.featureDialog = false}}},[_vm._v(\"mdi-close\")])],1),_c('v-form',[_c('v-checkbox',{attrs:{\"disabled\":!_vm.user.premium,\"hide-details\":\"true\",\"label\":\"Footnotes in margin\"},model:{value:(_vm.user.settings.footnotesAside),callback:function ($$v) {_vm.$set(_vm.user.settings, \"footnotesAside\", $$v)},expression:\"user.settings.footnotesAside\"}}),_c('v-checkbox',{attrs:{\"disabled\":!_vm.user.premium,\"hide-details\":\"true\",\"label\":\"Incoming references\"},model:{value:(_vm.user.settings.incomingRefs),callback:function ($$v) {_vm.$set(_vm.user.settings, \"incomingRefs\", $$v)},expression:\"user.settings.incomingRefs\"}}),_c('v-checkbox',{attrs:{\"disabled\":!_vm.user.premium,\"hide-details\":\"true\",\"label\":\"Internal references\"},model:{value:(_vm.user.settings.internalRefs),callback:function ($$v) {_vm.$set(_vm.user.settings, \"internalRefs\", $$v)},expression:\"user.settings.internalRefs\"}}),_c('v-checkbox',{attrs:{\"disabled\":!_vm.user.premium,\"hide-details\":\"true\",\"label\":\"In force dates\"},model:{value:(_vm.user.settings.commencements),callback:function ($$v) {_vm.$set(_vm.user.settings, \"commencements\", $$v)},expression:\"user.settings.commencements\"}}),_c('v-checkbox',{attrs:{\"disabled\":!_vm.user.premium,\"hide-details\":\"true\",\"label\":\"Additional information\"},model:{value:(_vm.user.settings.infoboxes),callback:function ($$v) {_vm.$set(_vm.user.settings, \"infoboxes\", $$v)},expression:\"user.settings.infoboxes\"}}),_c('div',{staticClass:\"text-caption ml-8\"},[_vm._v(\" Loaded from this \"),_c('a',{attrs:{\"href\":\"https://docs.google.com/spreadsheets/d/1OLygdgMWMaIOp4KCRToTrheo94EzJUSL8B4urYN5WSs/edit#gid=0\",\"target\":\"_blank\"}},[_vm._v(\"spreadsheet\")]),_vm._v(\". \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex\"},[_c('v-text-field',{staticClass:\"pt-0\",attrs:{\"hide-details\":\"\",\"single-line\":\"\",\"label\":\"Search\",\"clearable\":\"\",\"clear-icon\":\"mdi-close-circle-outline\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.jumpToNext($event)}},model:{value:(_vm.needle),callback:function ($$v) {_vm.needle=$$v},expression:\"needle\"}}),(_vm.searching)?_c('div',{staticClass:\"text-caption ma-2\"},[_vm._v(_vm._s(_vm.currentIndex + 1)+\"/\"+_vm._s(_vm.marks.length))]):_vm._e(),_c('v-icon',{attrs:{\"active-class\":\"\"},on:{\"click\":_vm.jumpToPrevious}},[_vm._v(\"mdi-chevron-up\")]),_c('v-icon',{on:{\"click\":_vm.jumpToNext}},[_vm._v(\"mdi-chevron-down\")]),_c('v-divider',{staticClass:\"mx-3\",attrs:{\"light\":\"\",\"vertical\":\"\"}}),_c('v-icon',{on:{\"click\":_vm.close}},[_vm._v(\"mdi-close\")])],1),_c('div',{staticClass:\"pt-4\"},[_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"All words together\"},model:{value:(_vm.keepTogether),callback:function ($$v) {_vm.keepTogether=$$v},expression:\"keepTogether\"}}),_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"label\":\"General text\",\"xclass\":\"mt-0\",\"value\":\"text\"},model:{value:(_vm.scope),callback:function ($$v) {_vm.scope=$$v},expression:\"scope\"}}),_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"Tables\",\"value\":\"tables\"},model:{value:(_vm.scope),callback:function ($$v) {_vm.scope=$$v},expression:\"scope\"}}),_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"Headings\",\"value\":\"headings\"},model:{value:(_vm.scope),callback:function ($$v) {_vm.scope=$$v},expression:\"scope\"}}),_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"Paragraphs\",\"value\":\"paragraphs\"},model:{value:(_vm.scope),callback:function ($$v) {_vm.scope=$$v},expression:\"scope\"}}),_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"Sub-paragraphs\",\"value\":\"subparagraphs\"},model:{value:(_vm.scope),callback:function ($$v) {_vm.scope=$$v},expression:\"scope\"}}),_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"Annexes\",\"value\":\"attachments\"},model:{value:(_vm.scope),callback:function ($$v) {_vm.scope=$$v},expression:\"scope\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"d-flex\">\n      <v-text-field\n        hide-details\n        single-line\n        label=\"Search\"\n        clearable\n        clear-icon=\"mdi-close-circle-outline\"\n        class=\"pt-0\"\n        v-model=\"needle\"\n        @keydown.enter=\"jumpToNext\"\n      ></v-text-field>\n\n      <div v-if=\"searching\" class=\"text-caption ma-2\">{{ currentIndex + 1 }}/{{ marks.length }}</div>\n\n      <v-icon @click=\"jumpToPrevious\" active-class=\"\">mdi-chevron-up</v-icon>\n      <v-icon @click=\"jumpToNext\">mdi-chevron-down</v-icon>\n\n      <v-divider light class=\"mx-3\" vertical></v-divider>\n\n      <v-icon @click=\"close\">mdi-close</v-icon>\n    </div>\n\n    <div class=\"pt-4\">\n      <v-checkbox hide-details v-model=\"keepTogether\" label=\"All words together\" class=\"mt-0\" />\n\n      <v-checkbox hide-details v-model=\"scope\" label=\"General text\" xclass=\"mt-0\" value=\"text\" />\n      <v-checkbox hide-details v-model=\"scope\" label=\"Tables\" class=\"mt-0\" value=\"tables\" />\n      <v-checkbox hide-details v-model=\"scope\" label=\"Headings\" class=\"mt-0\" value=\"headings\" />\n      <v-checkbox hide-details v-model=\"scope\" label=\"Paragraphs\" class=\"mt-0\" value=\"paragraphs\" />\n      <v-checkbox hide-details v-model=\"scope\" label=\"Sub-paragraphs\" class=\"mt-0\" value=\"subparagraphs\" />\n      <v-checkbox hide-details v-model=\"scope\" label=\"Annexes\" class=\"mt-0\" value=\"attachments\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Mark from 'mark.js';\nimport debounce from 'lodash/debounce';\n\nexport default {\n  name: 'Search',\n  props: ['expression'],\n  data: () => ({\n    needle: '',\n    scope: ['text', 'tables', 'headings', 'attachments', 'paragraphs', 'subparagraphs'],\n    keepTogether: true,\n    marks: [],\n    currentIndex: 0\n  }),\n  mounted () {\n    this.document = document.querySelector('.primary-document');\n  },\n  computed: {\n    searching () {\n      return this.needle && this.needle.length > 0;\n    }\n  },\n  methods: {\n    jumpTo () {\n      if (this.marks.length > 0) {\n        const currentMark = this.marks[this.currentIndex];\n        this.marks.forEach(mark => mark.classList.remove('current'));\n        if (currentMark) {\n          currentMark.classList.add('current');\n          const position = currentMark.getBoundingClientRect().top + window.scrollY;\n          window.scrollTo(0, position - 230);\n        }\n      }\n    },\n    jumpToPrevious () {\n      if (this.marks.length > 0) {\n        this.currentIndex += -1;\n        if (this.currentIndex < 0) {\n          this.currentIndex = this.marks.length - 1;\n        }\n        if (this.currentIndex > this.marks.length - 1) {\n          this.currentIndex = 0;\n        }\n        this.jumpTo();\n      }\n    },\n    jumpToNext () {\n      if (this.marks.length > 0) {\n        this.currentIndex += 1;\n        if (this.currentIndex < 0) {\n          this.currentIndex = this.marks.length - 1;\n        }\n        if (this.currentIndex > this.marks.length - 1) {\n          this.currentIndex = 0;\n        }\n        this.jumpTo();\n      }\n    },\n    search () {\n      this.currentIndex = 0;\n\n      if (this.needle && this.needle !== '') {\n        if (!this.mark) {\n          this.mark = new Mark(this.document);\n        }\n\n        // unmark existing marks\n        this.mark.unmark({\n          done: () => this.markResults()\n        });\n      } else {\n        if (this.mark) {\n          this.mark.unmark();\n          this.mark = null;\n        }\n      }\n    },\n    markResults () {\n      // this will mark search matches with <mark>...</mark>\n      this.mark.mark(this.needle, {\n        separateWordSearch: !this.keepTogether,\n        filter: (text) => {\n          if (text.parentElement.closest('table')) {\n            return this.scope.includes('tables');\n          }\n\n          if (text.parentElement.closest('h1, h2, h3, h4, h5')) {\n            return this.scope.includes('headings');\n          }\n\n          if (text.parentElement.closest('.akn-subparagraph')) {\n            return this.scope.includes('subparagraphs');\n          }\n\n          if (text.parentElement.closest('.akn-paragraph')) {\n            return this.scope.includes('paragraphs');\n          }\n\n          if (text.parentElement.closest('.akn-attachment')) {\n            return this.scope.includes('attachments');\n          }\n\n          // match general text?\n          return this.scope.includes('text');\n        },\n        done: () => {\n          // stash the marks for later navigation\n          this.marks = this.document.querySelectorAll('mark');\n          this.jumpTo();\n        }\n      });\n    },\n    close () {\n      this.needle = '';\n      this.$emit('closed');\n    }\n  },\n  watch: {\n    expression () {\n      // new expression, reset search\n      this.needle = '';\n    },\n    scope () {\n      this.search();\n    },\n    keepTogether () {\n      this.search();\n    },\n    needle: debounce(function () {\n      this.search();\n    }, 250)\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=97542208&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCheckbox,VDivider,VIcon,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex\"},[_c('div',[_vm._v(\"Find provisions applicable to ship details\")]),_c('v-spacer'),_c('v-divider',{staticClass:\"mx-3\",attrs:{\"light\":\"\",\"vertical\":\"\"}}),_c('v-icon',{on:{\"click\":_vm.close}},[_vm._v(\"mdi-close\")])],1),_c('div',{staticClass:\"pt-4\"},[_c('v-text-field',{attrs:{\"filled\":\"\",\"min\":\"0\",\"max\":\"10000\",\"type\":\"number\",\"label\":\"Gross tonnage\"},model:{value:(_vm.grossTonnage),callback:function ($$v) {_vm.grossTonnage=$$v},expression:\"grossTonnage\"}}),_c('v-text-field',{attrs:{\"filled\":\"\",\"type\":\"date\",\"prepend-icon\":\"mdi-calendar\",\"label\":\"Construction date\"},model:{value:(_vm.constructionDate),callback:function ($$v) {_vm.constructionDate=$$v},expression:\"constructionDate\"}})],1),_c('div',{staticClass:\"pt-4 d-flex\"},[_c('v-btn',{attrs:{\"depressed\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.search}},[_vm._v(\"Find provisions\")]),(_vm.marks.length > 0)?_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"text-caption ma-2\"},[_vm._v(_vm._s(_vm.currentIndex + 1)+\"/\"+_vm._s(_vm.marks.length))]),_c('v-icon',{attrs:{\"active-class\":\"\"},on:{\"click\":_vm.jumpToPrevious}},[_vm._v(\"mdi-chevron-up\")]),_c('v-icon',{on:{\"click\":_vm.jumpToNext}},[_vm._v(\"mdi-chevron-down\")])],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"d-flex\">\n      <div>Find provisions applicable to ship details</div>\n      <v-spacer></v-spacer>\n      <v-divider light class=\"mx-3\" vertical></v-divider>\n      <v-icon @click=\"close\">mdi-close</v-icon>\n    </div>\n\n    <div class=\"pt-4\">\n      <v-text-field\n        v-model=\"grossTonnage\"\n        filled\n        min=\"0\"\n        max=\"10000\"\n        type=\"number\"\n        label=\"Gross tonnage\"\n      />\n\n      <v-text-field\n        v-model=\"constructionDate\"\n        filled\n        type=\"date\"\n        prepend-icon=\"mdi-calendar\"\n        label=\"Construction date\"\n      />\n    </div>\n\n    <div class=\"pt-4 d-flex\">\n      <v-btn depressed color=\"primary\" @click=\"search\">Find provisions</v-btn>\n\n      <div v-if=\"marks.length > 0\" class=\"d-flex\">\n        <div class=\"text-caption ma-2\">{{ currentIndex + 1 }}/{{ marks.length }}</div>\n\n        <v-icon @click=\"jumpToPrevious\" active-class=\"\">mdi-chevron-up</v-icon>\n        <v-icon @click=\"jumpToNext\">mdi-chevron-down</v-icon>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Papa from 'papaparse';\n\nexport default {\n  name: 'Applicability',\n  props: ['expression'],\n  data: () => ({\n    marks: [],\n    currentIndex: 0,\n    grossTonnage: 0,\n    constructionDate: ''\n  }),\n  mounted () {\n    this.document = document.querySelector('.primary-document');\n    this.criteria = this.getCriteria();\n  },\n  methods: {\n    jumpTo () {\n      if (this.marks.length > 0) {\n        const currentMark = this.marks[this.currentIndex];\n        this.marks.forEach(mark => mark.classList.remove('current'));\n        if (currentMark) {\n          currentMark.classList.add('current');\n          const position = currentMark.getBoundingClientRect().top + window.scrollY;\n          window.scrollTo(0, position - 230);\n        }\n      }\n    },\n    jumpToPrevious () {\n      if (this.marks.length > 0) {\n        this.currentIndex += -1;\n        if (this.currentIndex < 0) {\n          this.currentIndex = this.marks.length - 1;\n        }\n        if (this.currentIndex > this.marks.length - 1) {\n          this.currentIndex = 0;\n        }\n        this.jumpTo();\n      }\n    },\n    jumpToNext () {\n      if (this.marks.length > 0) {\n        this.currentIndex += 1;\n        if (this.currentIndex < 0) {\n          this.currentIndex = this.marks.length - 1;\n        }\n        if (this.currentIndex > this.marks.length - 1) {\n          this.currentIndex = 0;\n        }\n        this.jumpTo();\n      }\n    },\n    reset () {\n      this.currentIndex = 0;\n      this.document.classList.remove('dimmed');\n      this.document.querySelectorAll('.not-dimmed').forEach(x => x.classList.remove('not-dimmed'));\n      this.marks = [];\n    },\n    search () {\n      this.reset();\n      this.document.classList.add('dimmed');\n\n      // what are we searching for?\n      const values = {};\n\n      if (this.grossTonnage.length > 0 && this.grossTonnage !== '0') {\n        values.grossTonnage = parseInt(this.grossTonnage);\n      }\n\n      if (this.constructionDate.length > 0) {\n        values.constructionDate = this.constructionDate;\n      }\n\n      function match (item) {\n        const matches = ['grossTonnage', 'constructionDate'].map((attr) => {\n          const val = values[attr];\n          if (val && item[attr]) {\n            // min and max\n            return (val >= item[attr][0] && val <= item[attr][1]);\n          }\n          return null;\n        });\n\n        // it matches if any match is true and no match is false (nulls are ignored)\n        return matches.some(m => m === true) && !matches.some(m => m === false);\n      }\n\n      // mark matching provisions\n      this.marks = [];\n      for (const item of this.criteria.filter(match.bind(this))) {\n        const ref = document.querySelector(`[id=\"${item.elementId}\"]`);\n        if (ref) {\n          ref.classList.add('not-dimmed');\n          this.marks.push(ref);\n        }\n      }\n\n      this.jumpTo();\n    },\n    close () {\n      this.$emit('closed');\n    },\n    getCriteria () {\n      const criteria = [];\n\n      // grab info from google sheet\n      // https://docs.google.com/spreadsheets/d/1OLygdgMWMaIOp4KCRToTrheo94EzJUSL8B4urYN5WSs/edit#gid=0\n      Papa.parse('https://docs.google.com/spreadsheets/d/1OLygdgMWMaIOp4KCRToTrheo94EzJUSL8B4urYN5WSs/gviz/tq?tqx=out:csv&sheet=Applicability', {\n        download: true,\n        header: true,\n        complete: (results) => {\n          results.data.forEach(criterion => {\n            const newCriteria = {\n              elementId: criterion.element_id\n            };\n            if (criterion.constructionStartDate) {\n              newCriteria.constructionDate = [criterion.constructionStartDate, criterion.constructionEndDate];\n            }\n            if (criterion.minGrossTonnage) {\n              newCriteria.grossTonnage = [Number(criterion.minGrossTonnage), Number(criterion.maxGrossTonnage)];\n            }\n            criteria.push(newCriteria);\n          });\n        }\n      });\n      return criteria;\n    }\n  },\n  watch: {\n    expression () {\n      // new expression, reset\n      this.reset();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Applicability.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Applicability.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Applicability.vue?vue&type=template&id=20aae7bb&\"\nimport script from \"./Applicability.vue?vue&type=script&lang=js&\"\nexport * from \"./Applicability.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VDivider,VIcon,VSpacer,VTextField})\n","<template>\n  <div class=\"decorations-toolbar-wrapper\" :style=\"{top: computedTop + 'px'}\">\n    <v-toolbar dense elevation=\"1\">\n      <v-menu offset-y :close-on-content-click=\"false\" :close-on-click=\"false\" ref=\"searchMenu\">\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn icon v-bind=\"attrs\" v-on=\"on\" class=\"font-weight-regular\">\n            <v-icon>mdi-magnify</v-icon>\n          </v-btn>\n        </template>\n        <v-card class=\"pa-3\">\n          <Search :expression=\"expression\" @closed=\"closeSearchDialog\"></Search>\n        </v-card>\n      </v-menu>\n\n      <v-menu offset-y :close-on-content-click=\"false\" :close-on-click=\"false\" ref=\"applicabilityMenu\">\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn icon v-bind=\"attrs\" v-on=\"on\" class=\"font-weight-regular\">\n            <v-icon>mdi-ferry</v-icon>\n          </v-btn>\n        </template>\n        <v-card class=\"pa-3\">\n          <Applicability :expression=\"expression\" @closed=\"closeApplicabilityDialog\" ref=\"applicabilityDialog\"></Applicability>\n        </v-card>\n      </v-menu>\n\n      <v-menu offset-y :close-on-content-click=\"false\" :close-on-click=\"false\" z-index=\"15\" v-model=\"featureDialog\">\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn icon v-bind=\"attrs\" v-on=\"on\" class=\"font-weight-regular\">\n            <v-icon>mdi-dots-vertical</v-icon>\n          </v-btn>\n        </template>\n\n        <v-card class=\"pa-3\">\n          <div class=\"d-flex\">\n            <div>Which features must be visible?</div>\n            <v-divider light class=\"mx-3\" vertical></v-divider>\n            <v-icon @click=\"featureDialog = false\">mdi-close</v-icon>\n          </div>\n          <v-form>\n            <v-checkbox :disabled=\"!user.premium\" hide-details=\"true\" v-model=\"user.settings.footnotesAside\" label=\"Footnotes in margin\" />\n            <v-checkbox :disabled=\"!user.premium\" hide-details=\"true\" v-model=\"user.settings.incomingRefs\" label=\"Incoming references\" />\n            <v-checkbox :disabled=\"!user.premium\" hide-details=\"true\" v-model=\"user.settings.internalRefs\" label=\"Internal references\" />\n            <v-checkbox :disabled=\"!user.premium\" hide-details=\"true\" v-model=\"user.settings.commencements\" label=\"In force dates\" />\n            <v-checkbox :disabled=\"!user.premium\" hide-details=\"true\" v-model=\"user.settings.infoboxes\" label=\"Additional information\" />\n            <div class=\"text-caption ml-8\">\n              Loaded from this\n              <a\n                href=\"https://docs.google.com/spreadsheets/d/1OLygdgMWMaIOp4KCRToTrheo94EzJUSL8B4urYN5WSs/edit#gid=0\"\n                target=\"_blank\">spreadsheet</a>.\n            </div>\n          </v-form>\n        </v-card>\n      </v-menu>\n    </v-toolbar>\n  </div>\n</template>\n\n<script>\nimport { user } from '../data/user';\nimport Search from './Search.vue';\nimport Applicability from './Applicability.vue';\n\nexport default {\n  name: 'Toolbar',\n  props: ['expression'],\n  components: { Search, Applicability },\n  data: () => ({\n    user,\n    featureDialog: false\n  }),\n  computed: {\n    computedTop () {\n      return this.$vuetify.application.bar + this.$vuetify.application.top;\n    }\n  },\n  methods: {\n    closeSearchDialog () {\n      this.$refs.searchMenu.isActive = false;\n    },\n    closeApplicabilityDialog () {\n      this.$refs.applicabilityDialog.reset();\n      this.$refs.applicabilityMenu.isActive = false;\n    }\n  }\n};\n</script>\n\n<style scoped>\n  .decorations-toolbar-wrapper {\n    position: fixed;\n    right: 0px;\n    z-index: 10;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=f0c062e8&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&id=f0c062e8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f0c062e8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCheckbox,VDivider,VForm,VIcon,VMenu,VToolbar})\n","<template>\n  <div>\n    <v-navigation-drawer clipped app :value=\"chrome.expandDrawer\" color=\"grey lighten-3\">\n      <TOCMenu :expression=\"expression\" :active=\"active\"/>\n    </v-navigation-drawer>\n\n    <v-container fluid>\n      <Toolbar :expression=\"expression\" />\n\n      <div class=\"primary-document-container\" :class=\"containerClasses\">\n        <article :style=\"styles\" :class=\"classes\" class=\"akoma-ntoso primary-document show-terms flag-internal-refs\">\n          <div class=\"limit-document-width\" ref=\"container\"></div>\n        </article>\n        <Gutter ref=\"gutter\" :expression=\"expression\" :items=\"gutterItems\"/>\n      </div>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport TOCMenu from '../components/TOCMenu.vue';\nimport Gutter from '../components/Gutter';\nimport Toolbar from '../components/Toolbar';\nimport { chrome, matchWindowSize } from '../data/chrome';\nimport { user } from '../data/user';\nimport { Marpol } from '../data/marpol';\nimport './akomantoso.scss';\nimport { addDecorations, getAsyncDecorations } from '../decorations/decorations';\n\n/**\n * Extract ids from nested objects\n * @param items\n * @returns {[]}\n */\nfunction idsInToc (items) {\n  let ids = [];\n\n  for (const item of items) {\n    if (item.id) {\n      ids.push(item.id);\n    }\n\n    if (item.children) {\n      ids = ids.concat(idsInToc(item.children));\n    }\n  }\n\n  return ids;\n}\n\nexport default {\n  name: 'Instrument',\n  showDrawerToggle: true,\n  components: {\n    TOCMenu,\n    Gutter,\n    Toolbar\n  },\n  watch: {\n    $route (to, from) {\n      if (to.params.frbr_uri !== from.params.frbr_uri) {\n        this.$refs.container.innerHTML = '';\n        this.insertAkn();\n      }\n    }\n  },\n  mounted () {\n    // inject the html if it's not already there\n    if (!this.$refs.container.firstElementChild) {\n      this.insertAkn();\n    }\n    matchWindowSize();\n  },\n  methods: {\n    insertAkn () {\n      this.$refs.container.appendChild(this.expression.aknRoot.cloneNode(true));\n      this.addDecorations();\n      this.observeProvisions();\n    },\n    addDecorations () {\n      this.$refs.gutter.reset(this.$refs.container.parentElement);\n      this.gutterItems = addDecorations(this.$refs.container.parentElement, this.$refs.gutter, this.expression);\n      // we need to load async decorations a bit differently\n      getAsyncDecorations(this.$refs.container.parentElement).then((items) => {\n        for (const item of items) {\n          this.gutterItems.push(item);\n        }\n      });\n    },\n    observeProvisions () {\n      // IE doesn't have this\n      if (!window.IntersectionObserver) return;\n\n      // add scrolling observer\n      if (this.observer) {\n        this.observer.disconnect();\n      }\n\n      // when a provision scrolls into view, activate it in the TOC\n      this.observer = new IntersectionObserver(entries => {\n        const active = entries.filter(e => e.isIntersecting);\n        if (active.length) {\n          // firefox doesn't like this\n          if (navigator.userAgent.indexOf('Firefox') === -1) {\n            this.active = [active[0].target.id];\n          }\n        }\n      }, {\n        // this creates a bounding box just below the fixed header\n        rootMargin: '-125px 0px -70% 0px',\n        threshold: [0.1]\n      });\n\n      // watch all elements in the toc\n      const ids = idsInToc(this.expression.toc.items);\n      for (const id of ids) {\n        const elem = this.$refs.container.querySelector(`[id=\"${id}\"]`);\n        if (elem) {\n          this.observer.observe(elem);\n        }\n      }\n    }\n  },\n  computed: {\n    expression () {\n      const frbrUri = '/' + this.$route.params.frbr_uri;\n      return Marpol.expressions.find(e => e.expression_frbr_uri === frbrUri);\n    },\n    styles: function () {\n      return 'fontSize: ' + this.user.preferences.fontSize + 'px';\n    },\n    classes: function () {\n      return {\n        'pref-sans-serif-font': this.user.preferences.sansSerifFont\n      };\n    },\n    containerClasses: function () {\n      return {\n        'hide-incoming-refs': !this.user.settings.incomingRefs,\n        'hide-internal-refs': !this.user.settings.internalRefs,\n        'hide-infoboxes': !this.user.settings.infoboxes,\n        'hide-commencements': !this.user.settings.commencements,\n        'footnotes-aside': this.user.settings.footnotesAside\n      };\n    }\n  },\n  data: () => ({\n    chrome,\n    active: [],\n    user,\n    gutterItems: []\n  })\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Instrument.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Instrument.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Instrument.vue?vue&type=template&id=6e72f56e&\"\nimport script from \"./Instrument.vue?vue&type=script&lang=js&\"\nexport * from \"./Instrument.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\ninstallComponents(component, {VContainer,VNavigationDrawer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('h2',{staticClass:\"mb-4\"},[_vm._v(\"History of MARPOL Annex VI\")]),_c('v-timeline',{attrs:{\"dense\":\"\",\"align-top\":\"\"}},_vm._l((_vm.items),function(history,index){return _c('HistoryItem',{key:index,attrs:{\"item\":history}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-timeline-item',{attrs:{\"fill-dot\":\"\",\"small\":\"\"}},[_c('v-card',{attrs:{\"light\":\"\",\"color\":\"blue lighten-5\"}},[_c('v-card-title',[_vm._v(_vm._s(_vm.convertDate(_vm.item.date)))]),_vm._l((_vm.item.events),function(event,index){return _c('div',{key:index,staticClass:\"pb-3 px-4\"},[(event.event === 'amendment')?_c('span',[_vm._v(\"Amended By \"),_c('a',{staticClass:\"text-decoration-none\",attrs:{\"href\":_vm.convertUrl(event.amending_uri),\"target\":\"_blank\"}},[_vm._v(\"Resolution MEPC.\"+_vm._s(_vm.splitUrl(event.amending_uri)))])]):(event.event === 'commencement')?_c('span',[_vm._v(\"Convention commences \")]):_c('span',[_vm._v(_vm._s(_vm.capitalize(event.event)))])])}),(_vm.item.expression_frbr_uri)?_c('v-card-actions',{staticClass:\"pt-0 pl-4\"},[_c('v-btn',{staticClass:\"mt-0 mb-2\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"to\":'/instrument' + _vm.item.expression_frbr_uri}},[_vm._v(\"Read this version\")]),(_vm.changes.length)?_c('v-btn',{staticClass:\"mt-0 mb-2\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.showChanges = !_vm.showChanges}}},[_vm._v(\"What changed?\")]):_vm._e()],1):_vm._e(),_c('v-expand-transition',[(_vm.showChanges)?_c('div',{staticClass:\"ma-3 pb-3\"},_vm._l((_vm.changes),function(change,index){return _c('v-card',{key:index,staticClass:\"mb-3\"},[_c('v-card-title',{staticClass:\"text-subtitle-1 grey lighten-3\"},[_c('router-link',{attrs:{\"to\":'/instrument' + _vm.item.expression_frbr_uri + '#' + change.tocItem.id}},[_vm._v(\" \"+_vm._s(change.tocItem.title)+\" \")])],1),_vm._l((change.changes),function(diffset,ix){return _c('div',{key:ix,staticClass:\"mb-3 pa-3\"},[(ix > 0)?_c('v-divider'):_vm._e(),_c('diff',{attrs:{\"diffset\":diffset,\"switchToSide\":_vm.switchToSide}})],1)}),_c('v-card-actions',[_c('v-spacer'),_c('v-switch',{attrs:{\"label\":\"Show changes side-by-side\"},model:{value:(_vm.switchToSide),callback:function ($$v) {_vm.switchToSide=$$v},expression:\"switchToSide\"}})],1)],2)}),1):_vm._e()])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-timeline-item fill-dot small>\n    <v-card light color='blue lighten-5'>\n      <v-card-title>{{convertDate(item.date)}}</v-card-title>\n      <div\n        v-for=\"(event, index) in item.events\"\n        :key=\"index\"\n        class=\"pb-3 px-4\"\n      >\n        <span v-if=\"event.event === 'amendment'\">Amended By <a class=\"text-decoration-none\" :href=\"convertUrl(event.amending_uri)\" target=\"_blank\">Resolution MEPC.{{splitUrl(event.amending_uri)}}</a> </span>\n        <span v-else-if=\"event.event === 'commencement'\">Convention commences </span>\n        <span v-else>{{capitalize(event.event)}}</span>\n      </div>\n\n      <v-card-actions v-if=\"item.expression_frbr_uri\" class=\"pt-0 pl-4\">\n        <v-btn\n          outlined\n          color=\"primary\"\n          class=\"mt-0 mb-2\"\n          :to=\"'/instrument' + item.expression_frbr_uri\"\n        >Read this version</v-btn>\n\n        <v-btn v-if=\"changes.length\" outlined color=\"primary\" class=\"mt-0 mb-2\" @click=\"showChanges = !showChanges\">What changed?</v-btn>\n      </v-card-actions>\n\n      <v-expand-transition>\n        <div v-if=\"showChanges\" class=\"ma-3 pb-3\">\n          <v-card v-for=\"(change, index) in changes\" :key=\"index\" class=\"mb-3\">\n            <v-card-title class=\"text-subtitle-1 grey lighten-3\">\n              <router-link :to=\"'/instrument' + item.expression_frbr_uri + '#' + change.tocItem.id\">\n                {{ change.tocItem.title }}\n              </router-link>\n            </v-card-title>\n\n            <div v-for=\"(diffset, ix) in change.changes\" :key=\"ix\" class=\"mb-3 pa-3\">\n              <v-divider v-if=\"ix > 0\"></v-divider>\n              <diff :diffset=\"diffset\" :switchToSide=\"switchToSide\"></diff>\n            </div>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-switch v-model=\"switchToSide\"  label=\"Show changes side-by-side\"></v-switch>\n            </v-card-actions>\n          </v-card>\n        </div>\n      </v-expand-transition>\n    </v-card>\n  </v-timeline-item>\n</template>\n\n<script>\nimport { Marpol } from '../data/marpol';\nimport Diff from './Diff.vue';\n\nexport default {\n  components: { Diff },\n  name: 'HistoryItem',\n  props: ['item'],\n  data () {\n    return {\n      showChanges: false,\n      changes: [],\n      switchToSide: false\n    };\n  },\n  mounted () {\n    this.changes = this.determineChanges();\n  },\n  methods: {\n    determineChanges () {\n      // calculate changes\n      const diffsets = Marpol.diffsets.filter(d => d.expression_frbr_uri === this.item.expression_frbr_uri);\n\n      // each change is linked to an entry in the toc\n      const changes = new Map();\n\n      for (const diffset of diffsets) {\n        const expr = Marpol.expressions.find(e => e.expression_frbr_uri === diffset.expression_frbr_uri);\n        // what TOC entry does this fall under?\n        const tocItem = expr.toc.closestTocEntryForId(diffset.element_id);\n\n        if (!changes.has(tocItem.id)) {\n          changes.set(tocItem.id, {\n            tocItem,\n            changes: []\n          });\n        }\n        changes.get(tocItem.id).changes.push(diffset);\n      }\n\n      return [...changes.values()];\n    },\n    convertDate (date) {\n      const newDate = new Date(date);\n      const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',\n        'July', 'August', 'September', 'October', 'November', 'December'\n      ];\n      const newHistory = `${newDate.getDate()} ${monthNames[newDate.getMonth()]} ${newDate.getFullYear()}`;\n      return newHistory;\n    },\n    capitalize (str) {\n      if (typeof str === 'string') {\n        return str.replace(/^\\w/, c => c.toUpperCase());\n      } else {\n        return '';\n      }\n    },\n    splitUrl (url) {\n      let splitString = url.split('/').pop();\n      splitString = splitString.split('-');\n      const MEPCResolution = splitString[1] + `(${splitString[0]})`;\n      return MEPCResolution;\n    },\n    convertUrl (url) {\n      const linkedUrl = 'https://wwwcdn.imo.org/localresources/en/OurWork/Environment/Documents';\n      const MEPCResolution = this.splitUrl(url);\n      const completeUrl = linkedUrl + `/${MEPCResolution}.pdf`;\n      return completeUrl;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HistoryItem.vue?vue&type=template&id=191c2d67&\"\nimport script from \"./HistoryItem.vue?vue&type=script&lang=js&\"\nexport * from \"./HistoryItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTimelineItem } from 'vuetify/lib/components/VTimeline';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VDivider,VExpandTransition,VSpacer,VSwitch,VTimelineItem})\n","<template>\n  <v-container>\n    <h2 class=\"mb-4\">History of MARPOL Annex VI</h2>\n\n    <v-timeline dense align-top>\n      <HistoryItem\n        v-for=\"(history, index) in items\"\n        :key=\"index\"\n        :item=\"history\"\n      />\n    </v-timeline>\n  </v-container>\n</template>\n\n<script>\nimport { Marpol } from '../data/marpol';\nimport HistoryItem from '../components/HistoryItem';\n\nexport default {\n  name: 'History',\n  components: { HistoryItem },\n  data: () => ({\n    items: Marpol.history\n  })\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=59ed02e6&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VTimeline } from 'vuetify/lib/components/VTimeline';\ninstallComponents(component, {VContainer,VTimeline})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[(!_vm.passwordValidity)?_c('v-alert',{attrs:{\"type\":\"error\",\"dense\":\"\",\"border\":\"left\",\"dismissible\":\"\"}},[_vm._v(\"Incorrect password. Please try again.\")]):_vm._e(),_c('v-spacer',{staticStyle:{\"height\":\"150px\"}}),_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"400px\"}},[_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"Password\",\"rules\":_vm.passwordRules,\"prepend-icon\":\"mdi-lock-outline\",\"append-icon\":_vm.showPassword ? 'mdi-eye' : 'mdi-eye-off',\"required\":\"\",\"type\":_vm.inputFieldType},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)},\"click:append\":_vm.togglePasswordVisibility},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.password ? true : false},on:{\"click\":_vm.submit}},[_vm._v(\" Login \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const lastPath = {\n  path: '',\n  setPath (lastPath) {\n    this.path = lastPath;\n  }\n};\n","<template>\n  <v-container>\n    <v-alert v-if=\"!passwordValidity\" type=\"error\" dense border=\"left\" dismissible >Incorrect password. Please try again.</v-alert>\n    <v-spacer style=\"height: 150px;\"></v-spacer>\n    <v-card\n      class=\"mx-auto\"\n      max-width=\"400px\"\n    >\n      <v-card-text>\n        <v-text-field\n          v-model=\"password\"\n          label=\"Password\"\n          :rules=\"passwordRules\"\n          prepend-icon=\"mdi-lock-outline\"\n          :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n          required\n          :type=\"inputFieldType\"\n          @keyup.enter=\"submit\"\n          @click:append=\"togglePasswordVisibility\"\n        ></v-text-field>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn\n          color=\"primary\"\n          :disabled=\"!password ? true : false\"\n          @click=\"submit\"\n        >\n          Login\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nimport { lastPath } from '../data/lastPath';\n\nexport default {\n  name: 'Login',\n  data () {\n    return {\n      password: '',\n      passwordValidity: true,\n      showPassword: false,\n      inputFieldType: 'password'\n    };\n  },\n  methods: {\n    submit () {\n      if (this.password === 'demo.password') {\n        localStorage.setItem('loggedIn', true);\n        if (lastPath.path) {\n          this.$router.push(lastPath);\n          lastPath.path = '';\n        } else {\n          this.$router.push('/');\n        }\n      } else this.passwordValidity = false;\n    },\n    togglePasswordVisibility () {\n      this.showPassword = !this.showPassword;\n      this.inputFieldType = this.inputFieldType === 'text' ? 'password' : 'text';\n    }\n  },\n  computed: {\n    passwordRules () {\n      return [\n        value => !!value || 'Password is required'\n      ];\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=d196fa52&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VContainer,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-navigation-drawer',{attrs:{\"clipped\":\"\",\"app\":\"\",\"right\":\"\",\"color\":\"grey lighten-3\"}},[_c('ChangesetSidebar',{attrs:{\"changeset\":_vm.changeset},on:{\"selected\":_vm.scrollToAmendment}})],1),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('ChangesetContent',{ref:\"content\",attrs:{\"changeset\":_vm.changeset,\"expression\":_vm.changeset.expression}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-sheet',{staticClass:\"pa-4\"},[_c('v-btn',{staticClass:\"mb-3\",attrs:{\"small\":\"\",\"text\":\"\",\"to\":\"/changesets\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")]),_vm._v(\" Back \")],1),_c('v-form',{staticClass:\"mb-3\"},[_c('v-text-field',{staticClass:\"mb-3\",attrs:{\"label\":\"Date\",\"hide-details\":\"auto\",\"type\":\"date\"},model:{value:(_vm.changeset.date),callback:function ($$v) {_vm.$set(_vm.changeset, \"date\", $$v)},expression:\"changeset.date\"}}),_c('v-text-field',{attrs:{\"label\":\"Document ID\",\"hide-details\":\"auto\"},model:{value:(_vm.changeset.doc_id),callback:function ($$v) {_vm.$set(_vm.changeset, \"doc_id\", $$v)},expression:\"changeset.doc_id\"}})],1),(_vm.changeset.parent)?_c('v-radio-group',{model:{value:(_vm.chrome.diffPrevious),callback:function ($$v) {_vm.$set(_vm.chrome, \"diffPrevious\", $$v)},expression:\"chrome.diffPrevious\"}},[_c('v-radio',{attrs:{\"label\":\"Changes to principal text\",\"value\":false}}),_c('v-radio',{attrs:{\"label\":\"Changes since previous draft\",\"value\":true}})],1):_vm._e(),_c('v-dialog',{attrs:{\"width\":\"1024\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"block\":\"\",\"disabled\":_vm.changeset.expression.appliedAmendments.length === 0}},'v-btn',attrs,false),on),[_vm._v(\"Amending text\")])]}}]),model:{value:(_vm.amendmentTextDialog),callback:function ($$v) {_vm.amendmentTextDialog=$$v},expression:\"amendmentTextDialog\"}},[_c('DraftAmendingText',{attrs:{\"changeset\":_vm.changeset},on:{\"closed\":function($event){_vm.amendmentTextDialog = false}}})],1)],1),_c('div',{staticClass:\"pa-3\"},[_c('v-dialog',{attrs:{\"width\":\"700\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"primary\",\"block\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" Add draft amendment \")])]}}]),model:{value:(_vm.amendmentsDialog),callback:function ($$v) {_vm.amendmentsDialog=$$v},expression:\"amendmentsDialog\"}},[_c('v-card',{staticClass:\"grey lighten-3\"},[_c('v-card-title',[_vm._v(\"Add amendment\")]),_c('v-card-text',{staticClass:\"mt-5\"},[_c('v-alert',{attrs:{\"type\":\"info\"}},[_vm._v(\" In a real system, amendments could be drafted on the fly or pre-prepared as below. \")])],1),_c('v-expansion-panels',{staticClass:\"px-3 pb-5\"},_vm._l((_vm.available),function(amendment){return _c('v-expansion-panel',{key:amendment.id},[_c('v-expansion-panel-header',[_vm._v(_vm._s(amendment.title))]),_c('v-expansion-panel-content',[_c('v-btn',{on:{\"click\":function($event){return _vm.addAmendment(amendment)}}},[_vm._v(\"Add draft amendment\")])],1)],1)}),1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.amendmentsDialog = false}}},[_vm._v(\"Close\")])],1)],1)],1)],1),_c('v-expansion-panels',{staticClass:\"px-3 pt-3\",attrs:{\"focusable\":\"\"},model:{value:(_vm.expanded),callback:function ($$v) {_vm.expanded=$$v},expression:\"expanded\"}},_vm._l((_vm.sortedAmendments),function(amendment,ix){return _c('v-expansion-panel',{key:ix},[_c('v-expansion-panel-header',[_vm._v(_vm._s(amendment.title))]),_c('v-expansion-panel-content',[_c('AmendmentPanel',{attrs:{\"amendment\":amendment,\"changeset\":_vm.changeset},on:{\"removed\":_vm.removeAmendment}})],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const diffCache = new Map();\n\nexport async function getDiff (before, after) {\n  const key = before + after;\n  if (diffCache.has(key)) {\n    return diffCache.get(key);\n  }\n\n  const response = await fetch('https://9fuu95j02k.execute-api.eu-west-1.amazonaws.com/akn-diff', {\n    method: 'POST',\n    body: JSON.stringify({\n      before: before,\n      after: after\n    })\n  });\n  if (response.status === 200) {\n    const data = await response.json();\n    // if no data, they're the same\n    const diff = data.html_diff ? data.html_diff : after;\n    diffCache.set(key, diff);\n    return diff;\n  }\n}\n\nexport class AmendableExpression {\n  constructor (expression) {\n    this.expression = expression;\n    this.pristine = expression.aknRoot;\n    // amended root element\n    this.element = null;\n    // amendments that have been applied to this element\n    this.appliedAmendments = [];\n    // rebuild\n    this.applyAmendments();\n  }\n\n  clone () {\n    const expr = new AmendableExpression(this.expression);\n    expr.appliedAmendments = this.appliedAmendments.map(a => a.clone());\n    expr.applyAmendments();\n    return expr;\n  }\n\n  addAmendment (amendment) {\n    this.appliedAmendments.push(amendment.clone());\n    this.applyAmendments();\n  }\n\n  removeAmendment (amendment) {\n    this.appliedAmendments.splice(this.appliedAmendments.indexOf(amendment), 1);\n    this.applyAmendments();\n  }\n\n  /**\n   * Apply amendments to the pristine document.\n   */\n  applyAmendments () {\n    this.element = this.pristine.cloneNode(true);\n\n    for (const amendment of this.appliedAmendments) {\n      this.applyAmendment(amendment);\n    }\n  }\n\n  /**\n   * Update our element by appling this amendment.\n   */\n  applyAmendment (amendment) {\n    let after = false;\n    let element = null;\n\n    if (amendment.elementId) {\n      // replaced element\n      element = this.element.querySelector(`[id=\"${amendment.elementId}\"]`);\n    } else {\n      // inserted new element\n      element = this.element.querySelector(`[id=\"${amendment.afterElementId}\"]`);\n      after = true;\n    }\n\n    if (element) {\n      if (after) {\n        element.insertAdjacentElement('afterend', amendment.element.cloneNode(true));\n      } else {\n        element.parentNode.replaceChild(amendment.element.cloneNode(true), element);\n      }\n    }\n  }\n\n  /**\n   * Calculate an HTML diff between the original document before and after this amendment.\n   * @returns {Promise<string>}\n   */\n  async diffAmendment (amendment) {\n    if (amendment.elementId) {\n      const before = this.pristine.querySelector(`[id=\"${amendment.elementId}\"]`);\n      if (before) {\n        return getDiff(before.outerHTML, amendment.element.outerHTML);\n      }\n    }\n\n    // element was added\n    return '<div class=\"ins\">' + amendment.element.outerHTML + '</div>';\n  }\n}\n\nexport class Amendment {\n  constructor (id, pristine, elementId, afterElementId, title) {\n    this.id = id;\n\n    // original, unaltered element\n    if ((typeof pristine) === 'string') {\n      pristine = new DOMParser().parseFromString(pristine, 'text/html').body.firstElementChild;\n    }\n    this.pristine = pristine;\n    this.element = pristine;\n    this.elementId = elementId;\n    this.afterElementId = afterElementId;\n    this.title = title;\n    this.variant = null;\n  }\n\n  clone () {\n    const amendment = new Amendment(\n      this.id, this.pristine.cloneNode(true), this.elementId, this.afterElementId, this.title);\n    amendment.setVariant(this.variant);\n    return amendment;\n  }\n\n  getAmendedElement (root) {\n    if (this.elementId) {\n      return root.querySelector(`[id=\"${this.elementId}\"]`);\n    } else {\n      const ref = root.querySelector(`[id=\"${this.afterElementId}\"]`);\n      if (ref) {\n        return ref.nextElementSibling;\n      }\n    }\n  }\n\n  getDescription (expression) {\n    const provision = expression.expression.toc.closestMajorTocEntryForId(this.elementId || this.afterElementId);\n\n    if (this.elementId) {\n      return `${provision.title} is replaced by`;\n    } else {\n      return `The following is inserted after ${provision.title}`;\n    }\n  }\n\n  getVariants () {\n    return [...variants.values()].filter(v => v.amends === this.id);\n  }\n\n  setVariant (variant) {\n    if (variant) {\n      this.variant = variant;\n      this.element = new DOMParser().parseFromString(variant.html, 'text/html').body.firstElementChild;\n    } else {\n      // clear it\n      this.variant = null;\n      this.element = this.pristine;\n    }\n  }\n\n  getKey () {\n    return this.id + '-' + (this.variant ? this.variant.id : '');\n  }\n\n  /**\n   * Diff the current variant of this amendment against previous, which is also an amendment object (possibly\n   * with a variant).\n   */\n  async diffAmendment (previous) {\n    return getDiff(previous.element.outerHTML, this.element.outerHTML);\n  }\n\n  htmlForAmendingText () {\n    const html = this.element.cloneNode(true);\n    // add a quote at the end of the last akn-p tag\n    let p;\n    if (html.classList.contains('akn-p')) {\n      p = html;\n    } else {\n      p = [...html.querySelectorAll('.akn-p')].pop() || html;\n    }\n    let child = p.lastChild;\n    while (child && child.nodeType !== child.TEXT_NODE) child = child.lastChild;\n    if (child) {\n      child.textContent = child.textContent + '\"';\n    }\n\n    return html.outerHTML;\n  }\n}\n\nconst rawAmendments = [{\n  id: 1,\n  title: 'R2 - Definitions',\n  elementId: null,\n  afterElementId: 'chp_1__part_2__para_50',\n  html: `\n  <div>\n    <div class=\"akn-paragraph\" eId=\"chp_1__part_2__para_51\">\n      <span class=\"akn-num\">51</span>\n      <span class=\"akn-content\">\n        <span class=\"akn-p\">\n          <span class=\"akn-def\">Sulphur content</span> means the concentration of sulphur in any fuel oil, measured in % m/m as tested in accordance with standard acceptable to the Organization.\n        </span>\n      </span>\n    </div>\n\n    <div class=\"akn-paragraph\" eId=\"chp_1__part_2__para_52\">\n      <span class=\"akn-num\">52</span>\n      <span class=\"akn-content\">\n        <span class=\"akn-p\">\n          <span class=\"akn-def\">Low-flashpoint fuel</span> means gaseous or liquid fuel having a flashpoint lower than otherwise permitted under paragraph 2.1.1 of SOLAS regulation II-2/4.\n        </span>\n      </span>\n    </div>\n  </div>`\n}, {\n  id: 2,\n  title: 'R14 - Fuel oil sampling and testing',\n  afterElementId: 'chp_3__part_14__dvs_nn_3',\n  html: `\n  <div>\n    <section class=\"akn-division\" id=\"chp_3__part_14__dvs_nn_4\">\n      <h2>[In-use] [Onboard] fuel oil sampling and testing</h2>\n      <section class=\"akn-paragraph\">\n        <span class=\"akn-num\">[A1]</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">If the competent authority of a Party requires the [in-use] [onboard] fuel oil sample to be analysed, it shall be done in accordance with the verification procedure set forth in appendix VI to determine whether the fuel oil being used on board meets the requirements in paragraph 1 or paragraph 4 of this regulation. The [in-use] [onboard] fuel oil sample shall be drawn taking into account the guidelines developed by the Organization.</span>\n        </span>\n      </section>\n    </section>\n    <section class=\"akn-division\" id=\"chp_3__part_14__dvs_nn_5\">\n      <h2>[In-use] [Onboard] fuel oil sampling point</h2>\n      <section class=\"akn-paragraph\">\n        <span class=\"akn-num\">[A2]</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">For each ship subject to regulations 5 and 6 of this Annex, one or more sampling points shall be fitted or designated for the purpose of taking representative samples of the fuel oil being used on board the ship taking into account guidelines developed by the Organization.</span>\n        </span>\n      </section>\n      <section class=\"akn-paragraph\">\n        <span class=\"akn-num\">[A3]</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">For a ship constructed before [entry into force of these requirements], the sampling points referred to in paragraph [A2] shall be fitted or designated not later than the first renewal survey that occurs after [entry into force of these regulations].</span>\n        </span>\n      </section>\n      <section class=\"akn-paragraph\">\n        <span class=\"akn-num\">[A4]</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">Fuel oil service systems for low-flashpoint fuels for combustion purposes for propulsion or operation on board the ship are exempted from the requirements of paragraphs [A2] and [A3] above.</span>\n        </span>\n      </section>\n      <section class=\"akn-paragraph\">\n        <span class=\"akn-num\">[A5]</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">The competent authority of a Party may utilize the sampling point(s) which is fitted or designated for the purpose of taking representative samples of the fuel oil being used on board in order to verify the fuel oil complies with this regulation. Taking fuel oil samples by the competent authority of the Party shall be performed as expeditiously as possible without causing the ship to be unduly delayed.</span>\n        </span>\n      </section>\n    </section>\n  </div>`\n}, {\n  id: 3,\n  title: 'Appendix VI',\n  elementId: 'att_6',\n  html: `\n  <div class=\"akn-attachment\" id=\"att_6\" data-eid=\"att_6\">\n    <div class=\"akn-heading\"><h2>Appendix VI</h2></div>\n    <div class=\"akn-subheading\"><h2>Verification procedures for a MARPOL Annex VI fuel oil sample (regulation 18.8.2 or regulation 14.[A1])</h2></div>\n    <span class=\"akn-doc\" data-contains=\"originalVersion\" data-name=\"appendix\">\n      <span class=\"akn-mainBody\">\n        <span class=\"akn-p\" id=\"att_2__p_1\" data-eid=\"att_2__p_1\">The following relevant verification procedure shall be used to determine whether the fuel oil delivered to and used or carried for use onboard a ship is compliant with the applicable sulphur limits required by regulation 14 of Annex VI.</span>\n      </span>\n    </span>\n  </div>`\n}, {\n  id: 4,\n  title: 'R1 - Application',\n  elementId: 'chp_1__part_1__p_1',\n  html: `\n  <span class=\"akn-p\" id=\"chp_1__part_1__p_1\" data-eid=\"chp_1__part_1__p_1\">The provisions of this Annex shall apply to all ships, except where expressly provided otherwise.</span>\n  `\n}, {\n  id: 5,\n  title: 'R18 para 8.2',\n  elementId: 'chp_3__part_18__dvs_nn_2__para_8-2__p_1',\n  html: `\n  <div id=\"chp_3__part_18__dvs_nn_2__para_8-2__p_1\">If a Party requires the representative sample to be analysed, it shall be done in accordance with the verification procedure set forth in appendix VI to determine whether the fuel oil meets the requirements of this Annex.</div>\n  `\n}];\n\n// amendments to amendments\nconst amendmentVariants = [{\n  id: '1.1',\n  amends: 1,\n  title: 'Update 1',\n  html: `\n  <div>\n    <div class=\"akn-paragraph\" eId=\"chp_1__part_2__para_51\">\n      <span class=\"akn-num\">51</span>\n      <span class=\"akn-content\">\n        <span class=\"akn-p\">\n          <span class=\"akn-def\">Sulphur content of fuel oil</span> means the concentration of sulphur in a fuel oil, measured in % m/m as tested in accordance with a standard acceptable to the Organization.\n        </span>\n      </span>\n    </div>\n\n    <div class=\"akn-paragraph\" eId=\"chp_1__part_2__para_52\">\n      <span class=\"akn-num\">52</span>\n      <span class=\"akn-content\">\n        <span class=\"akn-p\">\n          <span class=\"akn-def\">Low-flashpoint fuel</span> means gaseous or liquid fuel oil having a flashpoint lower than otherwise permitted under paragraph 2.1.1 of SOLAS regulation II-2/4.\n        </span>\n      </span>\n    </div>\n\n    <div class=\"akn-paragraph\" eId=\"chp_1__part_2__para_53\">\n      <span class=\"akn-num\">53</span>\n      <span class=\"akn-content\">\n        <span class=\"akn-p\">\n          <span class=\"akn-def\">MARPOL delivered sample</span> means the sample of fuel oil delivered in accordance with regulation 18.8.1 of MARPOL Annex VI.\n        </span>\n      </span>\n    </div>\n\n    <div class=\"akn-paragraph\" eId=\"chp_1__part_2__para_54\">\n      <span class=\"akn-num\">54</span>\n      <span class=\"akn-content\">\n        <span class=\"akn-p\">\n          <span class=\"akn-def\">[MARPOL] in-use sample</span> means the sample of fuel oil in use on a ship.\n        </span>\n      </span>\n    </div>\n\n    <div class=\"akn-paragraph\" eId=\"chp_1__part_2__para_55\">\n      <span class=\"akn-num\">55</span>\n      <span class=\"akn-content\">\n        <span class=\"akn-p\">\n          <span class=\"akn-def\">[MARPOL] onboard sample</span> means the sample of fuel oil intended to be used or carried for use on board that ship.\n        </span>\n      </span>\n    </div>\n  </div>\n  `\n}, {\n  id: '2.1',\n  amends: 2,\n  title: 'Update 1',\n  html: `\n  <div>\n    <section class=\"akn-division\" id=\"chp_3__part_14__dvs_nn_4\">\n      <h2>[MARPOL] in-use fuel oil sampling and testing</h2>\n      <section class=\"akn-paragraph\" id=\"chp_3__part_14__dvs_nn_5__para_8\">\n        <span class=\"akn-num\">8</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">If the competent authority of a Party requires the [MARPOL] in-use or [MARPOL] onboard fuel oil sample to be analysed, it shall be done in accordance with the verification procedure set forth in appendix VI to determine whether the fuel oil being used or carried for use on board meets the requirements in paragraph 1 or paragraph 4 of this regulation. The [MARPOL] in-use fuel oil sample shall be drawn taking into account the guidelines developed by the Organization.  The [MARPOL] onboard fuel oil sample shall be drawn taking into account the guidelines to be developed by the Organization.</p>\n        </span>\n      </section>\n    </section>\n    <section class=\"akn-division\" id=\"chp_3__part_14__dvs_nn_5\">\n      <h2>[MARPOL] in-use fuel oil sampling point</h2>\n      <section class=\"akn-paragraph\" id=\"chp_3__part_14__dvs_nn_5__para_9\">\n        <span class=\"akn-num\">9</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">For each ship subject to regulations 5 and 6 of this Annex, sampling point(s) shall be fitted or designated for the purpose of taking representative samples of the fuel oil being used on board the ship taking into account guidelines developed by the Organization.</p>\n        </span>\n      </section>\n      <section class=\"akn-paragraph\" id=\"chp_3__part_14__dvs_nn_5__para_10\">\n        <span class=\"akn-num\">10</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">For a ship constructed before entry into force of these requirements, the sampling point(s) referred to in paragraph 9 shall be fitted or designated not later than the first renewal survey that occurs after entry into force of these regulations or 12 months after, whichever is later.</p>\n        </span>\n      </section>\n      <section class=\"akn-paragraph\" id=\"chp_3__part_14__dvs_nn_5__para_11\">\n        <span class=\"akn-num\">11</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">The requirements of paragraphs 9 and 10 above are not applicable to a fuel oil service system for a low-flashpoint fuel for combustion purposes for propulsion or operation on board the ship.</p>\n        </span>\n      </section>\n      <section class=\"akn-paragraph\" id=\"chp_3__part_14__dvs_nn_5__para_12\">\n        <span class=\"akn-num\">12</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">The competent authority of a Party shall, as appropriate, utilize the sampling point(s) which is fitted or designated for the purpose of taking representative sample(s) of the fuel oil being used on board in order to verify the fuel oil complies with this regulation. Taking fuel oil samples by the competent authority of the Party shall be performed as expeditiously as possible without causing the ship to be unduly delayed.</p>\n        </span>\n      </section>\n    </section>\n  </div>\n  `\n}, {\n  id: '2.2',\n  amends: 2,\n  title: 'Update 2',\n  html: `\n  <div>\n    <section class=\"akn-division\" id=\"chp_3__part_14__dvs_nn_4\">\n      <h2>In-use fuel oil sampling and testing</h2>\n      <section class=\"akn-paragraph\" id=\"chp_3__part_14__dvs_nn_5__para_8\">\n        <span class=\"akn-num\">8</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">If the competent authority of a Party requires the in-use or on board fuel oil sample to be analysed, it shall be done in accordance with the verification procedure set forth in appendix VI to determine whether the fuel oil being used or carried for use on board meets the requirements in paragraph 1 or paragraph 4 of this regulation. The in-use fuel oil sample shall be drawn taking into account the guidelines developed by the Organization.  The on board fuel oil sample shall be drawn taking into account the guidelines to be developed by the Organization.</span>\n        </span>\n      </section>\n    </section>\n    <section class=\"akn-division\" id=\"chp_3__part_14__dvs_nn_5\">\n      <h2>In-use fuel oil sampling point</h2>\n      <section class=\"akn-paragraph\" id=\"chp_3__part_14__dvs_nn_5__para_9\">\n        <span class=\"akn-num\">9</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">For each ship subject to regulations 5 and 6 of this Annex, sampling point(s) shall be fitted or designated for the purpose of taking representative samples of the fuel oil being used on board the ship taking into account guidelines developed by the Organization.</span>\n        </span>\n      </section>\n      <section class=\"akn-paragraph\" id=\"chp_3__part_14__dvs_nn_5__para_10\">\n        <span class=\"akn-num\">10</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">For a ship constructed before entry into force of these requirements, the sampling point(s) referred to in paragraph 9 shall be fitted or designated no later than the first renewal survey that occurs 12 months or more after the entry into force of this regulation.</span>\n        </span>\n      </section>\n      <section class=\"akn-paragraph\" id=\"chp_3__part_14__dvs_nn_5__para_11\">\n        <span class=\"akn-num\">11</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">The requirements of paragraphs 9 and 10 above are not applicable to a fuel oil service system for a low-flashpoint fuel for combustion purposes for propulsion or operation on board the ship.</span>\n        </span>\n      </section>\n      <section class=\"akn-paragraph\" id=\"chp_3__part_14__dvs_nn_5__para_12\">\n        <span class=\"akn-num\">12</span>\n        <span class=\"akn-content\">\n          <span class=\"akn-p\">The competent authority of a Party shall, as appropriate, utilize the sampling point(s) which is fitted or designated for the purpose of taking representative sample(s) of the fuel oil being used on board in order to verify the fuel oil complies with this regulation. Taking fuel oil samples by the competent authority of the Party shall be performed as expeditiously as possible without causing the ship to be unduly delayed.</span>\n        </span>\n      </section>\n    </section>\n  </div>\n  `\n}];\n\nexport const amendments = rawAmendments.map((a) => new Amendment(a.id, a.html, a.elementId, a.afterElementId, a.title));\n\nexport const variants = new Map();\nfor (const v of amendmentVariants) {\n  variants.set(v.id, v);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',{staticClass:\"grey lighten-3\"},[_vm._v(\"Draft amendment text\")]),_c('div',{staticClass:\"pt-3\",staticStyle:{\"overflow-y\":\"auto\",\"max-height\":\"70vh\"}},[_c('div',{staticClass:\"akoma-ntoso limit-document-width diffset\",domProps:{\"innerHTML\":_vm._s(_vm.aknHtml)}})]),_c('v-divider'),_c('v-card-actions',[(_vm.changeset.parent)?_c('v-switch',{attrs:{\"label\":\"Compare with previous draft changes\"},model:{value:(_vm.diffPrevious),callback:function ($$v) {_vm.diffPrevious=$$v},expression:\"diffPrevious\"}}):_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.closed}},[_vm._v(\"Close\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title class=\"grey lighten-3\">Draft amendment text</v-card-title>\n    <div style=\"overflow-y: auto; max-height: 70vh\" class=\"pt-3\">\n      <div class=\"akoma-ntoso limit-document-width diffset\" v-html=\"aknHtml\"></div>\n    </div>\n    <v-divider />\n    <v-card-actions>\n      <v-switch v-if=\"changeset.parent\" v-model=\"diffPrevious\" label=\"Compare with previous draft changes\" />\n      <v-spacer />\n      <v-btn text color=\"primary\" @click=\"closed\">Close</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport { getDiff } from '@/data/amendments';\nimport './amendments.scss';\n\nexport default {\n  name: 'ChangesetText',\n  props: ['changeset'],\n  data: () => ({\n    diffPrevious: false,\n    aknHtml: ''\n  }),\n  mounted () {\n    this.updateAknHtml();\n  },\n  watch: {\n    diffPrevious () {\n      this.updateAknHtml();\n    }\n  },\n  methods: {\n    updateAknHtml () {\n      if (this.diffPrevious) {\n        // diff against previous version\n        getDiff(\n          this.changeset.parent.generateAmendmentHtml().outerHTML,\n          this.changeset.generateAmendmentHtml().outerHTML).then((html) => {\n          this.aknHtml = html;\n        });\n      } else {\n        this.aknHtml = this.changeset.generateAmendmentHtml().outerHTML;\n      }\n    },\n    closed () {\n      this.$emit('closed');\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DraftAmendingText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DraftAmendingText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DraftAmendingText.vue?vue&type=template&id=2f598a24&\"\nimport script from \"./DraftAmendingText.vue?vue&type=script&lang=js&\"\nexport * from \"./DraftAmendingText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VDivider,VSpacer,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.amendment.getVariants().length > 0)?_c('v-radio-group',{model:{value:(_vm.variant),callback:function ($$v) {_vm.variant=$$v},expression:\"variant\"}},[_c('v-radio',{attrs:{\"value\":\"-\",\"label\":\"As submitted\"}}),_vm._l((_vm.amendment.getVariants()),function(variant){return _c('v-radio',{key:variant.id,attrs:{\"label\":variant.title,\"value\":variant.id}})})],2):_vm._e(),_c('div',{staticClass:\"pt-3 text-right\"},[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.remove()}}},[_vm._v(\"Remove\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-radio-group v-if=\"amendment.getVariants().length > 0\" v-model=\"variant\">\n      <v-radio value=\"-\" label=\"As submitted\" />\n      <v-radio\n        v-for=\"variant in amendment.getVariants()\"\n        :key=\"variant.id\"\n        :label=\"variant.title\"\n        :value=\"variant.id\"\n      />\n    </v-radio-group>\n\n    <div class=\"pt-3 text-right\">\n      <v-btn text color=\"red\" @click=\"remove()\">Remove</v-btn>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { variants } from '@/data/amendments';\n\nexport default {\n  name: 'AmendmentPanel',\n  props: ['amendment', 'changeset'],\n  data: () => ({\n    variant: '-'\n  }),\n  mounted () {\n    this.variant = this.amendment.variant ? this.amendment.variant.id : '-';\n  },\n  watch: {\n    variant (value) {\n      if (value === '-') value = null;\n      this.amendment.setVariant(variants.get(value));\n      this.changeset.expression.applyAmendments();\n    }\n  },\n  methods: {\n    remove () {\n      if (confirm('Really remove this amendment?')) {\n        this.$emit('removed', this.amendment);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AmendmentPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AmendmentPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AmendmentPanel.vue?vue&type=template&id=28843441&scoped=true&\"\nimport script from \"./AmendmentPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./AmendmentPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28843441\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VBtn,VRadio,VRadioGroup})\n","<template>\n  <div>\n    <v-sheet class=\"pa-4\">\n      <v-btn small text to=\"/changesets\" class=\"mb-3\">\n        <v-icon>mdi-chevron-left</v-icon>\n        Back\n      </v-btn>\n\n      <v-form class=\"mb-3\">\n        <v-text-field class=\"mb-3\" label=\"Date\" hide-details=\"auto\" v-model=\"changeset.date\" type=\"date\" />\n        <v-text-field label=\"Document ID\" hide-details=\"auto\" v-model=\"changeset.doc_id\" />\n      </v-form>\n\n      <v-radio-group v-model=\"chrome.diffPrevious\" v-if=\"changeset.parent\">\n        <v-radio label=\"Changes to principal text\" :value=\"false\" />\n        <v-radio label=\"Changes since previous draft\" :value=\"true\" />\n      </v-radio-group>\n\n      <v-dialog width=\"1024\" v-model=\"amendmentTextDialog\">\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn v-bind=\"attrs\" v-on=\"on\" block :disabled=\"changeset.expression.appliedAmendments.length === 0\">Amending text</v-btn>\n        </template>\n\n        <DraftAmendingText :changeset=\"changeset\" @closed=\"amendmentTextDialog = false\" />\n      </v-dialog>\n    </v-sheet>\n\n    <div class=\"pa-3\">\n      <v-dialog\n        width=\"700\"\n        v-model=\"amendmentsDialog\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn v-bind=\"attrs\" v-on=\"on\" color=\"primary\" block>\n            Add draft amendment\n          </v-btn>\n        </template>\n\n        <v-card class=\"grey lighten-3\">\n          <v-card-title>Add amendment</v-card-title>\n\n          <v-card-text class=\"mt-5\">\n            <v-alert type=\"info\">\n              In a real system, amendments could be drafted on the fly or pre-prepared as below.\n            </v-alert>\n          </v-card-text>\n\n          <v-expansion-panels class=\"px-3 pb-5\">\n            <v-expansion-panel v-for=\"amendment in available\" :key=\"amendment.id\">\n              <v-expansion-panel-header>{{ amendment.title }}</v-expansion-panel-header>\n              <v-expansion-panel-content>\n                <v-btn @click=\"addAmendment(amendment)\">Add draft amendment</v-btn>\n              </v-expansion-panel-content>\n            </v-expansion-panel>\n          </v-expansion-panels>\n\n          <v-divider />\n          <v-card-actions>\n            <v-spacer />\n            <v-btn text color=\"primary\" @click=\"amendmentsDialog = false\">Close</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n\n    <v-expansion-panels focusable class=\"px-3 pt-3\" v-model=\"expanded\">\n      <v-expansion-panel v-for=\"(amendment, ix) in sortedAmendments\" :key=\"ix\">\n        <v-expansion-panel-header>{{ amendment.title }}</v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <AmendmentPanel :amendment=\"amendment\" :changeset=\"changeset\" @removed=\"removeAmendment\" />\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n    </v-expansion-panels>\n  </div>\n</template>\n\n<script>\nimport { amendments } from '@/data/amendments';\nimport DraftAmendingText from './DraftAmendingText';\nimport AmendmentPanel from './AmendmentPanel';\nimport { chrome } from '@/data/chrome';\n\nexport default {\n  name: 'ChangesetSidebar',\n  components: { DraftAmendingText, AmendmentPanel },\n  props: ['changeset'],\n  data: () => ({\n    amendmentsDialog: false,\n    amendmentTextDialog: false,\n    expanded: [],\n    amendments: amendments,\n    chrome\n  }),\n  computed: {\n    available () {\n      return amendments.filter((a) => !this.changeset.expression.appliedAmendments.some(x => x.id === a.id));\n    },\n    sortedAmendments () {\n      // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n      return this.changeset.expression.appliedAmendments.sort((a, b) => {\n        const toc = this.changeset.expression.expression.toc;\n\n        // sorty by TOC entry order\n        const tocA = toc.closestTocEntryForId(a.elementId || a.afterElementId);\n        const tocB = toc.closestTocEntryForId(b.elementId || b.afterElementId);\n        return tocA.sortKey - tocB.sortKey;\n      });\n    }\n  },\n  watch: {\n    expanded (index) {\n      if (index !== undefined) {\n        // bring the selected value into view\n        this.$emit('selected', this.changeset.expression.appliedAmendments[index]);\n      }\n    }\n  },\n  methods: {\n    addAmendment (amendment) {\n      this.changeset.expression.addAmendment(amendment);\n      this.amendmentsDialog = false;\n    },\n    removeAmendment (amendment) {\n      this.changeset.expression.removeAmendment(amendment);\n      this.expanded = null;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangesetSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangesetSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangesetSidebar.vue?vue&type=template&id=185fa0c7&\"\nimport script from \"./ChangesetSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangesetSidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VDivider,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VForm,VIcon,VRadio,VRadioGroup,VSheet,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"primary-document-container\"},[_c('article',{staticClass:\"akoma-ntoso primary-document\"},[_c('div',{ref:\"container\",staticClass:\"limit-document-width\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"primary-document-container\">\n    <article class=\"akoma-ntoso primary-document\">\n      <div class=\"limit-document-width\" ref=\"container\"></div>\n    </article>\n  </div>\n</template>\n\n<script>\nimport { chrome } from '@/data/chrome';\n\nexport default {\n  name: 'ChangesetContent',\n  props: ['changeset', 'expression'],\n  data: () => ({\n    chrome\n  }),\n  mounted () {\n    this.insertAkn();\n  },\n  methods: {\n    insertAkn () {\n      this.$refs.container.innerHTML = '';\n      this.$refs.container.appendChild(this.expression.element.cloneNode(true));\n      this.displayDiffs();\n    },\n    displayDiffs () {\n      for (const amendment of this.expression.appliedAmendments) {\n        this.displayDiff(amendment);\n      }\n    },\n    displayDiff (amendment) {\n      const element = amendment.getAmendedElement(this.$refs.container);\n      if (element) {\n        // remove the updated element and put our diff in place instead\n        const diff = document.createElement('div');\n        diff.className = 'diffset changeset';\n\n        const prev = this.changeset.parent ? this.changeset.parent.expression.appliedAmendments.find(a => a.id === amendment.id) : null;\n\n        if (this.chrome.diffPrevious && prev) {\n          // diff against the previous changeset\n          amendment.diffAmendment(prev).then((html) => {\n            diff.innerHTML = html;\n          });\n        } else {\n          this.expression.diffAmendment(amendment).then((html) => {\n            diff.innerHTML = html;\n          });\n        }\n\n        element.insertAdjacentElement('afterend', diff);\n        element.remove();\n      }\n    },\n    scrollToAmendment (amendment) {\n      const ref = amendment.getAmendedElement(this.$refs.container);\n      if (ref) {\n        this.$vuetify.goTo(ref, {\n          offset: 150\n        });\n      }\n    }\n  },\n  watch: {\n    'expression.element': function () {\n      this.insertAkn();\n    },\n    'chrome.diffPrevious': function () {\n      this.insertAkn();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangesetContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangesetContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangesetContent.vue?vue&type=template&id=e82f9d42&\"\nimport script from \"./ChangesetContent.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangesetContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"akn-doc\",attrs:{\"data-name\":\"appendix\"}},[_c('span',{staticClass:\"akn-mainBody\"},[_c('h2',[_vm._v(\"DRAFT AMENDMENTS TO MARPOL ANNEX VI\")]),_vm._l((_vm.details),function(entry,ix){return _c('section',{key:ix,staticClass:\"akn-part\",attrs:{\"id\":entry.toc.id}},[_c('h2',{staticClass:\"akn-heading\"},[_c('span',{staticClass:\"akn-heading--prefix\"},[_vm._v(_vm._s(entry.headingPrefix))]),_c('span',{staticClass:\"akn-heading--suffix\"},[_vm._v(_vm._s(entry.headingSuffix))])]),_vm._l((entry.amendments),function(amendment,a){return _c('section',{key:a,staticClass:\"akn-paragraph\",attrs:{\"id\":((entry.toc.id) + \"__para__\" + (amendment.num))}},[_c('span',{staticClass:\"akn-num\"},[_vm._v(_vm._s(amendment.num))]),_c('span',{staticClass:\"akn-content\"},[_c('span',{staticClass:\"akn-p\"},[_vm._v(\" \"+_vm._s(amendment.description)+\": \"),_c('div',{staticClass:\"akn-quotedStructure\",attrs:{\"id\":amendment.key}},[_c('span',{staticClass:\"akn-quotedStructure--startQuote\"},[_vm._v(\"\\\"\")]),_c('div',{domProps:{\"innerHTML\":_vm._s(amendment.html_diff)}})])])])])})],2)})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"akn-doc\" data-name=\"appendix\">\n    <span class=\"akn-mainBody\">\n      <h2>DRAFT AMENDMENTS TO MARPOL ANNEX VI</h2>\n\n      <section v-for=\"(entry, ix) in details\" class=\"akn-part\" :key=\"ix\" :id=\"entry.toc.id\">\n        <h2 class=\"akn-heading\">\n          <span class=\"akn-heading--prefix\">{{ entry.headingPrefix }}</span>\n          <span class=\"akn-heading--suffix\">{{ entry.headingSuffix }}</span>\n        </h2>\n        <section v-for=\"(amendment, a) in entry.amendments\" :key=\"a\" class=\"akn-paragraph\" :id=\"`${entry.toc.id}__para__${amendment.num}`\">\n          <span class=\"akn-num\">{{ amendment.num }}</span>\n          <span class=\"akn-content\">\n            <span class=\"akn-p\">\n              {{ amendment.description }}:\n\n              <div class=\"akn-quotedStructure\" :id=\"amendment.key\">\n                <span class=\"akn-quotedStructure--startQuote\">\"</span>\n                <div v-html=\"amendment.html_diff\"></div>\n              </div>\n            </span>\n          </span>\n        </section>\n      </section>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ChangesetText',\n  methods: {\n    closed () {\n      this.$emit('closed');\n    }\n  },\n  data: () => ({\n    changeset: null\n  }),\n  computed: {\n    details () {\n      // group by table of contents entry\n      const expression = this.changeset.expression;\n      const groups = new Map();\n      const expressionToc = expression.expression.toc;\n\n      for (const amendment of expression.appliedAmendments) {\n        const details = {\n          description: amendment.getDescription(expression),\n          key: amendment.getKey(),\n          // TODO: actual diff\n          html_diff: amendment.htmlForAmendingText()\n        };\n\n        const id = amendment.elementId || amendment.afterElementId;\n        const toc = expressionToc.closestMajorTocEntryForId(id);\n        if (toc) {\n          if (!groups.has(toc.id)) {\n            groups.set(toc.id, []);\n          }\n          groups.get(toc.id).push(details);\n        } else {\n          console.log('no TOC entry for ' + id);\n        }\n      }\n\n      const details = [];\n      for (const [tocId, amendments] of groups) {\n        const toc = expressionToc.itemsById.get(tocId);\n        details.push({\n          toc: toc,\n          headingPrefix: toc.type === 'part' ? `Regulation ${toc.num}` : '',\n          headingSuffix: toc.type === 'part' ? toc.heading : toc.title,\n          amendments: amendments\n        });\n      }\n\n      details.sort((a, b) => a.toc.sortKey - b.toc.sortKey);\n\n      // give them numbers\n      let n = 1;\n      for (const d of details) {\n        for (const a of d.amendments) {\n          a.num = n;\n          ++n;\n        }\n      }\n\n      return details;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangesetText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangesetText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangesetText.vue?vue&type=template&id=15dcba56&\"\nimport script from \"./ChangesetText.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangesetText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { DateTime } from 'luxon';\nimport Vue from 'vue';\nimport ChangesetText from '@/components/ChangesetText';\n\nconst ChangesetTextGenerator = Vue.extend(ChangesetText);\n\nclass Changeset {\n  constructor (id, date, parent, expression) {\n    this.id = id;\n    this.date = date;\n    this.parent = parent;\n    this.expression = expression;\n  }\n\n  generateAmendmentHtml () {\n    // Use Vue to generate the AKN HTML for this changeset\n    const generator = new ChangesetTextGenerator();\n    generator.changeset = this;\n    generator.$mount();\n    return generator.$el.cloneNode(true);\n  }\n}\n\nlet _id = 0;\nexport const changesets = [];\nexport function newChangeset (original) {\n  const today = DateTime.now();\n\n  const chg = new Changeset(\n    _id++,\n    today.toISODate(),\n    original,\n    original ? original.expression.clone() : null\n  );\n  changesets.push(chg);\n  return chg;\n}\n\nexport function deleteChangeset (changeset) {\n  changesets.splice(changesets.indexOf(changeset), 1);\n}\n","<template>\n  <div>\n    <v-navigation-drawer clipped app right color=\"grey lighten-3\">\n      <ChangesetSidebar :changeset=\"changeset\" @selected=\"scrollToAmendment\"/>\n    </v-navigation-drawer>\n\n    <v-container fluid>\n      <ChangesetContent ref=\"content\" :changeset=\"changeset\" :expression=\"changeset.expression\" />\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport './akomantoso.scss';\nimport ChangesetSidebar from '@/components/ChangesetSidebar';\nimport ChangesetContent from '@/components/ChangesetContent';\nimport { changesets } from '@/data/changesets';\n\nexport default {\n  name: 'Amendments',\n  components: { ChangesetContent, ChangesetSidebar },\n  computed: {\n    changeset () {\n      return changesets.find(c => c.id.toString() === this.$route.params.id);\n    }\n  },\n  methods: {\n    scrollToAmendment (amendment) {\n      if (amendment) {\n        this.$refs.content.scrollToAmendment(amendment);\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Changeset.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Changeset.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Changeset.vue?vue&type=template&id=0674519d&\"\nimport script from \"./Changeset.vue?vue&type=script&lang=js&\"\nexport * from \"./Changeset.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\ninstallComponents(component, {VContainer,VNavigationDrawer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('h2',{staticClass:\"mb-3\"},[_vm._v(\"Draft amendments to MARPOL Annex VI\")]),_c('p',[_vm._v(\"This demo mimics the process of preparing draft amendments during meetings, and applying multiple evolving amendments to the principal text.\")]),_c('p',[_vm._v(\"It shows three iterations of draft amendments relating to fuel oil sampling and testing, made between 2018 and 2019:\")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-simple-table',{staticClass:\"mb-4\",attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',[_c('tr',[_c('th',[_vm._v(\"Date\")]),_c('th',[_vm._v(\"Version\")])]),_c('tr',[_c('td',[_vm._v(\"2018-07-18\")]),_c('td',[_vm._v(\"Original submission to PPR 6\")])]),_c('tr',[_c('td',[_vm._v(\"2019-03-26\")]),_c('td',[_vm._v(\"Outcomes of the discussions at PPR 6\")])]),_c('tr',[_c('td',[_vm._v(\"2019-07-07\")]),_c('td',[_vm._v(\"Outcomes of the discussions at MEPC 74/18\")])])])]},proxy:true}])})],1)],1),_c('h3',{staticClass:\"mt-6 mb-3\"},[_vm._v(\"What to look for\")]),_c('ol',[_c('li',[_vm._v(\"Click on an amendment to view the changes.\")]),_c('li',[_vm._v(\"Changes can be compared with the principal text, or the previous amendment.\")]),_c('li',[_vm._v(\"The draft \"),_c('b',[_vm._v(\"amending text\")]),_vm._v(\" is generated automatically.\")]),_c('li',[_vm._v(\"Add or change amendments to see it in action.\")])]),_c('h2',{staticClass:\"mt-12\"},[_vm._v(\"Draft amendments\")]),_c('v-timeline',{staticClass:\"mt-3\"},[_vm._l((_vm.sortedChangesets),function(chg){return _c('v-timeline-item',{key:chg.id,attrs:{\"color\":\"orange lighten-2\",\"small\":\"\",\"left\":\"\",\"fill-dot\":\"\"},scopedSlots:_vm._u([{key:\"opposite\",fn:function(){return [_vm._v(_vm._s(chg.date))]},proxy:true}],null,true)},[_c('v-card',{attrs:{\"color\":\"orange lighten-4\"}},[_c('v-card-title',[_c('router-link',{attrs:{\"to\":(\"/changesets/\" + (chg.id))}},[_vm._v(_vm._s(chg.doc_id || \"No title\"))]),_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.deleteChangeset(chg)}}},[_vm._v(\"Delete\")])],1),_c('v-card-text',[_vm._v(_vm._s(chg.expression.appliedAmendments.length)+\" changes\")]),_c('v-card-actions',[_c('v-dialog',{attrs:{\"width\":\"1024\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({},'v-btn',attrs,false),on),[_vm._v(\"Amending text\")])]}}],null,true),model:{value:(_vm.amendmentTextDialog[chg.id]),callback:function ($$v) {_vm.$set(_vm.amendmentTextDialog, chg.id, $$v)},expression:\"amendmentTextDialog[chg.id]\"}},[_c('DraftAmendingText',{attrs:{\"changeset\":chg},on:{\"closed\":function($event){_vm.amendmentTextDialog[chg.id] = false}}})],1),_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.addChangeset(chg)}}},[_vm._v(\"Create copy\")])],1)],1)],1)}),(_vm.changesets.length === 0)?_c('v-timeline-item',{staticClass:\"mb-6\",attrs:{\"left\":\"\",\"small\":\"\",\"fill-dot\":\"\",\"color\":\"blue lighten-2\"}},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.addChangeset()}}},[_vm._v(\"Add draft changes\")])],1):_vm._e(),_c('v-timeline-item',{staticClass:\"mt-12\",attrs:{\"color\":\"green lighten-2\",\"fill-dot\":\"\",\"right\":\"\"}},[_c('h3',[_vm._v(_vm._s(_vm.expression.expression_date))]),_vm._v(\" \"+_vm._s(_vm.expression.title)+\" \")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <h2 class=\"mb-3\">Draft amendments to MARPOL Annex VI</h2>\n\n    <p>This demo mimics the process of preparing draft amendments during meetings, and applying multiple evolving amendments to the principal text.</p>\n\n    <p>It shows three iterations of draft amendments relating to fuel oil sampling and testing, made between 2018 and 2019:</p>\n\n    <v-row>\n      <v-col cols=\"12\" md=\"6\">\n        <v-simple-table dense class=\"mb-4\">\n          <template v-slot:default>\n            <tbody>\n              <tr>\n                <th>Date</th>\n                <th>Version</th>\n              </tr>\n              <tr>\n                <td>2018-07-18</td>\n                <td>Original submission to PPR 6</td>\n              </tr>\n              <tr>\n                <td>2019-03-26</td>\n                <td>Outcomes of the discussions at PPR 6</td>\n              </tr>\n              <tr>\n                <td>2019-07-07</td>\n                <td>Outcomes of the discussions at MEPC 74/18</td>\n              </tr>\n            </tbody>\n          </template>\n        </v-simple-table>\n      </v-col>\n    </v-row>\n\n    <h3 class=\"mt-6 mb-3\">What to look for</h3>\n\n    <ol>\n      <li>Click on an amendment to view the changes.</li>\n      <li>Changes can be compared with the principal text, or the previous amendment.</li>\n      <li>The draft <b>amending text</b> is generated automatically.</li>\n      <li>Add or change amendments to see it in action.</li>\n    </ol>\n\n    <h2 class=\"mt-12\">Draft amendments</h2>\n\n    <v-timeline class=\"mt-3\">\n      <v-timeline-item\n        v-for=\"chg in sortedChangesets\"\n        :key=\"chg.id\"\n        color=\"orange lighten-2\"\n        small\n        left\n        fill-dot\n      >\n        <template v-slot:opposite>{{chg.date}}</template>\n        <v-card color=\"orange lighten-4\">\n          <v-card-title>\n            <router-link :to=\"`/changesets/${chg.id}`\">{{ chg.doc_id || \"No title\" }}</router-link>\n            <v-spacer />\n            <v-btn text color=\"red\" @click=\"deleteChangeset(chg)\">Delete</v-btn>\n          </v-card-title>\n          <v-card-text>{{ chg.expression.appliedAmendments.length }} changes</v-card-text>\n          <v-card-actions>\n            <v-dialog width=\"1024\" v-model=\"amendmentTextDialog[chg.id]\">\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn v-bind=\"attrs\" v-on=\"on\">Amending text</v-btn>\n              </template>\n\n              <DraftAmendingText :changeset=\"chg\" @closed=\"amendmentTextDialog[chg.id] = false\" />\n            </v-dialog>\n\n            <v-spacer />\n            <v-btn outlined @click=\"addChangeset(chg)\">Create copy</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-timeline-item>\n\n      <v-timeline-item\n        v-if=\"changesets.length === 0\"\n        left\n        small\n        fill-dot\n        color=\"blue lighten-2\"\n        class=\"mb-6\"\n      >\n        <v-btn color=\"primary\" @click=\"addChangeset()\">Add draft changes</v-btn>\n      </v-timeline-item>\n\n      <v-timeline-item\n        color=\"green lighten-2\"\n        class=\"mt-12\"\n        fill-dot\n        right\n      >\n        <h3>{{ expression.expression_date}}</h3>\n            {{ expression.title }}\n      </v-timeline-item>\n\n    </v-timeline>\n  </v-container>\n</template>\n\n<script>\nimport { Marpol } from '@/data/marpol';\nimport { AmendableExpression, amendments, variants } from '@/data/amendments';\nimport { changesets, newChangeset, deleteChangeset } from '@/data/changesets';\nimport DraftAmendingText from '@/components/DraftAmendingText';\nimport router from '@/router';\n\n// setup the pre-prepped series of changesets for the Fuel oil amendments\nconst expression = Marpol.expressions.find(e => e.expression_date === '2018-03-01');\n\n// As submitted to PPR 6 (based on PPR 6/8)\nlet chg = newChangeset();\nchg.date = '2018-07-18';\nchg.doc_id = 'Submitted to PPR 6';\nchg.expression = new AmendableExpression(expression);\nchg.expression.addAmendment(amendments.find(a => a.id === 1));\nchg.expression.addAmendment(amendments.find(a => a.id === 2));\n\n// Outcome of PPR 6 (based on PPR 6/WP.5)\nchg = newChangeset(chg);\nchg.date = '2019-03-26';\nchg.doc_id = 'PPR 6/20/Add.1';\nchg.expression.appliedAmendments.find(a => a.id === 1).setVariant(variants.get('1.1'));\nchg.expression.appliedAmendments.find(a => a.id === 2).setVariant(variants.get('2.1'));\nchg.expression.addAmendment(amendments.find(a => a.id === 4));\n\n// Outcome of MEPC 74\nchg = newChangeset(chg);\nchg.date = '2019-07-17';\nchg.doc_id = 'MEPC 74/18';\nchg.expression.appliedAmendments.find(a => a.id === 2).setVariant(variants.get('2.2'));\nchg.expression.addAmendment(amendments.find(a => a.id === 5));\n\nexport default {\n  name: 'Changesets',\n  components: { DraftAmendingText },\n  data: () => ({\n    expression,\n    changesets,\n    amendmentTextDialog: {}\n  }),\n  computed: {\n    sortedChangesets () {\n      return [...this.changesets].sort((a, b) => b.date.localeCompare(a.date));\n    }\n  },\n  methods: {\n    addChangeset (original) {\n      const chg = newChangeset(original);\n      if (!chg.expression) chg.expression = new AmendableExpression(Marpol.latest_expression);\n      router.push('/changesets/' + chg.id);\n    },\n    deleteChangeset (chg) {\n      deleteChangeset(chg);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Changesets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Changesets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Changesets.vue?vue&type=template&id=4209a89b&\"\nimport script from \"./Changesets.vue?vue&type=script&lang=js&\"\nexport * from \"./Changesets.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTimeline } from 'vuetify/lib/components/VTimeline';\nimport { VTimelineItem } from 'vuetify/lib/components/VTimeline';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VRow,VSimpleTable,VSpacer,VTimeline,VTimelineItem})\n","import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Home from '../views/Home.vue';\nimport Instrument from '../views/Instrument.vue';\nimport History from '../views/History.vue';\nimport Login from '../views/Login.vue';\nimport Changeset from '../views/Changeset.vue';\nimport Changesets from '../views/Changesets.vue';\nimport { chrome } from '../data/chrome';\nimport { lastPath } from '../data/lastPath';\nimport { Marpol } from '../data/marpol';\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n    meta: {\n      requiresAuth: true\n    }\n  },\n  {\n    path: '/instrument',\n    redirect: '/instrument' + Marpol.latest_expression.expression_frbr_uri\n  },\n  {\n    path: '/instrument/:frbr_uri+',\n    name: 'Instrument',\n    component: Instrument,\n    meta: {\n      requiresAuth: true,\n      guide: 'reading'\n    }\n  },\n  {\n    path: '/history',\n    name: 'History',\n    component: History,\n    meta: {\n      requiresAuth: true,\n      guide: 'reading'\n    }\n  },\n  {\n    path: '/changesets',\n    name: 'Draft changes',\n    component: Changesets,\n    meta: {\n      requiresAuth: true,\n      guide: 'amending'\n    }\n  },\n  {\n    path: '/changesets/:id',\n    name: 'Draft change',\n    component: Changeset,\n    meta: {\n      requiresAuth: true,\n      guide: 'amending'\n    }\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login,\n    meta: {\n      guest: true\n    }\n  }\n];\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes,\n  scrollBehavior (to, from, savedPositions) {\n    // don't automatically scroll to a hash position\n    return {};\n  }\n});\n\nrouter.beforeResolve((to, from, next) => {\n  // detect whether or not the drawer toggle should be shown, based on the matched component\n  const component = to.matched.length > 0 ? to.matched[0].components.default : null;\n  chrome.showDrawerToggle = !!(component ? component.showDrawerToggle : false);\n  chrome.guide = to.meta.guide;\n  next();\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (localStorage.getItem('loggedIn') == null) {\n      lastPath.setPath(to.fullPath);\n      next({\n        path: '/login',\n        params: { nextUrl: to.fullPath }\n      });\n    } else next();\n  } else if (to.matched.some(record => record.meta.guest)) {\n    if (localStorage.getItem('loggedIn') == null) {\n      next();\n    } else {\n      next({ name: 'Home' });\n    }\n  } else next();\n});\n\nexport default router;\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport vuetify from './plugins/vuetify';\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  vuetify,\n  render: h => h(App),\n  created () {\n    if (sessionStorage.redirect) {\n      // This is set by 404.html when GitHub pages serves a site directly from a full URL. Fetch, delete and redirect.\n      const redirect = sessionStorage.redirect;\n      delete sessionStorage.redirect;\n      this.$router.push(redirect);\n    }\n  }\n}).$mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TOCMenu.vue?vue&type=style&index=0&id=44b78d86&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=f0c062e8&scoped=true&lang=css&\""],"sourceRoot":""}